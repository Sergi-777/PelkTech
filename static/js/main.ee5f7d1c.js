/*! For license information please see main.ee5f7d1c.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),i=n(43),a=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var O=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===O?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case x:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case E:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return P(e(t))}catch(on){}}return null}var D=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=M[F],M[F]=null,F--)}function V(e,t){F++,M[F]=e.current,e.current=t}var B=z(null),H=z(null),q=z(null),W=z(null);function K(e,t){switch(V(q,t),V(H,e),V(B,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(B),V(B,e)}function G(){U(B),U(H),U(q)}function Q(e){null!==e.memoizedState&&V(W,e);var t=B.current,n=od(t,e.type);t!==n&&(V(H,e),V(B,n))}function Y(e){H.current===e&&(U(B),U(H)),W.current===e&&(U(W),Yd._currentValue=L)}var X=Object.prototype.hasOwnProperty,$=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,oe=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ve=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?i=ye(r):0!==(o&=s)?i=ye(o):n||0!==(n=s&~e)&&(i=ye(n)):0!==(s=r&~a)?i=ye(s):0!==o?i=ye(o):n||0!==(n=r&~e)&&(i=ye(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ee(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function _e(){var e=ve;return 0===(62914560&(ve<<=1))&&(ve=4194304),e}function xe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ke(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:uh(e.type)}var Oe=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Oe,De="__reactProps$"+Oe,Re="__reactContainer$"+Oe,je="__reactEvents$"+Oe,Le="__reactListeners$"+Oe,Me="__reactHandles$"+Oe,Fe="__reactResources$"+Oe,ze="__reactMarker$"+Oe;function Ue(e){delete e[Pe],delete e[De],delete e[je],delete e[Le],delete e[Me]}function Ve(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[Pe])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Be(e){if(e=e[Pe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function He(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function qe(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ze]=!0}var Ke=new Set,Ge={};function Qe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for(Ge[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Xe,$e,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,X.call(et,i)||!X.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Xe)try{throw Error()}catch(on){var t=on.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",$e=-1<on.stack.indexOf("\n    at")?" (<anonymous>)":-1<on.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+$e}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(on){var r=on}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var l=o.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(on){return"\nError generating stack: "+on.message+"\n"+on.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?yt(e,o,ct(t)):null!=n?yt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function vt(e,t,n,r,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(D(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&xt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&xt(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Dt=null;function Rt(e){var t=Be(e);if(t&&(e=t.stateNode)){var n=e[De]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[De]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ht(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var jt=!1;function Lt(e,t,n){if(jt)return e(t,n);jt=!0;try{return e(t)}finally{if(jt=!1,(null!==Pt||null!==Dt)&&(Bc(),Pt&&(t=Pt,e=Dt,Dt=Pt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Mt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[De]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ft=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(Ft)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Rh){zt=!1}var Vt=null,Bt=null,Ht=null;function qt(){if(Ht)return Ht;var e,t,n=Bt,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Ht=i.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Gt(){return!1}function Qt(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Kt:Gt,this.isPropagationStopped=Gt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Yt,Xt,$t,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Qt(Jt),en=h({},Jt,{view:0,detail:0}),tn=Qt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$t&&($t&&"mousemove"===e.type?(Yt=e.screenX-$t.screenX,Xt=e.screenY-$t.screenY):Xt=Yt=0,$t=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=Qt(nn),an=Qt(h({},nn,{dataTransfer:0})),sn=Qt(h({},en,{relatedTarget:0})),ln=Qt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),cn=Qt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Qt(h({},Jt,{data:0})),dn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function mn(){return pn}var gn=Qt(h({},en,{key:function(e){if(e.key){var t=dn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Qt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Qt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn})),bn=Qt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Qt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=Qt(h({},Jt,{newState:0,oldState:0})),Sn=[9,13,27,32],_n=Ft&&"CompositionEvent"in window,xn=null;Ft&&"documentMode"in document&&(xn=document.documentMode);var kn=Ft&&"TextEvent"in window&&!xn,Tn=Ft&&(!_n||xn&&8<xn&&11>=xn),Cn=String.fromCharCode(32),In=!1;function Nn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function An(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var On=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Rn(e,t,n,r){Pt?Dt?Dt.push(r):Dt=[r]:Pt=r,0<(t=Wu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jn=null,Ln=null;function Mn(e){Mu(e,0)}function Fn(e){if(ht(He(e)))return e}function zn(e,t){if("change"===e)return t}var Un=!1;if(Ft){var Vn;if(Ft){var Bn="oninput"in document;if(!Bn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Bn="function"===typeof Hn.oninput}Vn=Bn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function qn(){jn&&(jn.detachEvent("onpropertychange",Wn),Ln=jn=null)}function Wn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Rn(t,Ln,e,Ot(e)),Lt(Mn,t)}}function Kn(e,t,n){"focusin"===e?(qn(),Ln=n,(jn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&qn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function Qn(e,t){if("click"===e)return Fn(t)}function Yn(e,t){if("input"===e||"change"===e)return Fn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function $n(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!X.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function er(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?er(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function tr(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function nr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var rr=Ft&&"documentMode"in document&&11>=document.documentMode,ir=null,ar=null,or=null,sr=!1;function lr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;sr||null==ir||ir!==ft(r)||("selectionStart"in(r=ir)&&nr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&$n(or,r)||(or=r,0<(r=Wu(ar,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionrun:cr("Transition","TransitionRun"),transitionstart:cr("Transition","TransitionStart"),transitioncancel:cr("Transition","TransitionCancel"),transitionend:cr("Transition","TransitionEnd")},dr={},hr={};function fr(e){if(dr[e])return dr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return dr[e]=n[t];return e}Ft&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var pr=fr("animationend"),mr=fr("animationiteration"),gr=fr("animationstart"),vr=fr("transitionrun"),yr=fr("transitionstart"),br=fr("transitioncancel"),wr=fr("transitionend"),Er=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Er.set(e,t),Qe(t,[e])}Sr.push("scrollEnd");var xr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=xr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},xr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],Cr=0,Ir=0;function Nr(){for(var e=Cr,t=Ir=Cr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==a&&Dr(n,i,a)}}function Ar(e,t,n,r){Tr[Cr++]=e,Tr[Cr++]=t,Tr[Cr++]=n,Tr[Cr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Or(e,t,n,r){return Ar(e,t,n,r),Rr(e)}function Pr(e,t){return Ar(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Rr(e){if(50<Dc)throw Dc=0,Rc=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Mr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,a){var s=0;if(r=e,"function"===typeof e)Fr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,B.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Mr(31,n,t,i)).elementType=C,e.lanes=a,e;case g:return Br(n.children,i,a,t);case v:s=8,i|=24;break;case y:return(e=Mr(12,n,t,2|i)).elementType=y,e.lanes=a,e;case _:return(e=Mr(13,n,t,i)).elementType=_,e.lanes=a,e;case x:return(e=Mr(19,n,t,i)).elementType=x,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case E:s=10;break e;case w:s=9;break e;case S:s=11;break e;case k:s=14;break e;case T:s=16,r=null;break e}s=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Mr(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Br(e,t,n,r){return(e=Mr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Mr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Mr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Kr=0,Gr=null,Qr=0,Yr=[],Xr=0,$r=null,Jr=1,Zr="";function ei(e,t){Wr[Kr++]=Qr,Wr[Kr++]=Gr,Gr=e,Qr=t}function ti(e,t,n){Yr[Xr++]=Jr,Yr[Xr++]=Zr,Yr[Xr++]=$r,$r=e;var r=Jr;e=Zr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var a=32-fe(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-fe(t)+i|n<<i|r,Zr=a+e}else Jr=1<<a|n<<i|r,Zr=e}function ni(e){null!==e.return&&(ei(e,1),ti(e,1,0))}function ri(e){for(;e===Gr;)Gr=Wr[--Kr],Wr[Kr]=null,Qr=Wr[--Kr],Wr[Kr]=null;for(;e===$r;)$r=Yr[--Xr],Yr[Xr]=null,Zr=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null}var ii=null,ai=null,oi=!1,si=null,li=!1,ci=Error(o(519));function ui(e){throw gi(kr(Error(o(418,"")),e)),ci}function di(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[De]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<ju.length;n++)Fu(ju[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),Et(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||$u(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ui(e)}function hi(e){for(ii=e.return;ii;)switch(ii.tag){case 5:case 13:return void(li=!1);case 27:case 3:return void(li=!0);default:ii=ii.return}}function fi(e){if(e!==ii)return!1;if(!oi)return hi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&ai&&ui(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ai=yd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ai=null}}else 27===n?(n=ai,pd(e.type)?(e=bd,bd=null,ai=e):ai=n):ai=ii?yd(e.stateNode.nextSibling):null;return!0}function pi(){ai=ii=null,oi=!1}function mi(){var e=si;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),si=null),e}function gi(e){null===si?si=[e]:si.push(e)}var vi=z(null),yi=null,bi=null;function wi(e,t,n){V(vi,t._currentValue),t._currentValue=n}function Ei(e){e._currentValue=vi.current,U(vi)}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _i(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Si(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Si(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function xi(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===W.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}i=i.return}null!==e&&_i(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){yi=e,bi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ci(e){return Ni(yi,e)}function Ii(e,t){return null===yi&&Ti(e),Ni(e,t)}function Ni(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bi){if(null===e)throw Error(o(308));bi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bi=bi.next=t;return n}var Ai="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Oi=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Di={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ri(){return{controller:new Ai,data:new Map,refCount:0}}function ji(e){e.refCount--,0===e.refCount&&Oi(Pi,function(){e.controller.abort()})}var Li=null,Mi=0,Fi=0,zi=null;function Ui(){if(0===--Mi&&null!==Li){null!==zi&&(zi.status="fulfilled");var e=Li;Li=null,Fi=0,zi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Mi=0,Fi=Au(),zi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Mi++,t.then(Ui,Ui)}(0,t),null!==Vi&&Vi(e,t)};var Bi=z(null);function Hi(){var e=Bi.current;return null!==e?e:ic.pooledCache}function qi(e,t){V(Bi,null===t?Bi.current:t.pool)}function Wi(){var e=Hi();return null===e?null:{parent:Di._currentValue,pool:e}}var Ki=Error(o(460)),Gi=Error(o(474)),Qi=Error(o(542)),Yi={then:function(){}};function Xi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $i(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then($i,$i),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e;default:if("string"===typeof t.status)t.then($i,$i);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e}throw Zi=t,Ki}}var Zi=null;function ea(){if(null===Zi)throw Error(o(459));var e=Zi;return Zi=null,e}function ta(e){if(e===Ki||e===Qi)throw Error(o(483))}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&rc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Ar(e,r,t,n),Rr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ca=!1;function ua(){if(ca){if(null!==zi)throw zi}}function da(e,t,n,r){ca=!1;var i=e.updateQueue;na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(oc&f)===f:(r&f)===f){0!==f&&f===Fi&&(ca=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(v,d,f):m)||void 0===f)break e;d=h({},d,f);break e;case 2:na=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),pc|=o,e.lanes=o,e.memoizedState=d}}function ha(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ha(n[e],t)}var pa=z(null),ma=z(0);function ga(e,t){V(ma,e=hc),V(pa,t),hc=e|t.baseLanes}function va(){V(ma,hc),V(pa,pa.current)}function ya(){hc=ma.current,U(pa),U(ma)}var ba=0,wa=null,Ea=null,Sa=null,_a=!1,xa=!1,ka=!1,Ta=0,Ca=0,Ia=null,Na=0;function Aa(){throw Error(o(321))}function Oa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Pa(e,t,n,r,i,a){return ba=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Go:Qo,ka=!1,a=n(r,i),ka=!1,xa&&(a=Ra(t,n,r,i)),Da(e),a}function Da(e){R.H=Ko;var t=null!==Ea&&null!==Ea.next;if(ba=0,Sa=Ea=wa=null,_a=!1,Ca=0,Ia=null,t)throw Error(o(300));null===e||Is||null!==(e=e.dependencies)&&ki(e)&&(Is=!0)}function Ra(e,t,n,r){wa=e;var i=0;do{if(xa&&(Ia=null),Ca=0,xa=!1,25<=i)throw Error(o(301));if(i+=1,Sa=Ea=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=Yo,a=t(n,r)}while(xa);return a}function ja(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Va(t):t,e=e.useState()[0],(null!==Ea?Ea.memoizedState:null)!==e&&(wa.flags|=1024),t}function La(){var e=0!==Ta;return Ta=0,e}function Ma(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fa(e){if(_a){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}_a=!1}ba=0,Sa=Ea=wa=null,xa=!1,Ca=Ta=0,Ia=null}function za(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sa?wa.memoizedState=Sa=e:Sa=Sa.next=e,Sa}function Ua(){if(null===Ea){var e=wa.alternate;e=null!==e?e.memoizedState:null}else e=Ea.next;var t=null===Sa?wa.memoizedState:Sa.next;if(null!==t)Sa=t,Ea=e;else{if(null===e){if(null===wa.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(Ea=e).memoizedState,baseState:Ea.baseState,baseQueue:Ea.baseQueue,queue:Ea.queue,next:null},null===Sa?wa.memoizedState=Sa=e:Sa=Sa.next=e}return Sa}function Va(e){var t=Ca;return Ca+=1,null===Ia&&(Ia=[]),e=Ji(Ia,e,t),t=wa,null===(null===Sa?t.memoizedState:Sa.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Go:Qo),e}function Ba(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Va(e);if(e.$$typeof===E)return Ci(e)}throw Error(o(438,String(e)))}function Ha(e){var t=null,n=wa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function qa(e,t){return"function"===typeof t?t(e):t}function Wa(e){return Ka(Ua(),Ea,e)}function Ka(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=s=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(ba&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fi&&(d=!0);else{if((ba&f)===f){u=u.next,f===Fi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,wa.lanes|=f,pc|=f}h=u.action,ka&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,s=a):c=c.next=f,wa.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?s=a:c.next=l,!Xn(a,e.memoizedState)&&(Is=!0,d&&null!==(n=zi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ga(e){var t=Ua(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Xn(a,t.memoizedState)||(Is=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Qa(e,t,n){var r=wa,i=Ua(),a=oi;if(a){if(void 0===n)throw Error(o(407));n=n()}else n=t();var s=!Xn((Ea||i).memoizedState,n);if(s&&(i.memoizedState=n,Is=!0),i=i.queue,yo(2048,8,$a.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==Sa&&1&Sa.memoizedState.tag){if(r.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,i,n,t),null),null===ic)throw Error(o(349));a||0!==(124&ba)||Ya(r,t,n)}return n}function Ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xa(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&Za(e)}function $a(e,t,n){return n(function(){Ja(t)&&Za(e)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Za(e){var t=Pr(e,2);null!==t&&Mc(t,e,2)}function eo(e){var t=za();if("function"===typeof e){var n=e;if(e=n(),ka){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function to(e,t,n,r){return e.baseState=n,Ka(e,Ea,"function"===typeof r?r:qa)}function no(e,t,n,r,i){if(Ho(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ro(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ro(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=R.T,o={};R.T=o;try{var s=n(i,r),l=R.S;null!==l&&l(o,s),io(e,t,s)}catch(c){oo(e,t,c)}finally{R.T=a}}else try{io(e,t,a=n(i,r))}catch(u){oo(e,t,u)}}function io(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ao(e,t,n)},function(n){return oo(e,t,n)}):ao(e,t,n)}function ao(e,t,n){t.status="fulfilled",t.value=n,so(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ro(e,n)))}function oo(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,so(t),t=t.next}while(t!==r)}e.action=null}function so(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lo(e,t){return t}function co(e,t){if(oi){var n=ic.formState;if(null!==n){e:{var r=wa;if(oi){if(ai){t:{for(var i=ai,a=li;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=yd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ai=yd(i.nextSibling),r="F!"===i.data;break e}}ui(r)}r=!1}r&&(t=n[0])}}return(n=za()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:t},n.queue=r,n=Uo.bind(null,wa,r),r.dispatch=n,r=eo(!1),a=Bo.bind(null,wa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=za()).queue=i,n=no.bind(null,wa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function uo(e){return ho(Ua(),Ea,e)}function ho(e,t,n){if(t=Ka(e,t,lo)[0],e=Wa(qa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Va(t)}catch(on){if(on===Ki)throw Qi;throw on}else r=t;var i=(t=Ua()).queue,a=i.dispatch;return n!==t.memoizedState&&(wa.flags|=2048,mo(9,{destroy:void 0,resource:void 0},fo.bind(null,i,n),null)),[r,a,e]}function fo(e,t){e.action=t}function po(e){var t=Ua(),n=Ea;if(null!==n)return ho(t,n,e);Ua(),t=t.memoizedState;var r=(n=Ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function mo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(){return Ua().memoizedState}function vo(e,t,n,r){var i=za();r=void 0===r?null:r,wa.flags|=e,i.memoizedState=mo(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var i=Ua();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ea&&null!==r&&Oa(r,Ea.memoizedState.deps)?i.memoizedState=mo(t,a,n,r):(wa.flags|=e,i.memoizedState=mo(1|t,a,n,r))}function bo(e,t){vo(8390656,8,e,t)}function wo(e,t){yo(2048,8,e,t)}function Eo(e,t){return yo(4,2,e,t)}function So(e,t){return yo(4,4,e,t)}function _o(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function xo(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,_o.bind(null,t,e),n)}function ko(){}function To(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Oa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=Ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Oa(t,r[1]))return r[0];if(r=e(),ka){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r}function Io(e,t,n){return void 0===n||0!==(1073741824&ba)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),wa.lanes|=e,pc|=e,n)}function No(e,t,n,r){return Xn(n,t)?n:null!==pa.current?(e=Io(e,n,r),Xn(e,t)||(Is=!0),e):0===(42&ba)?(Is=!0,e.memoizedState=n):(e=Lc(),wa.lanes|=e,pc|=e,t)}function Ao(e,t,n,r,i){var a=j.p;j.p=0!==a&&8>a?a:8;var o=R.T,s={};R.T=s,Bo(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Vo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),jc());else Vo(e,t,r,jc())}catch(u){Vo(e,t,{then:function(){},status:"rejected",reason:u},jc())}finally{j.p=a,R.T=o}}function Oo(){}function Po(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Do(e).queue;Ao(e,i,t,L,null===n?Oo:function(){return Ro(e),n(r)})}function Do(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ro(e){Vo(e,Do(e).next.queue,{},jc())}function jo(){return Ci(Yd)}function Lo(){return Ua().memoizedState}function Mo(){return Ua().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=jc(),r=oa(t,e=aa(n),n);return null!==r&&(Mc(r,t,n),sa(r,t,n)),t={cache:Ri()},void(e.payload=t)}t=t.return}}function zo(e,t,n){var r=jc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?qo(t,n):null!==(n=Or(e,t,n,r))&&(Mc(n,e,r),Wo(n,t,r))}function Uo(e,t,n){Vo(e,t,n,jc())}function Vo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,Xn(s,o))return Ar(e,t,i,0),null===ic&&Nr(),!1}catch(l){}if(null!==(n=Or(e,t,i,r)))return Mc(n,e,r),Wo(n,t,r),!0}return!1}function Bo(e,t,n,r){if(r={lane:2,revertLane:Au(),action:r,hasEagerState:!1,eagerState:null,next:null},Ho(e)){if(t)throw Error(o(479))}else null!==(t=Or(e,n,r,2))&&Mc(t,e,2)}function Ho(e){var t=e.alternate;return e===wa||null!==t&&t===wa}function qo(e,t){xa=_a=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Ko={readContext:Ci,use:Ba,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useInsertionEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useSyncExternalStore:Aa,useId:Aa,useHostTransitionStatus:Aa,useFormState:Aa,useActionState:Aa,useOptimistic:Aa,useMemoCache:Aa,useCacheRefresh:Aa},Go={readContext:Ci,use:Ba,useCallback:function(e,t){return za().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:bo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vo(4194308,4,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4194308,4,e,t)},useInsertionEffect:function(e,t){vo(4,2,e,t)},useMemo:function(e,t){var n=za();t=void 0===t?null:t;var r=e();if(ka){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=za();if(void 0!==n){var i=n(t);if(ka){he(!0);try{n(t)}finally{he(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=zo.bind(null,wa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},za().memoizedState=e},useState:function(e){var t=(e=eo(e)).queue,n=Uo.bind(null,wa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ko,useDeferredValue:function(e,t){return Io(za(),e,t)},useTransition:function(){var e=eo(!1);return e=Ao.bind(null,wa,e.queue,!0,!1),za().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=wa,i=za();if(oi){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===ic)throw Error(o(349));0!==(124&oc)||Ya(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,bo($a.bind(null,r,a,e),[e]),r.flags|=2048,mo(9,{destroy:void 0,resource:void 0},Xa.bind(null,r,a,n,t),null),n},useId:function(){var e=za(),t=ic.identifierPrefix;if(oi){var n=Zr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Ta++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Na++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:jo,useFormState:co,useActionState:co,useOptimistic:function(e){var t=za();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Bo.bind(null,wa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ha,useCacheRefresh:function(){return za().memoizedState=Fo.bind(null,wa)}},Qo={readContext:Ci,use:Ba,useCallback:To,useContext:Ci,useEffect:wo,useImperativeHandle:xo,useInsertionEffect:Eo,useLayoutEffect:So,useMemo:Co,useReducer:Wa,useRef:go,useState:function(){return Wa(qa)},useDebugValue:ko,useDeferredValue:function(e,t){return No(Ua(),Ea.memoizedState,e,t)},useTransition:function(){var e=Wa(qa)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Qa,useId:Lo,useHostTransitionStatus:jo,useFormState:uo,useActionState:uo,useOptimistic:function(e,t){return to(Ua(),0,e,t)},useMemoCache:Ha,useCacheRefresh:Mo},Yo={readContext:Ci,use:Ba,useCallback:To,useContext:Ci,useEffect:wo,useImperativeHandle:xo,useInsertionEffect:Eo,useLayoutEffect:So,useMemo:Co,useReducer:Ga,useRef:go,useState:function(){return Ga(qa)},useDebugValue:ko,useDeferredValue:function(e,t){var n=Ua();return null===Ea?Io(n,e,t):No(n,Ea.memoizedState,e,t)},useTransition:function(){var e=Ga(qa)[0],t=Ua().memoizedState;return["boolean"===typeof e?e:Va(e),t]},useSyncExternalStore:Qa,useId:Lo,useHostTransitionStatus:jo,useFormState:po,useActionState:po,useOptimistic:function(e,t){var n=Ua();return null!==Ea?to(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ha,useCacheRefresh:Mo},Xo=null,$o=0;function Jo(e){var t=$o;return $o+=1,null===Xo&&(Xo=[]),Ji(Xo,e,t)}function Zo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function es(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ts(e){return(0,e._init)(e._payload)}function ns(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ts(a)===t.type)?(Zo(t=i(t,n.props),n),t.return=e,t):(Zo(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Br(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Zo(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case T:return h(e,t=(0,t._init)(t._payload),n)}if(D(t)||A(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Jo(t),n);if(t.$$typeof===E)return h(e,Ii(e,t),n);es(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(D(n)||A(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Jo(n),r);if(n.$$typeof===E)return f(e,t,Ii(e,n),r);es(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return v(e,t,n,r=(0,r._init)(r._payload),i)}if(D(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return v(e,t,n,Jo(r),i);if(r.$$typeof===E)return v(e,t,n,Ii(t,r),i);es(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ts(b)===c.type){n(l,c.sibling),Zo(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Br(u.props.children,l.mode,d,u.key)).return=l,l=d):(Zo(d=Vr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case m:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=qr(u,l.mode,d)).return=l,l=d}return s(l);case T:return y(l,c,u=(b=u._init)(u._payload),d)}if(D(u))return function(i,o,s,l){for(var c=null,u=null,d=o,p=o=0,m=null;null!==d&&p<s.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=f(i,d,s[p],l);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===s.length)return n(i,d),oi&&ei(i,p),c;if(null===d){for(;p<s.length;p++)null!==(d=h(i,s[p],l))&&(o=a(d,o,p),null===u?c=d:u.sibling=d,u=d);return oi&&ei(i,p),c}for(d=r(d);p<s.length;p++)null!==(m=v(d,i,p,s[p],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),o=a(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),oi&&ei(i,p),c}(l,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(o(150));return function(i,s,l,c){if(null==l)throw Error(o(151));for(var u=null,d=null,p=s,m=s=0,g=null,y=l.next();null!==p&&!y.done;m++,y=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=g);break}e&&p&&null===b.alternate&&t(i,p),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,p=g}if(y.done)return n(i,p),oi&&ei(i,m),u;if(null===p){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return oi&&ei(i,m),u}for(p=r(p);!y.done;m++,y=l.next())null!==(y=v(p,i,m,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach(function(e){return t(i,e)}),oi&&ei(i,m),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,Jo(u),d);if(u.$$typeof===E)return y(l,c,Ii(l,u),d);es(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Hr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{$o=0;var i=y(e,t,n,r);return Xo=null,i}catch(on){if(on===Ki||on===Qi)throw on;var a=Mr(29,on,null,e.mode);return a.lanes=r,a.return=e,a}}}var rs=ns(!0),is=ns(!1),as=z(null),os=null;function ss(e){var t=e.alternate;V(ds,1&ds.current),V(as,e),null===os&&(null===t||null!==pa.current||null!==t.memoizedState)&&(os=e)}function ls(e){if(22===e.tag){if(V(ds,ds.current),V(as,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else cs()}function cs(){V(ds,ds.current),V(as,as.current)}function us(e){U(as),os===e&&(os=null),U(ds)}var ds=z(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jc(),i=aa(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Mc(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jc(),i=aa(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oa(e,i,r))&&(Mc(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jc(),r=aa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oa(e,r,n))&&(Mc(t,e,n),sa(t,e,n))}};function ms(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!$n(n,r)||!$n(i,a))}function gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function vs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function bs(e){ys(e)}function ws(e){console.error(e)}function Es(e){ys(e)}function Ss(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function _s(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function xs(e,t,n){return(n=aa(n)).tag=3,n.payload={element:null},n.callback=function(){Ss(e,t)},n}function ks(e){return(e=aa(e)).tag=3,e}function Ts(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){_s(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){_s(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Cs=Error(o(461)),Is=!1;function Ns(e,t,n,r){t.child=null===e?is(t,null,n,r):rs(t,e.child,n,r)}function As(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var o={};for(var s in r)"ref"!==s&&(o[s]=r[s])}else o=r;return Ti(t),r=Pa(e,t,n,o,a,i),s=La(),null===e||Is?(oi&&s&&ni(t),t.flags|=1,Ns(e,t,r,i),t.child):(Ma(e,t,i),Xs(e,t,i))}function Os(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ps(e,t,a,r,i))}if(a=e.child,!$s(e,i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:$n)(o,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=zr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ps(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if($n(a,r)&&e.ref===t.ref){if(Is=!1,t.pendingProps=r=a,!$s(e,i))return t.lanes=e.lanes,Xs(e,t,i);0!==(131072&e.flags)&&(Is=!0)}}return Ls(e,t,n,r,i)}function Ds(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Rs(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Rs(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==a?a.cachePool:null),null!==a?ga(t,a):va(),ls(t)}else null!==a?(qi(0,a.cachePool),ga(t,a),cs(),t.memoizedState=null):(null!==e&&qi(0,null),va(),cs());return Ns(e,t,i,n),t.child}function Rs(e,t,n,r){var i=Hi();return i=null===i?null:{parent:Di._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),va(),ls(t),null!==e&&xi(e,t,r,!0),null}function js(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ls(e,t,n,r,i){return Ti(t),n=Pa(e,t,n,r,void 0,i),r=La(),null===e||Is?(oi&&r&&ni(t),t.flags|=1,Ns(e,t,n,i),t.child):(Ma(e,t,i),Xs(e,t,i))}function Ms(e,t,n,r,i,a){return Ti(t),t.updateQueue=null,n=Ra(t,r,n,i),Da(e),r=La(),null===e||Is?(oi&&r&&ni(t),t.flags|=1,Ns(e,t,n,a),t.child):(Ma(e,t,a),Xs(e,t,a))}function Fs(e,t,n,r,i){if(Ti(t),null===t.stateNode){var a=jr,o=n.contextType;"object"===typeof o&&null!==o&&(a=Ci(o)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ps,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ra(t),o=n.contextType,a.context="object"===typeof o&&null!==o?Ci(o):jr,a.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(fs(t,n,o,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&ps.enqueueReplaceState(a,a.state,null),da(t,r,a,i),ua(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=vs(n,s);a.props=l;var c=a.context,u=n.contextType;o=jr,"object"===typeof u&&null!==u&&(o=Ci(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==o)&&gs(t,a,r,o),na=!1;var h=t.memoizedState;a.state=h,da(t,r,a,i),ua(),c=t.memoizedState,s||h!==c||na?("function"===typeof d&&(fs(t,n,d,r),c=t.memoizedState),(l=na||ms(t,n,l,r,h,c,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=o,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ia(e,t),u=vs(n,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=jr,"object"===typeof c&&null!==c&&(l=Ci(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&gs(t,a,r,l),na=!1,h=t.memoizedState,a.state=h,da(t,r,a,i),ua();var f=t.memoizedState;o!==d||h!==f||na||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof s&&(fs(t,n,s,r),f=t.memoizedState),(u=na||ms(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,js(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,n,i)):Ns(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Xs(e,t,i),e}function zs(e,t,n,r){return pi(),t.flags|=256,Ns(e,t,n,r),t.child}var Us={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vs(e){return{baseLanes:e,cachePool:Wi()}}function Bs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vc),e}function Hs(e,t,n){var r,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ds.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(a?ss(t):cs(),oi){var l,c=ai;if(l=c){e:{for(l=c,c=li;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==$r?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(l=Mr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ii=t,ai=null,l=!0):l=!1}l||ui(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return vd(c)?t.lanes=32:t.lanes=536870912,null;us(t)}return c=i.children,i=i.fallback,a?(cs(),c=Ws({mode:"hidden",children:c},a=t.mode),i=Br(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Vs(n),a.childLanes=Bs(e,r,n),t.memoizedState=Us,i):(ss(t),qs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(ss(t),t.flags&=-257,t=Ks(e,t,n)):null!==t.memoizedState?(cs(),t.child=e.child,t.flags|=128,t=null):(cs(),a=i.fallback,c=t.mode,i=Ws({mode:"visible",children:i.children},c),(a=Br(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,rs(t,e.child,null,n),(i=t.child).memoizedState=Vs(n),i.childLanes=Bs(e,r,n),t.memoizedState=Us,t=a);else if(ss(t),vd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,gi({value:i,source:null,stack:null}),t=Ks(e,t,n)}else if(Is||xi(e,t,n,!1),r=0!==(n&e.childLanes),Is||r){if(null!==(r=ic)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Mc(r,e,i),Cs;"$?"===c.data||Qc(),t=Ks(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ai=yd(c.nextSibling),ii=t,oi=!0,si=null,li=!1,null!==e&&(Yr[Xr++]=Jr,Yr[Xr++]=Zr,Yr[Xr++]=$r,Jr=e.id,Zr=e.overflow,$r=t),(t=qs(t,i.children)).flags|=4096);return t}return a?(cs(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=zr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=zr(u,a):(a=Br(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Vs(n):(null!==(l=c.cachePool)?(u=Di._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wi(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=Bs(e,r,n),t.memoizedState=Us,i):(ss(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qs(e,t){return(t=Ws({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ws(e,t){return(e=Mr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ks(e,t,n){return rs(t,e.child,null,n),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Qs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ys(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ns(e,t,r.children,n),0!==(2&(r=ds.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(ds,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qs(t,!0,n,null,a);break;case"together":Qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(xi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Js(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Is=!0;else{if(!$s(e,n)&&0===(128&t.flags))return Is=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),wi(0,Di,e.memoizedState.cache),pi();break;case 27:case 5:Q(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:wi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ss(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Hs(e,t,n):(ss(t),null!==(e=Xs(e,t,n))?e.sibling:null);ss(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(xi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ys(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(ds,ds.current),r)break;return null;case 22:case 23:return t.lanes=0,Ds(e,t,n);case 24:wi(0,Di,e.memoizedState.cache)}return Xs(e,t,n)}(e,t,n);Is=0!==(131072&e.flags)}else Is=!1,oi&&0!==(1048576&t.flags)&&ti(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===S){t.tag=11,t=As(null,t,r,e,n);break e}if(i===k){t.tag=14,t=Os(null,t,r,e,n);break e}}throw t=P(r)||r,Error(o(306,t,""))}Fr(r)?(e=vs(r,e),t.tag=1,t=Fs(null,t,r,e,n)):(t.tag=0,t=Ls(null,t,r,e,n))}return t;case 0:return Ls(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,r=t.type,i=vs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ia(e,t),da(t,r,null,n);var s=t.memoizedState;if(r=s.cache,wi(0,Di,r),r!==a.cache&&_i(t,[Di],n,!0),ua(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=zs(e,t,r,n);break e}if(r!==i){gi(i=kr(Error(o(424)),t)),t=zs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ai=yd(e.firstChild),ii=t,oi=!0,si=null,li=!0,n=is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Xs(e,t,n);break e}Ns(e,t,r,n)}t=t.child}return t;case 26:return js(e,t),null===e?(n=Nd(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=id(q.current).createElement(n))[Pe]=t,r[De]=e,td(r,n,e),We(r),t.stateNode=r):t.memoizedState=Nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&oi&&(r=t.stateNode=Ed(t.type,t.pendingProps,q.current),ii=t,li=!0,i=ai,pd(t.type)?(bd=i,ai=yd(r.firstChild)):ai=i),Ns(e,t,t.pendingProps.children,n),js(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ai)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=yd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,li))?(t.stateNode=r,ii=t,ai=yd(r.firstChild),li=!1,i=!0):i=!1),i||ui(t)),Q(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,sd(i,a)?r=null:null!==s&&sd(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Pa(e,t,ja,null,null,n),Yd._currentValue=i),js(e,t),Ns(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ai)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yd(e.nextSibling)))return null}return e}(n,t.pendingProps,li))?(t.stateNode=n,ii=t,ai=null,e=!0):e=!1),e||ui(t)),null;case 13:return Hs(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=rs(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return As(e,t,t.type,t.pendingProps,n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,wi(0,t.type,r.value),Ns(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ti(t),r=r(i=Ci(i)),t.flags|=1,Ns(e,t,r,n),t.child;case 14:return Os(e,t,t.type,t.pendingProps,n);case 15:return Ps(e,t,t.type,t.pendingProps,n);case 19:return Ys(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ws(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=zr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ds(e,t,n);case 24:return Ti(t),r=Ci(Di),null===e?(null===(i=Hi())&&(i=ic,a=Ri(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},ra(t),wi(0,Di,i)):(0!==(e.lanes&n)&&(ia(e,t),da(t,null,null,n),ua()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),wi(0,Di,r)):(r=a.cache,wi(0,Di,r),r!==i.cache&&_i(t,[Di],n,!0))),Ns(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Zs(e){e.flags|=4}function el(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=as.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Zi=Yi,Gi;e.flags|=8192}}function tl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,yc|=t)}function nl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var r=t.pendingProps;switch(ri(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ei(Di),G(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fi(t)?Zs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mi())),rl(t),null;case 26:return n=t.memoizedState,null===e?(Zs(t),null!==n?(rl(t),el(t,n)):(rl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zs(t),rl(t),el(t,n)):(rl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zs(t),rl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}e=B.current,fi(t)?di(t):(e=Ed(i,r,n),t.stateNode=e,Zs(t))}return rl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return rl(t),null}if(e=B.current,fi(t))di(t);else{switch(i=id(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[De]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(td(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zs(t)}}return rl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=q.current,fi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ii))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||$u(e.nodeValue,n)))||ui(t)}else(e=id(e).createTextNode(r))[Pe]=t,t.stateNode=e}return rl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Pe]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rl(t),i=!1}else i=mi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),tl(t,t.updateQueue),rl(t),null;case 4:return G(),null===e&&Vu(t.stateNode.containerInfo),rl(t),null;case 10:return Ei(t.type),rl(t),null;case 19:if(U(ds),null===(i=t.memoizedState))return rl(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)nl(i,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=hs(e))){for(t.flags|=128,nl(i,!1),e=a.updateQueue,t.updateQueue=e,tl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return V(ds,1&ds.current|2),t.child}e=e.sibling}null!==i.tail&&te()>_c&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,tl(t,e),nl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!oi)return rl(t),null}else 2*te()-i.renderingStartTime>_c&&536870912!==n&&(t.flags|=128,r=!0,nl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ds.current,V(ds,r?1&e|2:1&e),t):(rl(t),null);case 22:case 23:return us(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null!==(n=t.updateQueue)&&tl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Bi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ei(Di),rl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function al(e,t){switch(ri(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ei(Di),G(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ds),null;case 4:return G(),null;case 10:return Ei(t.type),null;case 22:case 23:return us(t),ya(),null!==e&&U(Bi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ei(Di),null;default:return null}}function ol(e,t){switch(ri(t),t.tag){case 3:Ei(Di),G();break;case 26:case 27:case 5:Y(t);break;case 4:G();break;case 13:us(t);break;case 19:U(ds);break;case 10:Ei(t.type);break;case 22:case 23:us(t),ya(),null!==e&&U(Bi);break;case 24:Ei(Di)}}function sl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(s){du(t,t.return,s)}}function ll(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){du(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){du(t,t.return,u)}}function cl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fa(t,n)}catch(r){du(e,e.return,r)}}}function ul(e,t,n){n.props=vs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){du(e,t,r)}}function dl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){du(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){du(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){du(e,t,a)}else n.current=null}function fl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){du(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==h&&Zu(e,t,f,p,r,h)}}return void gt(e,s,l,c,u,d,a,i);case"select":for(a in p=s=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||Zu(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&Zu(e,t,i,a,r,c)}return t=l,n=s,r=p,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Zu(e,t,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Zu(e,t,s,i,r,a)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Zu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Zu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&ed(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||ed(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Zu(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||Zu(e,t,h,f,r,p)}(r,e.type,n,t),r[De]=t}catch(i){du(e,e.return,i)}}function ml(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function gl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ml(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function bl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);td(t,r,n),t[Pe]=e,t[De]=n}catch(a){du(e,e.return,a)}}var wl=!1,El=!1,Sl=!1,_l="function"===typeof WeakSet?WeakSet:Set,xl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&sl(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){du(n,n.return,o)}else{var i=vs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){du(n,n.return,s)}}64&r&&cl(n),512&r&&dl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fa(e,t)}catch(o){du(n,n.return,o)}}break;case 27:null===t&&4&r&&bl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&fl(n),512&r&&dl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Ol(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=mu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||El,i=wl;var a=El;wl=r,(El=t)&&!a?Ul(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),wl=i,El=a}break;case 30:break;default:Fl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Il=!1;function Nl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(a){}switch(n.tag){case 26:El||hl(n,t),Nl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:El||hl(n,t);var r=Cl,i=Il;pd(n.type)&&(Cl=n.stateNode,Il=!1),Nl(e,t,n),Sd(n.stateNode),Cl=r,Il=i;break;case 5:El||hl(n,t);case 6:if(r=Cl,i=Il,Cl=null,Nl(e,t,n),Il=i,null!==(Cl=r))if(Il)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(o){du(n,t,o)}else try{Cl.removeChild(n.stateNode)}catch(o){du(n,t,o)}break;case 18:null!==Cl&&(Il?(md(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ih(e)):md(Cl,n.stateNode));break;case 4:r=Cl,i=Il,Cl=n.stateNode.containerInfo,Il=!0,Nl(e,t,n),Cl=r,Il=i;break;case 0:case 11:case 14:case 15:El||ll(2,n,t),El||ll(4,n,t),Nl(e,t,n);break;case 1:El||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Nl(e,t,n);break;case 21:Nl(e,t,n);break;case 22:El=(r=El)||null!==n.memoizedState,Nl(e,t,n),El=r;break;default:Nl(e,t,n)}}function Ol(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ih(e)}catch(n){du(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new _l),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new _l),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var r=gu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Cl=l.stateNode,Il=!1;break e}break;case 5:Cl=l.stateNode,Il=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Cl)throw Error(o(160));Al(a,s,i),Cl=null,Il=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)jl(t,e),t=t.sibling}var Rl=null;function jl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Ll(e),4&r&&(ll(3,e,e.return),sl(3,e),ll(5,e,e.return));break;case 1:Dl(t,e),Ll(e),512&r&&(El||null===n||hl(n,n.return)),64&r&&wl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Rl;if(Dl(t,e),Ll(e),512&r&&(El||null===n||hl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[ze]||a[Pe]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),td(a,r,n),a[Pe]=e,We(a),r=a;break e;case"link":var s=Ud("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}td(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(s=Ud("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}td(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(o(468,r))}a[Pe]=e,We(a),r=a}e.stateNode=r}else Vd(i,e.type,e.stateNode);else e.stateNode=jd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?Vd(i,e.type,e.stateNode):jd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),Ll(e),512&r&&(El||null===n||hl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Ll(e),512&r&&(El||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(p){du(e,e.return,p)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Sl=!0);break;case 6:if(Dl(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){du(e,e.return,p)}}break;case 3:if(zd=null,i=Rl,Rl=kd(t.containerInfo),Dl(t,e),Rl=i,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ih(t.containerInfo)}catch(p){du(e,e.return,p)}Sl&&(Sl=!1,Ml(e));break;case 4:r=Rl,Rl=kd(e.stateNode.containerInfo),Dl(t,e),Ll(e),Rl=r;break;case 12:default:Dl(t,e),Ll(e);break;case 13:Dl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Sc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=El;if(wl=u||i,El=d||c,Dl(t,e),El=d,wl=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||wl||El||zl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){du(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){du(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Dl(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ml(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,gl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(St(a,""),n.flags&=-33),yl(e,gl(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;vl(e,gl(e),s);break;default:throw Error(o(161))}}catch(l){du(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ml(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ml(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function zl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ll(4,t,t.return),zl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),zl(t);break;case 27:Sd(t.stateNode);case 26:case 5:hl(t,t.return),zl(t);break;case 22:null===t.memoizedState&&zl(t);break;default:zl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Ul(i,a,n),sl(4,a);break;case 1:if(Ul(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){du(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ha(l[i],s)}catch(c){du(r,r.return,c)}}n&&64&o&&cl(a),dl(a,a.return);break;case 27:bl(a);case 26:case 5:Ul(i,a,n),n&&null===r&&4&o&&fl(a),dl(a,a.return);break;case 12:Ul(i,a,n);break;case 13:Ul(i,a,n),n&&4&o&&Ol(i,a);break;case 22:null===a.memoizedState&&Ul(i,a,n),dl(a,a.return);break;case 30:break;default:Ul(i,a,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&ji(n))}function Bl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e))}function Hl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Hl(e,t,n,r),2048&i&&sl(9,t);break;case 1:case 13:default:Hl(e,t,n,r);break;case 3:Hl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&ji(e)));break;case 12:if(2048&i){Hl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){du(t,t.return,l)}}else Hl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?Hl(e,t,n,r):Kl(e,t):2&a._visibility?Hl(e,t,n,r):(a._visibility|=2,Wl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(o,t);break;case 24:Hl(e,t,n,r),2048&i&&Bl(t.alternate,t)}}function Wl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Wl(a,o,s,l,i),sl(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Wl(a,o,s,l,i):Kl(a,o):(u._visibility|=2,Wl(a,o,s,l,i)),i&&2048&c&&Vl(o.alternate,o);break;case 24:Wl(a,o,s,l,i),i&&2048&c&&Bl(o.alternate,o);break;default:Wl(a,o,s,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&Bl(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var Gl=8192;function Ql(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Ql(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Hd)throw Error(o(475));var r=Hd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Ad(n.href),a=e.querySelector(Od(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Pd(n),(i=_d.get(i))&&Md(n,i),We(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),td(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Rl;Rl=kd(e.stateNode.containerInfo),Ql(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Ql(e),Gl=t):Ql(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $l(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,ec(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:$l(e),2048&e.flags&&ll(9,e,e.return);break;case 3:case 12:default:$l(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zl(e)):$l(e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];xl=r,ec(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:ll(8,t,t.return),Zl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zl(t));break;default:Zl(t)}e=e.sibling}}function ec(e,t){for(;null!==xl;){var n=xl;switch(n.tag){case 0:case 11:case 15:ll(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:ji(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,xl=r;else e:for(n=e;null!==xl;){var i=(r=xl).sibling,a=r.return;if(Tl(r),r===n){xl=null;break e}if(null!==i){i.return=a,xl=i;break e}xl=a}}}var tc={getCacheForType:function(e){var t=Ci(Di),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},nc="function"===typeof WeakMap?WeakMap:Map,rc=0,ic=null,ac=null,oc=0,sc=0,lc=null,cc=!1,uc=!1,dc=!1,hc=0,fc=0,pc=0,mc=0,gc=0,vc=0,yc=0,bc=null,wc=null,Ec=!1,Sc=0,_c=1/0,xc=null,kc=null,Tc=0,Cc=null,Ic=null,Nc=0,Ac=0,Oc=null,Pc=null,Dc=0,Rc=null;function jc(){if(0!==(2&rc)&&0!==oc)return oc&-oc;if(null!==R.T){return 0!==Fi?Fi:Au()}return Ae()}function Lc(){0===vc&&(vc=0===(536870912&oc)||oi?Se():536870912);var e=as.current;return null!==e&&(e.flags|=32),vc}function Mc(e,t,n){(e!==ic||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,oc,vc,!1)),ke(e,n),0!==(2&rc)&&e===ic||(e===ic&&(0===(2&rc)&&(mc|=n),4===fc&&Vc(e,oc,vc,!1)),_u(e))}function Fc(e,t,n){if(0!==(6&rc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=rc;rc|=2;var r=Kc(),i=Gc();ic!==e||oc!==t?(xc=null,_c=te()+500,qc(e,t)):uc=we(e,t);e:for(;;)try{if(0!==sc&&null!==ac){t=ac;var a=lc;t:switch(sc){case 1:sc=0,lc=null,eu(e,t,a,1);break;case 2:case 9:if(Xi(a)){sc=0,lc=null,Zc(t);break}t=function(){2!==sc&&9!==sc||ic!==e||(sc=7),_u(e)},a.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Xi(a)?(sc=0,lc=null,Zc(t)):(sc=0,lc=null,eu(e,t,a,7));break;case 5:var s=null;switch(ac.tag){case 26:s=ac.memoizedState;case 5:case 27:var l=ac;if(!s||Bd(s)){sc=0,lc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,tu(u)):ac=null}break t}}sc=0,lc=null,eu(e,t,a,5);break;case 6:sc=0,lc=null,eu(e,t,a,6);break;case 8:Hc(),fc=6;break e;default:throw Error(o(462))}}$c();break}catch(d){Wc(e,d)}return bi=yi=null,R.H=r,R.A=i,rc=n,null!==ac?0:(ic=null,oc=0,Nr(),fc)}(e,t):Yc(e,t,!0),a=r;;){if(0===i){uc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||Uc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=bc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,s).flags|=256),2!==(s=Yc(l,s,!1))){if(dc&&!c){l.errorRecoveryDisabledLanes|=a,mc|=a,i=4;break e}a=wc,wc=i,null!==a&&(null===wc?wc=a:wc.push.apply(wc,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){qc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,vc,!cc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=Sc+300-te())){if(Vc(r,t,vc,!cc),0!==be(r,0,!0))break e;r.timeoutHandle=cd(zc.bind(null,r,n,wc,xc,Ec,t,vc,mc,yc,cc,a,2,-0,0),i)}else zc(r,n,wc,xc,Ec,t,vc,mc,yc,cc,a,0,-0,0)}break}i=Yc(e,t,!1),a=!1}_u(e)}function zc(e,t,n,r,i,a,s,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(Hd={stylesheets:null,count:0,unsuspend:qd},Yl(t),null!==(h=function(){if(null===Hd)throw Error(o(475));var e=Hd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,a,n,r,i,s,l,c,d,1,f,p)),void Vc(e,a,s,!u);ru(e,t,a,n,r,i,s,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~gc,t&=~mc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-fe(i),o=1<<a;r[a]=-1,i&=~o}0!==n&&Te(e,n,t)}function Bc(){return 0!==(6&rc)||(xu(0,!1),!1)}function Hc(){if(null!==ac){if(0===sc)var e=ac.return;else bi=yi=null,Fa(e=ac),Xo=null,$o=0,e=ac;for(;null!==e;)ol(e.alternate,e),e=e.return;ac=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Hc(),ic=e,ac=n=zr(e.current,null),oc=t,sc=0,lc=null,cc=!1,uc=we(e,t),dc=!1,yc=vc=gc=mc=pc=fc=0,wc=bc=null,Ec=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),a=1<<i;t|=e[i],r&=~a}return hc=t,Nr(),n}function Wc(e,t){wa=null,R.H=Ko,t===Ki||t===Qi?(t=ea(),sc=3):t===Gi?(t=ea(),sc=4):sc=t===Cs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,lc=t,null===ac&&(fc=1,Ss(e,kr(t,e.current)))}function Kc(){var e=R.H;return R.H=Ko,null===e?Ko:e}function Gc(){var e=R.A;return R.A=tc,e}function Qc(){fc=4,cc||(4194048&oc)!==oc&&null!==as.current||(uc=!0),0===(134217727&pc)&&0===(134217727&mc)||null===ic||Vc(ic,oc,vc,!1)}function Yc(e,t,n){var r=rc;rc|=2;var i=Kc(),a=Gc();ic===e&&oc===t||(xc=null,qc(e,t)),t=!1;var o=fc;e:for(;;)try{if(0!==sc&&null!==ac){var s=ac,l=lc;switch(sc){case 8:Hc(),o=6;break e;case 3:case 2:case 9:case 6:null===as.current&&(t=!0);var c=sc;if(sc=0,lc=null,eu(e,s,l,c),n&&uc){o=0;break e}break;default:c=sc,sc=0,lc=null,eu(e,s,l,c)}}Xc(),o=fc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,bi=yi=null,rc=r,R.H=i,R.A=a,null===ac&&(ic=null,oc=0,Nr()),o}function Xc(){for(;null!==ac;)Jc(ac)}function $c(){for(;null!==ac&&!Z();)Jc(ac)}function Jc(e){var t=Js(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ms(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ms(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Fa(t);default:ol(n,t),t=Js(n,t=ac=Ur(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?tu(e):ac=t}function eu(e,t,n,r){bi=yi=null,Fa(t),Xo=null,$o=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&xi(t,n,i,!0),null!==(n=as.current)){switch(n.tag){case 13:return null===os?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Yi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(o(435,n.tag))}return hu(e,r,i),Qc(),!1}if(oi)return null!==(t=as.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==ci&&gi(kr(e=Error(o(422),{cause:r}),n))):(r!==ci&&gi(kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),la(e,i=xs(e.stateNode,r,i)),4!==fc&&(fc=2)),!1;var a=Error(o(520),{cause:r});if(a=kr(a,n),null===bc?bc=[a]:bc.push(a),4!==fc&&(fc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,la(n,e=xs(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===kc||!kc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,Ts(i=ks(i),e,n,r),la(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return fc=1,Ss(e,kr(n,e.current)),void(ac=null)}catch(a){if(null!==i)throw ac=i,a;return fc=1,Ss(e,kr(n,e.current)),void(ac=null)}32768&t.flags?(oi||1===r?e=!0:uc||0!==(536870912&oc)?e=!1:(cc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=as.current)&&13===r.tag&&(r.flags|=16384))),nu(t,e)):tu(t)}function tu(e){var t=e;do{if(0!==(32768&t.flags))return void nu(t,cc);e=t.return;var n=il(t.alternate,t,hc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===fc&&(fc=5)}function nu(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);fc=6,ac=null}function ru(e,t,n,r,i,a,s,l,c){e.cancelPendingCommit=null;do{lu()}while(0!==Tc);if(0!==(6&rc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),d=1<<u;s[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,n,a|=Ir,s,l,c),e===ic&&(ac=ic=null,oc=0),Ic=t,Cc=e,Nc=n,Ac=a,Oc=i,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,$(ae,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=j.p,j.p=2,s=rc,rc|=4;try{!function(e,t){if(e=e.containerInfo,nd=rh,nr(e=tr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(rd={focusedElem:e,selectionRange:n},rh=!1,xl=t;null!==xl;)if(e=(t=xl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,xl=e;else for(;null!==xl;){switch(a=(t=xl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=vs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){du(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,xl=e;break}xl=t.return}}(e,t)}finally{rc=s,j.p=i,R.T=r}}Tc=1,iu(),au(),ou()}}function iu(){if(1===Tc){Tc=0;var e=Cc,t=Ic,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=j.p;j.p=2;var i=rc;rc|=4;try{jl(t,e);var a=rd,o=tr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&er(s.ownerDocument.documentElement,s)){if(null!==l&&nr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var v=Zn(s,m),y=Zn(s,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}rh=!!nd,rd=nd=null}finally{rc=i,j.p=r,R.T=n}}e.current=t,Tc=2}}function au(){if(2===Tc){Tc=0;var e=Cc,t=Ic,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=j.p;j.p=2;var i=rc;rc|=4;try{kl(e,t.alternate,t)}finally{rc=i,j.p=r,R.T=n}}Tc=3}}function ou(){if(4===Tc||3===Tc){Tc=0,ee();var e=Cc,t=Ic,n=Nc,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,Ic=Cc=null,su(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(kc=null),Ne(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=j.p,j.p=2,R.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{R.T=t,j.p=i}}0!==(3&Nc)&&lu(),_u(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Rc?Dc++:(Dc=0,Rc=e):Dc=0,xu(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,ji(t)))}function lu(e){return iu(),au(),ou(),cu()}function cu(){if(5!==Tc)return!1;var e=Cc,t=Ac;Ac=0;var n=Ne(Nc),r=R.T,i=j.p;try{j.p=32>n?32:n,R.T=null,n=Oc,Oc=null;var a=Cc,s=Nc;if(Tc=0,Ic=Cc=null,Nc=0,0!==(6&rc))throw Error(o(331));var l=rc;if(rc|=4,Jl(a.current),ql(a,a.current,s,n),rc=l,xu(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(c){}return!0}finally{j.p=i,R.T=r,su(e,t)}}function uu(e,t,n){t=kr(n,t),null!==(e=oa(e,t=xs(e.stateNode,t,2),2))&&(ke(e,2),_u(e))}function du(e,t,n){if(3===e.tag)uu(e,e,n);else for(;null!==t;){if(3===t.tag){uu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=oa(t,n=ks(2),2))&&(Ts(n,r,t,e),ke(r,2),_u(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(dc=!0,i.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(oc&n)===n&&(4===fc||3===fc&&(62914560&oc)===oc&&300>te()-Sc?0===(2&rc)&&qc(e,0):gc|=n,yc===oc&&(yc=0)),_u(e)}function pu(e,t){0===t&&(t=_e()),null!==(e=Pr(e,t))&&(ke(e,t),_u(e))}function mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function gu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),pu(e,n)}var vu=null,yu=null,bu=!1,wu=!1,Eu=!1,Su=0;function _u(e){e!==yu&&null===e.next&&(null===yu?vu=yu=e:yu=yu.next=e),wu=!0,bu||(bu=!0,hd(function(){0!==(6&rc)?$(re,ku):Tu()}))}function xu(e,t){if(!Eu&&wu){Eu=!0;do{for(var n=!1,r=vu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Nu(r,a))}else a=oc,0===(3&(a=be(r,r===ic?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,a)||(n=!0,Nu(r,a));r=r.next}}while(n);Eu=!1}}function ku(){Tu()}function Tu(){wu=bu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ld&&(ld=e,!0);return ld=null,!1}()&&(e=Su),Su=0);for(var t=te(),n=null,r=vu;null!==r;){var i=r.next,a=Cu(r,t);0===a?(r.next=null,null===n?vu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&a))&&(wu=!0)),r=i}xu(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-fe(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=Ee(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=oc,n=be(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=ae;break;case 268435456:n=se}return r=Iu.bind(null,e),n=$(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function Iu(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=be(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Iu.bind(null,e):null)}function Nu(e,t){if(lu())return null;Fc(e,t,!0)}function Au(){return 0===Su&&(Su=Se()),Su}function Ou(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<Sr.length;Du++){var Ru=Sr[Du];_r(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}_r(pr,"onAnimationEnd"),_r(mr,"onAnimationIteration"),_r(gr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(vr,"onTransitionRun"),_r(yr,"onTransitionStart"),_r(br,"onTransitionCancel"),_r(wr,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ju));function Mu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){ys(u)}i.currentTarget=null,a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=c;try{a(i)}catch(u){ys(u)}i.currentTarget=null,a=l}}}}function Fu(e,t){var n=t[je];void 0===n&&(n=t[je]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function zu(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||zu(t,!1,e),zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,zu("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(uh(t)){case 2:var i=ih;break;case 8:i=ah;break;default:i=oh}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hu(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Ve(s)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}s=s.parentNode}}r=r.return}Lt(function(){var r=a,i=Ot(n),o=[];e:{var s=Er.get(e);if(void 0!==s){var c=Zt,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=gn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case pr:case mr:case gr:c=ln;break;case wr:c=bn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=En}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Mt(m,f))&&d.push(qu(m,g,p)),h)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===At||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Re])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?s:He(c),p=null==u?s:He(u),(s=new d(g,m+"leave",c,n,i)).target=h,s.relatedTarget=p,g=null,Ve(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)d=Ku(d),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&Gu(o,s,c,d,!1),null!==u&&null!==h&&Gu(o,h,u,d,!0)}if("select"===(c=(s=r?He(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var v=zn;else if(Dn(s))if(Un)v=Yn;else{v=Gn;var y=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Tt(r.elementType)&&(v=zn):v=Qn;switch(v&&(v=v(e,r))?Rn(o,v,n,i):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),y=r?He(r):window,e){case"focusin":(Dn(y)||"true"===y.contentEditable)&&(ir=y,ar=r,or=null);break;case"focusout":or=ar=ir=null;break;case"mousedown":sr=!0;break;case"contextmenu":case"mouseup":case"dragend":sr=!1,lr(o,n,i);break;case"selectionchange":if(rr)break;case"keydown":case"keyup":lr(o,n,i)}var b;if(_n)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else On?Nn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Tn&&"ko"!==n.locale&&(On||"onCompositionStart"!==w?"onCompositionEnd"===w&&On&&(b=qt()):(Bt="value"in(Vt=i)?Vt.value:Vt.textContent,On=!0)),0<(y=Wu(r,w)).length&&(w=new un(w,e,null,n,i),o.push({event:w,listeners:y}),b?w.data=b:null!==(b=An(n))&&(w.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return An(t);case"keypress":return 32!==t.which?null:(In=!0,Cn);case"textInput":return(e=t.data)===Cn&&In?null:e;default:return null}}(e,n):function(e,t){if(On)return"compositionend"===e||!_n&&Nn(e,t)?(e=qt(),Ht=Bt=Vt=null,On=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Wu(r,"onBeforeInput")).length&&(y=new un("onBeforeInput","beforeinput",null,n,i),o.push({event:y,listeners:w}),y.data=b)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Ou((i[De]||null).action),o=r.submitter;o&&null!==(t=(t=o[De]||null)?Ou(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new Zt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=o?Pu(i,o):new FormData(i);Po(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Pu(i,o):new FormData(i),Po(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,r,n,i)}Mu(o,t)})}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Mt(e,n))&&r.unshift(qu(e,i,a)),null!=(i=Mt(e,t))&&r.push(qu(e,i,a))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Mt(n,a))&&o.unshift(qu(n,c,l)):i||null!=(c=Mt(n,a))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace(Yu,"")}function $u(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function Zu(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":kt(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Zu(e,t,"name",i.name,i,null),Zu(e,t,"formEncType",i.formEncType,i,null),Zu(e,t,"formMethod",i.formMethod,i,null),Zu(e,t,"formTarget",i.formTarget,i,null)):(Zu(e,t,"encType",i.encType,i,null),Zu(e,t,"method",i.method,i,null),Zu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Ct.get(n)||n,r)}}function ed(e,t,n,r,i,a){switch(n){case"style":kt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ge.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[De]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function td(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,r,s,n,null)}}return a&&Zu(e,t,"srcSet",n.srcSet,n,null),void(i&&Zu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=s=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Zu(e,t,i,d,n,null)}}return vt(e,r,l,c,u,s,a,!1),void dt(e);case"select":for(a in Fu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Zu(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=n&&bt(e,!!i,n,!0));case"textarea":for(s in Fu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Zu(e,t,s,l,n,null)}return Et(e,i,a,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Zu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<ju.length;i++)Fu(ju[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Zu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&ed(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Zu(e,t,l,i,n,null))}var nd=null,rd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ld=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,dd="function"===typeof Promise?Promise:void 0,hd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof dd?function(e){return dd.resolve(null).then(e).catch(fd)}:cd;function fd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function md(e,t){var n=t,r=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Sd(o.documentElement),2&n&&Sd(o.body),4&n)for(Sd(n=o.head),o=n.firstChild;o;){var s=o.nextSibling,l=o.nodeName;o[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Ih(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);Ih(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":gd(n),Ue(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var bd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Ed(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var _d=new Map,xd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Td=j.d;j.d={f:function(){var e=Td.f(),t=Bc();return e||t},r:function(e){var t=Be(e);null!==t&&5===t.tag&&"form"===t.type?Ro(t):Td.r(e)},D:function(e){Td.D(e),Id("dns-prefetch",e,null)},C:function(e,t){Td.C(e,t),Id("preconnect",e,t)},L:function(e,t,n){Td.L(e,t,n);var r=Cd;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var a=i;switch(t){case"style":a=Ad(e);break;case"script":a=Dd(e)}_d.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),_d.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Od(a))||"script"===t&&r.querySelector(Rd(a))||(td(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){Td.m(e,t);var n=Cd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Dd(e)}if(!_d.has(a)&&(e=h({rel:"modulepreload",href:e},t),_d.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(a)))return}td(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){Td.X(e,t);var n=Cd;if(n&&e){var r=qe(n).hoistableScripts,i=Dd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=h({src:e,async:!0},t),(t=_d.get(i))&&Fd(e,t),We(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Td.S(e,t,n);var r=Cd;if(r&&e){var i=qe(r).hoistableStyles,a=Ad(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Od(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=_d.get(a))&&Md(e,n);var l=o=r.createElement("link");We(l),td(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Ld(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Td.M(e,t);var n=Cd;if(n&&e){var r=qe(n).hoistableScripts,i=Dd(e),a=r.get(i);a||((a=n.querySelector(Rd(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=_d.get(i))&&Fd(e,t),We(a=n.createElement("script")),td(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Cd="undefined"===typeof document?null:document;function Id(e,t,n){var r=Cd;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),xd.has(i)||(xd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(td(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Nd(e,t,n,r){var i,a,s,l,c=(c=q.current)?kd(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ad(n.href),(r=(n=qe(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ad(n.href);var u=qe(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Od(e)))&&!u._p&&(d.instance=u,d.state.loading=5),_d.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},_d.set(e,n),u||(i=c,a=e,s=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),td(a,"link",s),We(a),i.head.appendChild(a))))),t&&null===r)throw Error(o(528,""));return d}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Dd(n),(r=(n=qe(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ad(e){return'href="'+mt(e)+'"'}function Od(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+mt(e)+'"]'}function Rd(e){return"script[async]"+e}function jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,We(r),r;var i=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(r=(e.ownerDocument||e).createElement("style")),td(r,"style",i),Ld(r,n.precedence,e),t.instance=r;case"stylesheet":i=Ad(n.href);var a=e.querySelector(Od(i));if(a)return t.state.loading|=4,t.instance=a,We(a),a;r=Pd(n),(i=_d.get(i))&&Md(r,i),We(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),td(a,"link",r),t.state.loading|=4,Ld(a,n.precedence,e),t.instance=a;case"script":return a=Dd(n.src),(i=e.querySelector(Rd(a)))?(t.instance=i,We(i),i):(r=n,(i=_d.get(a))&&Fd(r=h({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),td(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Ld(r,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var zd=null;function Ud(e,t,n){if(null===zd){var r=new Map,i=zd=new Map;i.set(n,r)}else(r=(i=zd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[ze]||a[Pe]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hd=null;function qd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Qd,e),Kd=null,Wd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(a=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Wd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:E,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Xd(e,t,n,r,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.hiddenUpdates=xe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $d(e,t,n,r,i,a,o,s,l,c,u,d){return e=new Xd(e,t,n,o,s,l,c,d),t=1,!0===a&&(t|=24),a=Mr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ri()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ra(a),e}function Jd(e){return e?e=jr:jr}function Zd(e,t,n,r,i,a){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=aa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=oa(e,r,t))&&(Mc(n,0,t),sa(n,e,t))}function eh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function th(e,t){eh(e,t),(e=e.alternate)&&eh(e,t)}function nh(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Mc(t,0,67108864),th(e,67108864)}}var rh=!0;function ih(e,t,n,r){var i=R.T;R.T=null;var a=j.p;try{j.p=2,oh(e,t,n,r)}finally{j.p=a,R.T=i}}function ah(e,t,n,r){var i=R.T;R.T=null;var a=j.p;try{j.p=8,oh(e,t,n,r)}finally{j.p=a,R.T=i}}function oh(e,t,n,r){if(rh){var i=sh(r);if(null===i)Hu(e,t,r,lh,n),bh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hh=wh(hh,e,t,n,r,i),!0;case"dragenter":return fh=wh(fh,e,t,n,r,i),!0;case"mouseover":return ph=wh(ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return mh.set(a,wh(mh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gh.set(a,wh(gh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(bh(e,r),4&t&&-1<yh.indexOf(e)){for(;null!==i;){var a=Be(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ye(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var l=1<<31-fe(o);s.entanglements[1]|=l,o&=~l}_u(a),0===(6&rc)&&(_c=te()+500,xu(0,!1))}}break;case 13:null!==(s=Pr(a,2))&&Mc(s,0,2),Bc(),th(a,2)}if(null===(a=sh(r))&&Hu(e,t,r,lh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hu(e,t,r,null,n)}}function sh(e){return ch(e=Ot(e))}var lh=null;function ch(e){if(lh=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lh=e,null}function uh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var dh=!1,hh=null,fh=null,ph=null,mh=new Map,gh=new Map,vh=[],yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bh(e,t){switch(e){case"focusin":case"focusout":hh=null;break;case"dragenter":case"dragleave":fh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":mh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function wh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Be(t))&&nh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Eh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}(e.priority,function(){if(13===n.tag){var e=jc();e=Ie(e);var t=Pr(n,e);null!==t&&Mc(t,0,e),th(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=Be(n))&&nh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function _h(e,t,n){Sh(e)&&n.delete(t)}function xh(){dh=!1,null!==hh&&Sh(hh)&&(hh=null),null!==fh&&Sh(fh)&&(fh=null),null!==ph&&Sh(ph)&&(ph=null),mh.forEach(_h),gh.forEach(_h)}function kh(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xh)))}var Th=null;function Ch(e){Th!==e&&(Th=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Th===e&&(Th=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ch(r||n))continue;break}var a=Be(n);null!==a&&(e.splice(t,3),t-=3,Po(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ih(e){function t(t){return kh(t,e)}null!==hh&&kh(hh,e),null!==fh&&kh(fh,e),null!==ph&&kh(ph,e),mh.forEach(t),gh.forEach(t);for(var n=0;n<vh.length;n++){var r=vh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<vh.length&&null===(n=vh[0]).blockedOn;)Eh(n),null===n.blockedOn&&vh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[De]||null;if("function"===typeof a)o||Ch(n);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[De]||null)s=o.formAction;else if(null!==ch(i))continue}else s=o.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Ch(n)}}}function Nh(e){this._internalRoot=e}function Ah(e){this._internalRoot=e}Ah.prototype.render=Nh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Zd(t.current,jc(),e,t,null,null)},Ah.prototype.unmount=Nh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bc(),t[Re]=null}},Ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vh.length&&0!==t&&t<vh[n].priority;n++);vh.splice(n,0,e),0===n&&Eh(e)}};var Oh=i.version;if("19.1.0"!==Oh)throw Error(o(527,Oh,"19.1.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return u(i),e;if(a===r)return u(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ph={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{ue=Dh.inject(Ph),de=Dh}catch(jh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var n=!1,r="",i=bs,a=ws,l=Es;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,n,r,i,a,l,0,null),e[Re]=t.current,Vu(e),new Nh(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(o(299));var r=!1,i="",a=bs,l=ws,c=Es,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=$d(e,1,!0,t,0,r,i,a,l,c,0,u)).context=Jd(null),n=t.current,(i=aa(r=Ie(r=jc()))).callback=null,oa(n,i,r),n=r,t.current.lanes=n,ke(t,n),_u(t),e[Re]=t.current,Vu(e),new Ah(t)},t.version="19.1.0"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function x(e,t,r,i,a,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return N((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+C(e,0):a,E(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(k(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=x(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var d,p=""===a?".":a+":";if(E(e))for(var m=0;m<e.length;m++)u+=N(a=e[m],t,i,s=p+C(a,m),o);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,s=p+C(a,m++),o);else if("object"===s){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function D(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!_.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return x(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),l=0;l<o;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return x(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(D,P)}catch(a){P(a)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function E(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,E(e),!m)if(null!==r(c))m=!0,x||(x=!0,_());else{var t=r(u);null!==t&&P(S,t.startTime-e)}}var _,x=!1,k=-1,T=5,C=-1;function I(){return!!v||!(t.unstable_now()-C<T)}function N(){if(v=!1,x){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(k),k=-1),p=!0;var a=f;try{t:{for(E(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,E(e),n=!0;break t}h===r(c)&&i(c),E(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?_():x=!1}}}if("function"===typeof w)_=function(){w(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=N,_=function(){O.postMessage(null)}}else _=function(){y(N,0)};function P(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(k),k=-1):g=!0,P(S,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,x||(x=!0,_()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".c5c14f4d.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="pelktech:";n.l=(r,i,a,o)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/PelkTech/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,o=r[0],s=r[1],l=r[2],c=0;if(o.some(t=>0!==e[t])){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkpelktech=self.webpackChunkpelktech||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=r.createContext&&r.createContext(u),h=["attr","size","title"];function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){v(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return e&&e.map((e,t)=>r.createElement(e.tag,g({key:t},e.attr),y(e.child)))}function b(e){return t=>r.createElement(w,p({attr:g({},e.attr)},t),y(e.child))}function w(e){var t=t=>{var n,{attr:i,size:a,title:o}=e,s=f(e,h),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",p({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:g(g({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==d?r.createElement(d.Consumer,null,e=>t(e)):t(u)}function E(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function S(e){return b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function _(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function x(e){return b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(e)}function k(e){return b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function T(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M509.5 184.6L458.9 32.8C452.4 13.2 434.1 0 413.4 0H272v192h238.7c-.4-2.5-.4-5-1.2-7.4zM240 0H98.6c-20.7 0-39 13.2-45.5 32.8L2.5 184.6c-.8 2.4-.8 4.9-1.2 7.4H240V0zM0 224v240c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V224H0z"},child:[]}]})(e)}function C(e){return b({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function I(e){return b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function N(e){return b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 160v-32C352 57.42 294.579 0 224 0 153.42 0 96 57.42 96 128v32H0v272c0 44.183 35.817 80 80 80h288c44.183 0 80-35.817 80-80V160h-96zm-192-32c0-35.29 28.71-64 64-64s64 28.71 64 64v32H160v-32zm160 120c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm-192 0c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24z"},child:[]}]})(e)}function A(e){return b({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(e)}function O(e){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function P(e){return b({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}const D=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},R={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(D(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new j;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class j extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L=function(e){return function(e){const t=D(e);return R.encodeByteArray(t,!0)}(e).replace(/\./g,"")},M=function(e){try{return R.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function F(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const z=()=>{try{return F().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/PelkTech",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&M(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},U=e=>{var t,n;return null===(n=null===(t=z())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},V=()=>{var e;return null===(e=z())||void 0===e?void 0:e.config},B=e=>{var t;return null===(t=z())||void 0===t?void 0:t["_".concat(e)]};class H{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function q(e){return e.endsWith(".cloudworkstations.dev")}async function W(e){return(await fetch(e,{credentials:"include"})).ok}const K={};let G=!1;function Q(e,t){if("undefined"===typeof window||"undefined"===typeof document||!q(window.location.host)||K[e]===t||K[e]||G)return;function n(e){return"__firebase__banner__".concat(e)}K[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(K))K[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{G=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function Y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function X(){var e;const t=null===(e=z())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function $(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function J(){return!X()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){try{return"object"===typeof indexedDB}catch(e){return!1}}function ee(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class te extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ne.prototype.create)}}class ne{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(re,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new te(n,a,t)}}const re=/\{\$([^}]+)}/g;function ie(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(ae(n)&&ae(a)){if(!ie(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ae(e){return null!==e&&"object"===typeof e}function oe(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function se(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function le(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ce{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ue),void 0===r.error&&(r.error=ue),void 0===r.complete&&(r.complete=ue);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ue(){}function de(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function he(e){return e&&e._delegate?e._delegate:e}class fe{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pe="[DEFAULT]";class me{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new H;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===pe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe;return this.component?this.component.multipleInstances?e:pe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new me(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ve=[];var ye;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ye||(ye={}));const be={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},we=ye.INFO,Ee={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Se=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ee[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class _e{constructor(e){this.name=e,this._logLevel=we,this._logHandler=Se,this._userLogHandler=null,ve.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?be[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...t),this._logHandler(this,ye.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...t),this._logHandler(this,ye.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ye.INFO,...t),this._logHandler(this,ye.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ye.WARN,...t),this._logHandler(this,ye.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...t),this._logHandler(this,ye.ERROR,...t)}}let xe,ke;const Te=new WeakMap,Ce=new WeakMap,Ie=new WeakMap,Ne=new WeakMap,Ae=new WeakMap;let Oe={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ce.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ie.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Re(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Pe(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ke||(ke=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(je(this),n),Re(Te.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Re(e.apply(je(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(je(this),t,...r);return Ie.set(a,t.sort?t.sort():[t]),Re(a)}}function De(e){return"function"===typeof e?Pe(e):(e instanceof IDBTransaction&&function(e){if(Ce.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});Ce.set(e,t)}(e),t=e,(xe||(xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Oe):e);var t}function Re(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(Re(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Te.set(t,e)}).catch(()=>{}),Ae.set(t,e),t}(e);if(Ne.has(e))return Ne.get(e);const t=De(e);return t!==e&&(Ne.set(e,t),Ae.set(t,e)),t}const je=e=>Ae.get(e);function Le(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=Re(o);return r&&o.addEventListener("upgradeneeded",e=>{r(Re(o.result),e.oldVersion,e.newVersion,Re(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const Me=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],ze=new Map;function Ue(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ze.get(t))return ze.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Fe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Me.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return ze.set(t,a),a}Oe=(e=>c(c({},e),{},{get:(t,n,r)=>Ue(t,n)||e.get(t,n,r),has:(t,n)=>!!Ue(t,n)||e.has(t,n)}))(Oe);class Ve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Be="@firebase/app",He="0.13.1",qe=new _e("@firebase/app"),We="@firebase/app-compat",Ke="@firebase/analytics-compat",Ge="@firebase/analytics",Qe="@firebase/app-check-compat",Ye="@firebase/app-check",Xe="@firebase/auth",$e="@firebase/auth-compat",Je="@firebase/database",Ze="@firebase/data-connect",et="@firebase/database-compat",tt="@firebase/functions",nt="@firebase/functions-compat",rt="@firebase/installations",it="@firebase/installations-compat",at="@firebase/messaging",ot="@firebase/messaging-compat",st="@firebase/performance",lt="@firebase/performance-compat",ct="@firebase/remote-config",ut="@firebase/remote-config-compat",dt="@firebase/storage",ht="@firebase/storage-compat",ft="@firebase/firestore",pt="@firebase/ai",mt="@firebase/firestore-compat",gt="firebase",vt="[DEFAULT]",yt={[Be]:"fire-core",[We]:"fire-core-compat",[Ge]:"fire-analytics",[Ke]:"fire-analytics-compat",[Ye]:"fire-app-check",[Qe]:"fire-app-check-compat",[Xe]:"fire-auth",[$e]:"fire-auth-compat",[Je]:"fire-rtdb",[Ze]:"fire-data-connect",[et]:"fire-rtdb-compat",[tt]:"fire-fn",[nt]:"fire-fn-compat",[rt]:"fire-iid",[it]:"fire-iid-compat",[at]:"fire-fcm",[ot]:"fire-fcm-compat",[st]:"fire-perf",[lt]:"fire-perf-compat",[ct]:"fire-rc",[ut]:"fire-rc-compat",[dt]:"fire-gcs",[ht]:"fire-gcs-compat",[ft]:"fire-fst",[mt]:"fire-fst-compat",[pt]:"fire-vertex","fire-js":"fire-js",[gt]:"fire-js-all"},bt=new Map,wt=new Map,Et=new Map;function St(e,t){try{e.container.addComponent(t)}catch(n){qe.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function _t(e){const t=e.name;if(Et.has(t))return qe.debug("There were multiple attempts to register component ".concat(t,".")),!1;Et.set(t,e);for(const n of bt.values())St(n,e);for(const n of wt.values())St(n,e);return!0}function xt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Tt=new ne("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ct{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tt.create("app-deleted",{appName:this._name})}}const It="11.9.0";function Nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:vt,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Tt.create("bad-app-name",{appName:String(i)});if(n||(n=V()),!n)throw Tt.create("no-options");const a=bt.get(i);if(a){if(ie(n,a.options)&&ie(r,a.config))return a;throw Tt.create("duplicate-app",{appName:i})}const o=new ge(i);for(const l of Et.values())o.addComponent(l);const s=new Ct(n,r,o);return bt.set(i,s),s}function At(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt;const t=bt.get(e);if(!t&&e===vt&&V())return Nt();if(!t)throw Tt.create("no-app",{appName:e});return t}function Ot(e,t,n){var r;let i=null!==(r=yt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void qe.warn(e.join(" "))}_t(new fe("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Pt="firebase-heartbeat-store";let Dt=null;function Rt(){return Dt||(Dt=Le("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Pt)}catch(n){console.warn(n)}}}).catch(e=>{throw Tt.create("idb-open",{originalErrorMessage:e.message})})),Dt}async function jt(e,t){try{const n=(await Rt()).transaction(Pt,"readwrite"),r=n.objectStore(Pt);await r.put(t,Lt(e)),await n.done}catch(n){if(n instanceof te)qe.warn(n.message);else{const e=Tt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});qe.warn(e.message)}}}function Lt(e){return"".concat(e.name,"!").concat(e.options.appId)}class Mt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ft();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){qe.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ft(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ut(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ut(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=L(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return qe.warn(t),""}}}function Ft(){return(new Date).toISOString().substring(0,10)}class zt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Z()&&ee().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rt()).transaction(Pt),n=await t.objectStore(Pt).get(Lt(e));return await t.done,n}catch(t){if(t instanceof te)qe.warn(t.message);else{const e=Tt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});qe.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return jt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ut(e){return L(JSON.stringify({version:2,heartbeats:e})).length}var Vt;Vt="",_t(new fe("platform-logger",e=>new Ve(e),"PRIVATE")),_t(new fe("heartbeat",e=>new Mt(e),"PRIVATE")),Ot(Be,He,Vt),Ot(Be,He,"esm2017"),Ot("fire-js","");var Bt,Ht,qt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Wt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Ht=Wt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Bt=Wt.Integer=r}).apply("undefined"!==typeof qt?qt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Kt,Gt,Qt,Yt,Xt,$t,Jt,Zt,en="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},tn={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof en&&en];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout(()=>{throw e},0)}function x(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},A=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(O)}};var O=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(n){_(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function P(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function j(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&j.aa.h.call(this)}}d(j,D);var L={2:"touch",3:"pen",4:"mouse"};j.prototype.h=function(){j.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function z(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=H(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new z(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,i){if(r&&r.once)return Q(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)K(e,t[a],n,r,i);return null}return n=te(n),e&&e[M]?e.K(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[q]=l=new V(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Q(e,t[a],n,r,i);return null}return n=te(n),e&&e[M]?e.L(t,n,o(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Y(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(a=e.g[t],n,r,i))&&(U(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new j(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var i=t;E(t=new D(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&B(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae(()=>{e.g=null,e.i&&(e.i=!1,oe(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,P),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}d(le,P);var ce=[];function ue(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){D.call(this,"d")}function be(){D.call(this,"c")}d(ye,D),d(be,D);var we={},Ee=null;function Se(){return Ee=Ee||new ne}function _e(e){D.call(this,we.La,e)}function xe(e){const t=Se();re(t,new _e(t))}function ke(e,t){D.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Se();re(t,new ke(t,e))}function Ce(e,t){D.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ne(){this.g=!0}function Ae(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(_e,D),we.STAT_EVENT="statevent",d(ke,D),we.Ma="timingevent",d(Ce,D),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Oe,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Oe=new Re;var Me={},Fe={};function ze(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=_n(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=K(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function We(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||yn(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vn(n),sn(n)}pn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&vn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=Sn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(We(s),He(s)),r.g=o}else fn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):on(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}xe()}catch(u){}}je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},je.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||xe(),We(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=nn(this.g);e="";var a=r.length,o=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Ae(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Be(this,s),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Ae(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ae(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ae(this.i,this.l,e,null),Qe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),mn(d),d.M=!0,Te(11))}}else Ae(this.i,this.l,s,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ae(this.i,this.l,s,null),Qe(this,s);4==h&&Ge(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(h){}},je.prototype.cancel=function(){this.J=!0,Ge(this)},je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(xe(),Te(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(_t(this,t),kt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,bt)),e.i=new Et(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function _t(e,t){St(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return St(e),t=Tt(e,t),e.g.has(t)}function kt(e,t,n){_t(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function At(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ot(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Et.prototype).add=function(e,t){St(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)xt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,xt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(At,pe),At.prototype.g=function(){return new Ot(this.l,this.j)},At.prototype.i=(mt={},function(){return mt}),d(Ot,ne),(e=Ot.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Rt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ot.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,zt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Ht(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!Ft.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<Wt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Vt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function qt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function an(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(e){if(ln(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),dn(e,n),(t=new je(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=_n(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}En(e)}function sn(e){e.g&&(mn(e),e.g.cancel(),e.g=null)}function ln(e){sn(e),e.u&&(i.clearTimeout(e.u),e.u=null),vn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||A(),I||(C(),I=!0),N.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),dn(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),ze(n,r,t)}function dn(e,t){e.H&&y(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function fn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||A(),I||(C(),I=!0),N.add(t,e),e.v=0}}function pn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function mn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),dn(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Ue(n,e)}function vn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){vn(e),mn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),cn(e)}else fn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&pn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ct(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ct(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),En(e),ln(e)}function En(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function Sn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),dn(e,r),r}function _n(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new At({eb:n})):new Mt(e.pa)).Ha(e.J),t}function xn(){}function kn(){}function Tn(e,t){ne.call(this),this.g=new an(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Nn(this)}function Cn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function In(){be.call(this),this.status=1}function Nn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oe.g(),this.v=this.o?me(this.o):me(Oe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ut(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(zt,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ut(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=an.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=Sn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new je(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),E(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),dn(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(jt(a)))+"&"+t:this.m&&Lt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,ze(i,n,null)):ze(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||$e(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),sn(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,sn(this),pn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=xn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},kn.prototype.g=function(e,t){return new Tn(e,t)},d(Tn,ne),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){on(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&cn(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Tn.aa.N.call(this)},d(Cn,ye),d(In,be),d(Nn,xn),Nn.prototype.ua=function(){re(this.g,"a")},Nn.prototype.ta=function(e){re(this.g,new Cn(e))},Nn.prototype.sa=function(e){re(this.g,new In)},Nn.prototype.ra=function(){re(this.g,"b")},kn.prototype.createWebChannel=kn.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Zt=tn.createWebChannelTransport=function(){return new kn},Jt=tn.getStatEventTarget=function(){return Se()},$t=tn.Event=we,Xt=tn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Yt=tn.ErrorCode=Pe,De.COMPLETE="complete",Qt=tn.EventType=De,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Gt=tn.WebChannel=ge,tn.FetchXmlHttpFactory=At,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Kt=tn.XhrIo=Mt}).apply("undefined"!==typeof en?en:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const nn="@firebase/firestore",rn="4.7.17";class an{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let on="11.9.0";const sn=new _e("@firebase/firestore");function ln(){return sn.logLevel}function cn(e){if(sn.logLevel<=ye.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hn);sn.debug("Firestore (".concat(on,"): ").concat(e),...i)}}function un(e){if(sn.logLevel<=ye.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hn);sn.error("Firestore (".concat(on,"): ").concat(e),...i)}}function dn(e){if(sn.logLevel<=ye.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hn);sn.warn("Firestore (".concat(on,"): ").concat(e),...i)}}function hn(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function fn(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,pn(e,r,n)}function pn(e,t,n){let r="FIRESTORE (".concat(on,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw un(r),new Error(r)}function mn(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||pn(t,i,r)}function gn(e,t){return e}const vn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yn extends te{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class bn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wn{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class En{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class Sn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _n{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mn(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bn,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{cn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(cn("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(cn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(mn("string"==typeof t.accessToken,31837,{l:t}),new wn(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mn(null===e||"string"==typeof e,2055,{h:e}),new an(e)}}class xn{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kn{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new xn(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cn{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){mn(void 0===this.o,3512);const n=e=>{null!=e.error&&cn("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,cn("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{cn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):cn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tn(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(mn("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Tn(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function In(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function Nn(){return new TextEncoder}class An{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=In(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function On(e,t){return e<t?-1:e>t?1:0}function Pn(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return On(r,i);{const a=Nn(),o=Rn(a.encode(Dn(e,n)),a.encode(Dn(t,n)));return 0!==o?o:On(r,i)}}n+=r>65535?2:1}return On(e.length,t.length)}function Dn(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function Rn(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return On(e[n],t[n]);return On(e.length,t.length)}function jn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Ln=-62135596800,Mn=1e6;class Fn{static now(){return Fn.fromMillis(Date.now())}static fromDate(e){return Fn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Mn);return new Fn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new yn(vn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new yn(vn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ln)throw new yn(vn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yn(vn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mn}_compareTo(e){return this.seconds===e.seconds?On(this.nanoseconds,e.nanoseconds):On(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ln;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zn{static fromTimestamp(e){return new zn(e)}static min(){return new zn(new Fn(0,0))}static max(){return new zn(new Fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Un="__name__";class Vn{constructor(e,t,n){void 0===t?t=0:t>e.length&&fn(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&fn(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Vn.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vn?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Vn.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return On(e.length,t.length)}static compareSegments(e,t){const n=Vn.isNumericId(e),r=Vn.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Vn.extractNumericId(e).compare(Vn.extractNumericId(t)):Pn(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bt.fromString(e.substring(4,e.length-2))}}class Bn extends Vn{construct(e,t,n){return new Bn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new yn(vn.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Bn(e)}static emptyPath(){return new Bn([])}}const Hn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qn extends Vn{construct(e,t,n){return new qn(e,t,n)}static isValidIdentifier(e){return Hn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Un}static keyField(){return new qn([Un])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new yn(vn.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new yn(vn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new yn(vn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new yn(vn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qn(t)}static emptyPath(){return new qn([])}}class Wn{constructor(e){this.path=e}static fromPath(e){return new Wn(Bn.fromString(e))}static fromName(e){return new Wn(Bn.fromString(e).popFirst(5))}static empty(){return new Wn(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wn(new Bn(e.slice()))}}const Kn=-1;class Gn{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Gn.UNKNOWN_ID=-1;function Qn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zn.fromTimestamp(1e9===r?new Fn(n+1,0):new Fn(n,r));return new Xn(i,Wn.empty(),t)}function Yn(e){return new Xn(e.readTime,e.key,Kn)}class Xn{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Xn(zn.min(),Wn.empty(),Kn)}static max(){return new Xn(zn.max(),Wn.empty(),Kn)}}function $n(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Wn.comparator(e.documentKey,t.documentKey),0!==n?n:On(e.largestBatchId,t.largestBatchId))}const Jn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function er(e){if(e.code!==vn.FAILED_PRECONDITION||e.message!==Jn)throw e;cn("LocalStore","Unexpectedly lost primary lease")}class tr{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&fn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tr((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tr?t:tr.resolve(t)}catch(e){return tr.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tr.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tr.reject(t)}static resolve(e){return new tr((t,n)=>{t(e)})}static reject(e){return new tr((t,n)=>{n(e)})}static waitFor(e){return new tr((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=tr.resolve(!1);for(const n of e)t=t.next(e=>e?tr.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new tr((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{a[l]=e,++o,o===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new tr((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function nr(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rr(e){return"IndexedDbTransactionError"===e.name}class ir{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ir.le=-1;const ar=-1;function or(e){return null==e}function sr(e){return 0===e&&1/e==-1/0}function lr(e){return"number"==typeof e&&Number.isInteger(e)&&!sr(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const cr="\x01";function ur(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=hr(t)),t=dr(e.get(n),t);return hr(t)}function dr(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case cr:n+="\x01\x11";break;default:n+=t}}return n}function hr(e){return e+cr+"\x01"}const fr="remoteDocuments",pr="owner",mr="mutationQueues",gr="mutations";const vr="documentMutations",yr="remoteDocumentsV14",br="remoteDocumentGlobal",wr="targets",Er="targetDocuments",Sr="targetGlobal",_r="collectionParents",xr="clientMetadata",kr="bundles",Tr="namedQueries",Cr="indexConfiguration",Ir="indexState",Nr="indexEntries",Ar="documentOverlays",Or="globals",Pr=[mr,gr,vr,fr,wr,pr,Sr,Er,xr,br,_r,kr,Tr],Dr=[mr,gr,vr,yr,wr,pr,Sr,Er,xr,br,_r,kr,Tr,Ar],Rr=Dr,jr=[...Rr,Cr,Ir,Nr];function Lr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zr{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ur(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ur(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ur(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ur(this.root,e,this.comparator,!0)}}class Ur{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Vr.RED,this.left=null!=r?r:Vr.EMPTY,this.right=null!=i?i:Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Vr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw fn(27949);return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw fn(57766)}get value(){throw fn(16141)}get color(){throw fn(16727)}get left(){throw fn(29726)}get right(){throw fn(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Vr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hr(this.data.getIterator())}getIteratorFrom(e){return new Hr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Br))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class Hr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qr{constructor(e){this.fields=e,e.sort(qn.comparator)}static empty(){return new qr([])}unionWith(e){let t=new Br(qn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new qr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Wr extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Wr("Invalid base64 string: "+e):e}}(e);return new Kr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Kr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return On(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kr.EMPTY_BYTE_STRING=new Kr("");const Gr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(e){if(mn(!!e,39018),"string"==typeof e){let t=0;const n=Gr.exec(e);if(mn(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Yr(e.seconds),nanos:Yr(e.nanos)}}function Yr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xr(e){return"string"==typeof e?Kr.fromBase64String(e):Kr.fromUint8Array(e)}const $r="server_timestamp",Jr="__type__",Zr="__previous_value__",ei="__local_write_time__";function ti(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Jr])||void 0===n?void 0:n.stringValue)===$r}function ni(e){const t=e.mapValue.fields[Zr];return ti(t)?ni(t):t}function ri(e){const t=Qr(e.mapValue.fields[ei].timestampValue);return new Fn(t.seconds,t.nanos)}class ii{constructor(e,t,n,r,i,a,o,s,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=c}}const ai="(default)";class oi{constructor(e,t){this.projectId=e,this.database=t||ai}static empty(){return new oi("","")}get isDefaultDatabase(){return this.database===ai}isEqual(e){return e instanceof oi&&e.projectId===this.projectId&&e.database===this.database}}const si="__type__",li="__max__",ci={mapValue:{fields:{__type__:{stringValue:li}}}},ui="__vector__",di="value";function hi(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ti(e)?4:Ii(e)?9007199254740991:Ti(e)?10:11:fn(28295,{value:e})}function fi(e,t){if(e===t)return!0;const n=hi(e);if(n!==hi(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ri(e).isEqual(ri(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Qr(e.timestampValue),r=Qr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xr(e.bytesValue).isEqual(Xr(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Yr(e.geoPointValue.latitude)===Yr(t.geoPointValue.latitude)&&Yr(e.geoPointValue.longitude)===Yr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Yr(e.integerValue)===Yr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Yr(e.doubleValue),r=Yr(t.doubleValue);return n===r?sr(n)===sr(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jn(e.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Lr(n)!==Lr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fi(n[i],r[i])))return!1;return!0}(e,t);default:return fn(52216,{left:e})}}function pi(e,t){return void 0!==(e.values||[]).find(e=>fi(e,t))}function mi(e,t){if(e===t)return 0;const n=hi(e),r=hi(t);if(n!==r)return On(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return On(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Yr(e.integerValue||e.doubleValue),r=Yr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gi(e.timestampValue,t.timestampValue);case 4:return gi(ri(e),ri(t));case 5:return Pn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Xr(e),r=Xr(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=On(n[i],r[i]);if(0!==e)return e}return On(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=On(Yr(e.latitude),Yr(t.latitude));return 0!==n?n:On(Yr(e.longitude),Yr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return vi(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[di])||void 0===n?void 0:n.arrayValue,c=null===(r=s[di])||void 0===r?void 0:r.arrayValue,u=On((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:vi(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===ci.mapValue&&t===ci.mapValue)return 0;if(e===ci.mapValue)return 1;if(t===ci.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=Pn(r[o],a[o]);if(0!==e)return e;const t=mi(n[r[o]],i[a[o]]);if(0!==t)return t}return On(r.length,a.length)}(e.mapValue,t.mapValue);default:throw fn(23264,{Pe:n})}}function gi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return On(e,t);const n=Qr(e),r=Qr(t),i=On(n.seconds,r.seconds);return 0!==i?i:On(n.nanos,r.nanos)}function vi(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=mi(n[i],r[i]);if(e)return e}return On(n.length,r.length)}function yi(e){return bi(e)}function bi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Qr(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Xr(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Wn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=bi(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(bi(e.fields[i]));return n+"}"}(e.mapValue):fn(61005,{value:e})}function wi(e){switch(hi(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ni(e);return t?16+wi(t):16;case 5:return 2*e.stringValue.length;case 6:return Xr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+wi(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Mr(e.fields,(e,n)=>{t+=e.length+wi(n)}),t}(e.mapValue);default:throw fn(13486,{value:e})}}function Ei(e){return!!e&&"integerValue"in e}function Si(e){return!!e&&"arrayValue"in e}function _i(e){return!!e&&"nullValue"in e}function xi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ki(e){return!!e&&"mapValue"in e}function Ti(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[si])||void 0===n?void 0:n.stringValue)===ui}function Ci(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Mr(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Ci(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ci(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ii(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===li}class Ni{constructor(e){this.value=e}static empty(){return new Ni({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ki(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ci(t)}setAll(e){let t=qn.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Ci(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ki(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ki(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Mr(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Ni(Ci(this.value))}}function Ai(e){const t=[];return Mr(e.fields,(e,n)=>{const r=new qn([e]);if(ki(n)){const e=Ai(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new qr(t)}class Oi{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Oi(e,0,zn.min(),zn.min(),zn.min(),Ni.empty(),0)}static newFoundDocument(e,t,n,r){return new Oi(e,1,t,zn.min(),n,r,0)}static newNoDocument(e,t){return new Oi(e,2,t,zn.min(),zn.min(),Ni.empty(),0)}static newUnknownDocument(e,t){return new Oi(e,3,t,zn.min(),zn.min(),Ni.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(zn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ni.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ni.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Oi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Pi{constructor(e,t){this.position=e,this.inclusive=t}}function Di(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Wn.comparator(Wn.fromName(o.referenceValue),n.key):mi(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ri(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!fi(e.position[n],t.position[n]))return!1;return!0}class ji{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Li(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Mi{}class Fi extends Mi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ki(e,t,n):"array-contains"===t?new Xi(e,n):"in"===t?new $i(e,n):"not-in"===t?new Ji(e,n):"array-contains-any"===t?new Zi(e,n):new Fi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Gi(e,n):new Qi(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(mi(t,this.value)):null!==t&&hi(this.value)===hi(t)&&this.matchesComparison(mi(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return fn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends Mi{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new zi(e,t)}matches(e){return Ui(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ui(e){return"and"===e.op}function Vi(e){return Bi(e)&&Ui(e)}function Bi(e){for(const t of e.filters)if(t instanceof zi)return!1;return!0}function Hi(e){if(e instanceof Fi)return e.field.canonicalString()+e.op.toString()+yi(e.value);if(Vi(e))return e.filters.map(e=>Hi(e)).join(",");{const t=e.filters.map(e=>Hi(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function qi(e,t){return e instanceof Fi?function(e,t){return t instanceof Fi&&e.op===t.op&&e.field.isEqual(t.field)&&fi(e.value,t.value)}(e,t):e instanceof zi?function(e,t){return t instanceof zi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&qi(n,t.filters[r]),!0)}(e,t):void fn(19439)}function Wi(e){return e instanceof Fi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(yi(e.value))}(e):e instanceof zi?function(e){return e.op.toString()+" {"+e.getFilters().map(Wi).join(" ,")+"}"}(e):"Filter"}class Ki extends Fi{constructor(e,t,n){super(e,t,n),this.key=Wn.fromName(n.referenceValue)}matches(e){const t=Wn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Gi extends Fi{constructor(e,t){super(e,"in",t),this.keys=Yi("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qi extends Fi{constructor(e,t){super(e,"not-in",t),this.keys=Yi("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Wn.fromName(e.referenceValue))}class Xi extends Fi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Si(t)&&pi(t.arrayValue,this.value)}}class $i extends Fi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pi(this.value.arrayValue,t)}}class Ji extends Fi{constructor(e,t){super(e,"not-in",t)}matches(e){if(pi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!pi(this.value.arrayValue,t)}}class Zi extends Fi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Si(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>pi(this.value.arrayValue,e))}}class ea{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Ie=null}}function ta(e){return new ea(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function na(e){const t=gn(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Hi(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),or(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>yi(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>yi(e)).join(",")),t.Ie=e}return t.Ie}function ra(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Li(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!qi(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ri(e.startAt,t.startAt)&&Ri(e.endAt,t.endAt)}function ia(e){return Wn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class aa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function oa(e,t,n,r,i,a,o,s){return new aa(e,t,n,r,i,a,o,s)}function sa(e){return new aa(e)}function la(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ca(e){return null!==e.collectionGroup}function ua(e){const t=gn(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Br(qn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new ji(r,n))}),e.has(qn.keyField().canonicalString())||t.Ee.push(new ji(qn.keyField(),n))}return t.Ee}function da(e){const t=gn(e);return t.de||(t.de=ha(t,ua(e))),t.de}function ha(e,t){if("F"===e.limitType)return ta(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new ji(e.field,t)});const n=e.endAt?new Pi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pi(e.startAt.position,e.startAt.inclusive):null;return ta(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function fa(e,t,n){return new aa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pa(e,t){return ra(da(e),da(t))&&e.limitType===t.limitType}function ma(e){return"".concat(na(da(e)),"|lt:").concat(e.limitType)}function ga(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Wi(e)).join(", "),"]")),or(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>yi(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>yi(e)).join(",")),"Target(".concat(t,")")}(da(e)),"; limitType=").concat(e.limitType,")")}function va(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ua(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Di(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ua(e),t))&&!(e.endAt&&!function(e,t,n){const r=Di(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ua(e),t))}(e,t)}function ya(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ba(e){return(t,n)=>{let r=!1;for(const i of ua(e)){const e=wa(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function wa(e,t,n){const r=e.field.isKeyField()?Wn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mi(r,i):fn(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return fn(19790,{direction:e.dir})}}class Ea{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Fr(this.inner)}size(){return this.innerSize}}const Sa=new zr(Wn.comparator);function _a(){return Sa}const xa=new zr(Wn.comparator);function ka(){let e=xa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ta(e){let t=xa;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ca(){return Na()}function Ia(){return Na()}function Na(){return new Ea(e=>e.toString(),(e,t)=>e.isEqual(t))}const Aa=new zr(Wn.comparator),Oa=new Br(Wn.comparator);function Pa(){let e=Oa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Da=new Br(On);function Ra(){return Da}function ja(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sr(t)?"-0":t}}function La(e){return{integerValue:""+e}}function Ma(e,t){return lr(t)?La(t):ja(e,t)}class Fa{constructor(){this._=void 0}}function za(e,t,n){return e instanceof Ba?function(e,t){const n={fields:{[Jr]:{stringValue:$r},[ei]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ti(t)&&(t=ni(t)),t&&(n.fields[Zr]=t),{mapValue:n}}(n,t):e instanceof Ha?qa(e,t):e instanceof Wa?Ka(e,t):function(e,t){const n=Va(e,t),r=Qa(n)+Qa(e.Re);return Ei(n)&&Ei(e.Re)?La(r):ja(e.serializer,r)}(e,t)}function Ua(e,t,n){return e instanceof Ha?qa(e,t):e instanceof Wa?Ka(e,t):n}function Va(e,t){return e instanceof Ga?function(e){return Ei(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ba extends Fa{}class Ha extends Fa{constructor(e){super(),this.elements=e}}function qa(e,t){const n=Ya(t);for(const r of e.elements)n.some(e=>fi(e,r))||n.push(r);return{arrayValue:{values:n}}}class Wa extends Fa{constructor(e){super(),this.elements=e}}function Ka(e,t){let n=Ya(t);for(const r of e.elements)n=n.filter(e=>!fi(e,r));return{arrayValue:{values:n}}}class Ga extends Fa{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Qa(e){return Yr(e.integerValue||e.doubleValue)}function Ya(e){return Si(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Xa{constructor(e,t){this.field=e,this.transform=t}}class $a{constructor(e,t){this.version=e,this.transformResults=t}}class Ja{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ja}static exists(e){return new Ja(void 0,e)}static updateTime(e){return new Ja(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Za(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class eo{}function to(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ho(e.key,Ja.none()):new oo(e.key,e.data,Ja.none());{const n=e.data,r=Ni.empty();let i=new Br(qn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new so(e.key,r,new qr(i.toArray()),Ja.none())}}function no(e,t,n){e instanceof oo?function(e,t,n){const r=e.value.clone(),i=co(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof so?function(e,t,n){if(!Za(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=co(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(lo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ro(e,t,n,r){return e instanceof oo?function(e,t,n,r){if(!Za(e.precondition,t))return n;const i=e.value.clone(),a=uo(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof so?function(e,t,n,r){if(!Za(e.precondition,t))return n;const i=uo(e.fieldTransforms,r,t),a=t.data;return a.setAll(lo(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Za(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function io(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Va(r.transform,e||null);null!=i&&(null===n&&(n=Ni.empty()),n.set(r.field,i))}return n||null}function ao(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ha&&t instanceof Ha||e instanceof Wa&&t instanceof Wa?jn(e.elements,t.elements,fi):e instanceof Ga&&t instanceof Ga?fi(e.Re,t.Re):e instanceof Ba&&t instanceof Ba}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class oo extends eo{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class so extends eo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function lo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function co(e,t,n){const r=new Map;mn(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ua(o,s,n[i]))}return r}function uo(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,za(e,a,t))}return r}class ho extends eo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fo extends eo{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class po{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&no(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ro(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ro(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Ia();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=to(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(zn.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pa())}isEqual(e){return this.batchId===e.batchId&&jn(this.mutations,e.mutations,(e,t)=>ao(e,t))&&jn(this.baseMutations,e.baseMutations,(e,t)=>ao(e,t))}}class mo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){mn(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Aa;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new mo(e,t,n,r)}}class go{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class vo{constructor(e,t){this.count=e,this.unchangedNames=t}}var yo,bo;function wo(e){switch(e){case vn.OK:return fn(64938);case vn.CANCELLED:case vn.UNKNOWN:case vn.DEADLINE_EXCEEDED:case vn.RESOURCE_EXHAUSTED:case vn.INTERNAL:case vn.UNAVAILABLE:case vn.UNAUTHENTICATED:return!1;case vn.INVALID_ARGUMENT:case vn.NOT_FOUND:case vn.ALREADY_EXISTS:case vn.PERMISSION_DENIED:case vn.FAILED_PRECONDITION:case vn.ABORTED:case vn.OUT_OF_RANGE:case vn.UNIMPLEMENTED:case vn.DATA_LOSS:return!0;default:return fn(15467,{code:e})}}function Eo(e){if(void 0===e)return un("GRPC error has no .code"),vn.UNKNOWN;switch(e){case yo.OK:return vn.OK;case yo.CANCELLED:return vn.CANCELLED;case yo.UNKNOWN:return vn.UNKNOWN;case yo.DEADLINE_EXCEEDED:return vn.DEADLINE_EXCEEDED;case yo.RESOURCE_EXHAUSTED:return vn.RESOURCE_EXHAUSTED;case yo.INTERNAL:return vn.INTERNAL;case yo.UNAVAILABLE:return vn.UNAVAILABLE;case yo.UNAUTHENTICATED:return vn.UNAUTHENTICATED;case yo.INVALID_ARGUMENT:return vn.INVALID_ARGUMENT;case yo.NOT_FOUND:return vn.NOT_FOUND;case yo.ALREADY_EXISTS:return vn.ALREADY_EXISTS;case yo.PERMISSION_DENIED:return vn.PERMISSION_DENIED;case yo.FAILED_PRECONDITION:return vn.FAILED_PRECONDITION;case yo.ABORTED:return vn.ABORTED;case yo.OUT_OF_RANGE:return vn.OUT_OF_RANGE;case yo.UNIMPLEMENTED:return vn.UNIMPLEMENTED;case yo.DATA_LOSS:return vn.DATA_LOSS;default:return fn(39323,{code:e})}}(bo=yo||(yo={}))[bo.OK=0]="OK",bo[bo.CANCELLED=1]="CANCELLED",bo[bo.UNKNOWN=2]="UNKNOWN",bo[bo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bo[bo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bo[bo.NOT_FOUND=5]="NOT_FOUND",bo[bo.ALREADY_EXISTS=6]="ALREADY_EXISTS",bo[bo.PERMISSION_DENIED=7]="PERMISSION_DENIED",bo[bo.UNAUTHENTICATED=16]="UNAUTHENTICATED",bo[bo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bo[bo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bo[bo.ABORTED=10]="ABORTED",bo[bo.OUT_OF_RANGE=11]="OUT_OF_RANGE",bo[bo.UNIMPLEMENTED=12]="UNIMPLEMENTED",bo[bo.INTERNAL=13]="INTERNAL",bo[bo.UNAVAILABLE=14]="UNAVAILABLE",bo[bo.DATA_LOSS=15]="DATA_LOSS";let So=null;const _o=new Bt([4294967295,4294967295],0);function xo(e){const t=Nn().encode(e),n=new Ht;return n.update(t),new Uint8Array(n.digest())}function ko(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Bt([n,r],0),new Bt([i,a],0)]}class To{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Co("Invalid padding: ".concat(t));if(n<0)throw new Co("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Co("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Co("Invalid padding when bitmap length is 0: ".concat(t));this.pe=8*e.length-t,this.ye=Bt.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Bt.fromNumber(n)));return 1===r.compare(_o)&&(r=new Bt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=xo(e),[n,r]=ko(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new To(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.pe)return;const t=xo(e),[n,r]=ko(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Io{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,No.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Io(zn.min(),r,new zr(On),_a(),Pa())}}class No{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new No(n,t,Pa(),Pa(),Pa())}}class Ao{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class Oo{constructor(e,t){this.targetId=e,this.Ce=t}}class Po{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Kr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Do{constructor(){this.Fe=0,this.Me=Lo(),this.xe=Kr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Pa(),t=Pa(),n=Pa();return this.Me.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:fn(38017,{changeType:i})}}),new No(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=Lo()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,mn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ro{constructor(e){this.ze=e,this.je=new Map,this.He=_a(),this.Je=jo(),this.Ye=jo(),this.Ze=new zr(On)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:fn(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((e,n)=>{this.it(n)&&t(n)})}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(ia(i))if(0===n){const e=new Wn(i.path);this.tt(t,e,Oi.newNoDocument(e,zn.min()))}else mn(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==So||So.ht(function(e,t,n,r,i){var a,o,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=Xr(n).toUint8Array()}catch(e){if(e instanceof Wr)return dn("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new To(a,r,i)}catch(e){return dn(e instanceof Co?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.ze.Pt(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.tt(t,n,null),r++)}),r}It(e){const t=new Map;this.je.forEach((n,r)=>{const i=this._t(r);if(i){if(n.current&&ia(i.target)){const t=new Wn(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Oi.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}});let n=Pa();this.Ye.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.He.forEach((t,n)=>n.setReadTime(e));const r=new Io(e,t,this.Ze,this.He,n);return this.He=_a(),this.Je=jo(),this.Ye=jo(),this.Ze=new zr(On),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Do,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Br(On),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Br(On),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||cn("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Do),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function jo(){return new zr(Wn.comparator)}function Lo(){return new zr(Wn.comparator)}const Mo={asc:"ASCENDING",desc:"DESCENDING"},Fo={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zo={and:"AND",or:"OR"};class Uo{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vo(e,t){return e.useProto3Json||or(t)?t:{value:t}}function Bo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ho(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function qo(e,t){return Bo(e,t.toTimestamp())}function Wo(e){return mn(!!e,49232),zn.fromTimestamp(function(e){const t=Qr(e);return new Fn(t.seconds,t.nanos)}(e))}function Ko(e,t){return Go(e,t).canonicalString()}function Go(e,t){const n=function(e){return new Bn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Qo(e){const t=Bn.fromString(e);return mn(ps(t),10190,{key:t.toString()}),t}function Yo(e,t){return Ko(e.databaseId,t.path)}function Xo(e,t){const n=Qo(t);if(n.get(1)!==e.databaseId.projectId)throw new yn(vn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new yn(vn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wn(es(n))}function $o(e,t){return Ko(e.databaseId,t)}function Jo(e){const t=Qo(e);return 4===t.length?Bn.emptyPath():es(t)}function Zo(e){return new Bn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function es(e){return mn(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ts(e,t,n){return{name:Yo(e,t),fields:n.value.mapValue.fields}}function ns(e,t){let n;if(t instanceof oo)n={update:ts(e,t.key,t.value)};else if(t instanceof ho)n={delete:Yo(e,t.key)};else if(t instanceof so)n={update:ts(e,t.key,t.data),updateMask:fs(t.fieldMask)};else{if(!(t instanceof fo))return fn(16599,{ft:t.type});n={verify:Yo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ba)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ha)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wa)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ga)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw fn(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:qo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:fn(27497)}(e,t.precondition)),n}function rs(e,t){return{documents:[$o(e,t.path)]}}function is(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$o(e,i);const a=function(e){if(0!==e.length)return hs(zi.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:us(e.field),direction:ss(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Vo(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function as(e){let t=Jo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mn(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=os(e);return t instanceof zi&&Vi(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map(e=>function(e){return new ji(ds(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,or(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Pi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Pi(n,t)}(n.endAt)),oa(t,i,o,a,s,"F",l,c)}function os(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ds(e.unaryFilter.field);return Fi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ds(e.unaryFilter.field);return Fi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ds(e.unaryFilter.field);return Fi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ds(e.unaryFilter.field);return Fi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fn(61313);default:return fn(60726)}}(e):void 0!==e.fieldFilter?function(e){return Fi.create(ds(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fn(58110);default:return fn(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return zi.create(e.compositeFilter.filters.map(e=>os(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return fn(1026)}}(e.compositeFilter.op))}(e):fn(30097,{filter:e})}function ss(e){return Mo[e]}function ls(e){return Fo[e]}function cs(e){return zo[e]}function us(e){return{fieldPath:e.canonicalString()}}function ds(e){return qn.fromServerFormat(e.fieldPath)}function hs(e){return e instanceof Fi?function(e){if("=="===e.op){if(xi(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NAN"}};if(_i(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xi(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NOT_NAN"}};if(_i(e.value))return{unaryFilter:{field:us(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(e.field),op:ls(e.op),value:e.value}}}(e):e instanceof zi?function(e){const t=e.getFilters().map(e=>hs(e));return 1===t.length?t[0]:{compositeFilter:{op:cs(e.op),filters:t}}}(e):fn(54877,{filter:e})}function fs(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ps(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ms{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zn.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zn.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Kr.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gs{constructor(e){this.wt=e}}function vs(e){const t=as({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?fa(t,t.limit,"L"):t}class ys{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(Yr(e.integerValue));else if("doubleValue"in e){const n=Yr(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),sr(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=Qr(n)),t.Ot("".concat(n.seconds||"")),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(Xr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Ii(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Ti(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):fn(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const a=di,o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(Yr(o)),this.Nt(a,t),this.Ct(i[a],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),Wn.fromName(e).path.forEach(e=>{this.Mt(t,60),this.Kt(e,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}ys.Wt=new ys;class bs{constructor(){this.Cn=new ws}addToCollectionParentIndex(e,t){return this.Cn.add(t),tr.resolve()}getCollectionParents(e,t){return tr.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return tr.resolve()}deleteFieldIndex(e,t){return tr.resolve()}deleteAllFieldIndexes(e){return tr.resolve()}createTargetIndexes(e,t){return tr.resolve()}getDocumentsMatchingTarget(e,t){return tr.resolve(null)}getIndexType(e,t){return tr.resolve(0)}getFieldIndexes(e,t){return tr.resolve([])}getNextCollectionGroupToUpdate(e){return tr.resolve(null)}getMinOffset(e,t){return tr.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,t){return tr.resolve(Xn.min())}updateCollectionGroup(e,t,n){return tr.resolve()}updateIndexEntries(e,t){return tr.resolve()}}class ws{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Br(Bn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Br(Bn.comparator)).toArray()}}new Uint8Array(0);const Es={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ss=41943040;class _s{static withCacheSize(e){return new _s(e,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}_s.DEFAULT_COLLECTION_PERCENTILE=10,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_s.DEFAULT=new _s(Ss,_s.DEFAULT_COLLECTION_PERCENTILE,_s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_s.DISABLED=new _s(-1,0,0);class xs{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new xs(0)}static lr(){return new xs(-1)}}const ks="LruGarbageCollector",Ts=1048576;function Cs(e,t){let[n,r]=e,[i,a]=t;const o=On(n,i);return 0===o?On(r,a):o}class Is{constructor(e){this.Er=e,this.buffer=new Br(Cs),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Cs(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ns{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){cn(ks,"Garbage collection scheduled in ".concat(e,"ms")),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){rr(e)?cn(ks,"Ignoring IndexedDB error during garbage collection: ",e):await er(e)}await this.mr(3e5)})}}class As{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return tr.resolve(ir.le);const n=new Is(t);return this.gr.forEachTarget(e,e=>n.Rr(e.sequenceNumber)).next(()=>this.gr.yr(e,e=>n.Rr(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector","Garbage collection skipped; disabled"),tr.resolve(Es)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(cn("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Es):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(cn("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),ln()<=ye.DEBUG&&cn("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-s)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),tr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Os(e,t){return new As(e,t)}class Ps{constructor(){this.changes=new Ea(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Oi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?tr.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ds{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rs{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ro(n.mutation,e,qr.empty(),Fn.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Pa()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pa();const r=Ca();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=ka();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ca();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Pa()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=_a();const a=Na(),o=Na();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof so)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),ro(o.mutation,t,o.mutation.getFieldMask(),Fn.now())):a.set(t.key,qr.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new Ds(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=Na();let r=new zr((e,t)=>e-t),i=Pa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||qr.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||Pa()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=Ia();l.forEach(e=>{if(!i.has(e)){const r=to(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return tr.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Wn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ca(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):tr.resolve(Ca());let o=Kn,s=i;return a.next(t=>tr.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?tr.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Pa())).next(e=>({batchId:o,changes:Ta(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Wn(t)).next(e=>{let t=ka();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=ka();return this.indexManager.getCollectionParents(e,i).next(o=>tr.forEach(o,o=>{const s=function(e,t){return new aa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Oi.newInvalidDocument(r)))});let n=ka();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&ro(a.mutation,r,qr.empty(),Fn.now()),va(t,r)&&(n=n.insert(e,r))}),n})}}class js{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return tr.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Wo(e.createTime)}}(t)),tr.resolve()}getNamedQuery(e,t){return tr.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:vs(e.bundledQuery),readTime:Wo(e.readTime)}}(t)),tr.resolve()}}class Ls{constructor(){this.overlays=new zr(Wn.comparator),this.Qr=new Map}getOverlay(e,t){return tr.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ca();return tr.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),tr.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Qr.delete(n)),tr.resolve()}getOverlaysForCollection(e,t,n){const r=Ca(),i=t.length+1,a=new Wn(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return tr.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new zr((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ca(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Ca(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return tr.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new go(t,n));let i=this.Qr.get(t);void 0===i&&(i=Pa(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class Ms{constructor(){this.sessionToken=Kr.EMPTY_BYTE_STRING}getSessionToken(e){return tr.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,tr.resolve()}}class Fs{constructor(){this.$r=new Br(zs.Ur),this.Kr=new Br(zs.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new zs(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.zr(new zs(e,t))}jr(e,t){e.forEach(e=>this.removeReference(e,t))}Hr(e){const t=new Wn(new Bn([])),n=new zs(t,e),r=new zs(t,e+1),i=[];return this.Kr.forEachInRange([n,r],e=>{this.zr(e),i.push(e.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Wn(new Bn([])),n=new zs(t,e),r=new zs(t,e+1);let i=Pa();return this.Kr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new zs(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zs{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Wn.comparator(e.key,t.key)||On(e.Zr,t.Zr)}static Wr(e,t){return On(e.Zr,t.Zr)||Wn.comparator(e.key,t.key)}}class Us{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Br(zs.Ur)}checkEmpty(e){return tr.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new po(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Xr=this.Xr.add(new zs(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return tr.resolve(a)}lookupMutationBatch(e,t){return tr.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return tr.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return tr.resolve(0===this.mutationQueue.length?ar:this.nr-1)}getAllMutationBatches(e){return tr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zs(t,0),r=new zs(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],e=>{const t=this.ei(e.Zr);i.push(t)}),tr.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Br(On);return t.forEach(e=>{const t=new zs(e,0),r=new zs(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],e=>{n=n.add(e.Zr)})}),tr.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Wn.isDocumentKey(i)||(i=i.child(""));const a=new zs(new Wn(i),0);let o=new Br(On);return this.Xr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Zr)),!0)},a),tr.resolve(this.ni(o))}ni(e){const t=[];return e.forEach(e=>{const n=this.ei(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){mn(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return tr.forEach(t.mutations,r=>{const i=new zs(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,t){const n=new zs(t,0),r=this.Xr.firstAfterOrEqual(n);return tr.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,tr.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vs{constructor(e){this.ii=e,this.docs=new zr(Wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return tr.resolve(n?n.document.mutableCopy():Oi.newInvalidDocument(t))}getEntries(e,t){let n=_a();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Oi.newInvalidDocument(e))}),tr.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=_a();const a=t.path,o=new Wn(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||$n(Yn(o),n)<=0||(r.has(o.key)||va(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return tr.resolve(i)}getAllFromCollectionGroup(e,t,n,r){fn(9500)}si(e,t){return tr.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Bs(this)}getSize(e){return tr.resolve(this.size)}}class Bs extends Ps{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)}),tr.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Hs{constructor(e){this.persistence=e,this.oi=new Ea(e=>na(e),ra),this.lastRemoteSnapshotVersion=zn.min(),this.highestTargetId=0,this._i=0,this.ai=new Fs,this.targetCount=0,this.ui=xs.cr()}forEachTarget(e,t){return this.oi.forEach((e,n)=>t(n)),tr.resolve()}getLastRemoteSnapshotVersion(e){return tr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tr.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),tr.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),tr.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new xs(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,tr.resolve()}updateTargetData(e,t){return this.Tr(t),tr.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,tr.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.oi.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),tr.waitFor(i).next(()=>r)}getTargetCount(e){return tr.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return tr.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),tr.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),tr.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),tr.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return tr.resolve(n)}containsKey(e,t){return tr.resolve(this.ai.containsKey(t))}}class qs{constructor(e,t){this.ci={},this.overlays={},this.li=new ir(0),this.hi=!1,this.hi=!0,this.Pi=new Ms,this.referenceDelegate=e(this),this.Ti=new Hs(this),this.indexManager=new bs,this.remoteDocumentCache=function(e){return new Vs(e)}(e=>this.referenceDelegate.Ii(e)),this.serializer=new gs(t),this.Ei=new js(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ls,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new Us(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){cn("MemoryPersistence","Starting transaction:",e);const r=new Ws(this.li.next());return this.referenceDelegate.di(),n(r).next(e=>this.referenceDelegate.Ai(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ri(e,t){return tr.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,t)))}}class Ws extends Zn{constructor(e){super(),this.currentSequenceNumber=e}}class Ks{constructor(e){this.persistence=e,this.Vi=new Fs,this.mi=null}static fi(e){return new Ks(e)}get gi(){if(this.mi)return this.mi;throw fn(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),tr.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),tr.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),tr.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(e=>this.gi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.gi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tr.forEach(this.gi,n=>{const r=Wn.fromPath(n);return this.pi(e,r).next(e=>{e||t.removeEntry(r,zn.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return tr.or([()=>tr.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Gs{constructor(e,t){this.persistence=e,this.yi=new Ea(e=>ur(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Os(this,t)}static fi(e,t){return new Gs(e,t)}di(){}Ai(e){return tr.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}br(e){let t=0;return this.yr(e,e=>{t++}).next(()=>t)}yr(e,t){return tr.forEach(this.yi,(n,r)=>this.Dr(e,n,r).next(e=>e?tr.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,r=>this.Dr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,zn.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),tr.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),tr.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),tr.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),tr.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=wi(e.data.value)),t}Dr(e,t,n){return tr.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return tr.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qs{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=Pa(),r=Pa();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Qs(e,t.fromCache,n,r)}}class Ys{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Xs{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=J()?8:nr(Y())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.bs(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new Ys;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)})}).next(()=>i.result)}Ds(e,t,n,r){return n.documentReadCount<this.gs?(ln()<=ye.DEBUG&&cn("QueryEngine","SDK will not create cache indexes for query:",ga(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),tr.resolve()):(ln()<=ye.DEBUG&&cn("QueryEngine","Query:",ga(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(ln()<=ye.DEBUG&&cn("QueryEngine","The SDK decides to create cache indexes for query:",ga(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,da(t))):tr.resolve())}ws(e,t){if(la(t))return tr.resolve(null);let n=da(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=fa(t,null,"F"),n=da(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Pa(...r);return this.ys.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.vs(t,r);return this.Cs(t,a,i,n.readTime)?this.ws(e,fa(t,null,"F")):this.Fs(e,a,t,n)}))})))}bs(e,t,n,r){return la(t)||r.isEqual(zn.min())?tr.resolve(null):this.ys.getDocuments(e,n).next(i=>{const a=this.vs(t,i);return this.Cs(t,a,n,r)?tr.resolve(null):(ln()<=ye.DEBUG&&cn("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ga(t)),this.Fs(e,a,t,Qn(r,Kn)).next(e=>e))})}vs(e,t){let n=new Br(ba(e));return t.forEach((t,r)=>{va(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return ln()<=ye.DEBUG&&cn("QueryEngine","Using full collection scan to execute query:",ga(t)),this.ys.getDocumentsMatchingQuery(e,t,Xn.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const $s="LocalStore";class Js{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new zr(On),this.Os=new Ea(e=>na(e),ra),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rs(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Zs(e,t,n,r){return new Js(e,t,n,r)}async function el(e,t){const n=gn(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let o=Pa();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({ks:e,removedBatchIds:i,addedBatchIds:a}))})})}function tl(e){const t=gn(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function nl(e,t,n){let r=Pa(),i=Pa();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=_a();return n.forEach((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(zn.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):cn($s,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)}),{qs:r,Qs:i}})}function rl(e,t){const n=gn(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ar),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function il(e,t){const n=gn(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ti.getTargetData(e,t).next(i=>i?(r=i,tr.resolve(r)):n.Ti.allocateTargetId(e).next(i=>(r=new ms(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e})}async function al(e,t,n){const r=gn(e),i=r.xs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!rr(e))throw e;cn($s,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function ol(e,t,n){const r=gn(e);let i=zn.min(),a=Pa();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=gn(e),i=r.Os.get(n);return void 0!==i?tr.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,da(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:zn.min(),n?a:Pa())).next(e=>(sl(r,ya(t),e),{documents:e,$s:a})))}function sl(e,t,n){let r=e.Ns.get(t)||zn.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ns.set(t,r)}class ll{constructor(){this.activeTargetIds=Ra()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cl{constructor(){this.xo=new ll,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ll,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ul{No(e){}shutdown(){}}const dl="ConnectivityMonitor";class hl{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){cn(dl,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){cn(dl,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fl=null;function pl(){return null===fl?fl=268435456+Math.round(2147483648*Math.random()):fl++,"0x"+fl.toString(16)}const ml="RestConnection",gl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vl{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo="projects/".concat(n,"/databases/").concat(r),this.Go=this.databaseId.database===ai?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}zo(e,t,n,r,i){const a=pl(),o=this.jo(e,t.toUriEncodedString());cn(ml,"Sending RPC '".concat(e,"' ").concat(a,":"),o,n);const s={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(s,r,i);const{host:l}=new URL(o),c=q(l);return this.Jo(e,o,s,n,c).then(t=>(cn(ml,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw dn(ml,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t})}Yo(e,t,n,r,i,a){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+on,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}jo(e,t){const n=gl[e];return"".concat(this.Ko,"/v1/").concat(t,":").concat(n)}terminate(){}}class yl{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const bl="WebChannelConnection";class wl extends vl{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const a=pl();return new Promise((i,o)=>{const s=new Kt;s.setWithCredentials(!0),s.listenOnce(Qt.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case Yt.NO_ERROR:const t=s.getResponseJson();cn(bl,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(t)),i(t);break;case Yt.TIMEOUT:cn(bl,"RPC '".concat(e,"' ").concat(a," timed out")),o(new yn(vn.DEADLINE_EXCEEDED,"Request time out"));break;case Yt.HTTP_ERROR:const n=s.getStatus();if(cn(bl,"RPC '".concat(e,"' ").concat(a," failed with status:"),n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(vn).indexOf(t)>=0?t:vn.UNKNOWN}(t.status);o(new yn(e,t.message))}else o(new yn(vn.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new yn(vn.UNAVAILABLE,"Connection failed."));break;default:fn(9055,{h_:e,streamId:a,P_:s.getLastErrorCode(),T_:s.getLastError()})}}finally{cn(bl,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);cn(bl,"RPC '".concat(e,"' ").concat(a," sending request:"),r),s.send(t,"POST",l,n,15)})}I_(e,t,n){const r=pl(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Zt(),o=Jt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");cn(bl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),s);const u=a.createWebChannel(c,s);this.E_(u);let d=!1,h=!1;const f=new yl({Zo:t=>{h?cn(bl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(cn(bl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),cn(bl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Gt.EventType.OPEN,()=>{h||(cn(bl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.__())}),p(u,Gt.EventType.CLOSE,()=>{h||(h=!0,cn(bl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.u_(),this.d_(u))}),p(u,Gt.EventType.ERROR,t=>{h||(h=!0,dn(bl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),f.u_(new yn(vn.UNAVAILABLE,"The operation could not be completed")))}),p(u,Gt.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];mn(!!i,16349);const a=i,o=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){cn(bl,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=yo[e];if(void 0!==t)return Eo(t)}(t),i=o.message;void 0===n&&(n=vn.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.u_(new yn(n,i)),u.close()}else cn(bl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.c_(i)}}),p(o,$t.STAT_EVENT,t=>{t.stat===Xt.PROXY?cn(bl,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Xt.NOPROXY&&cn(bl,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.a_()},0),f}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function El(){return"undefined"!=typeof document?document:null}function Sl(e){return new Uo(e,!0)}class _l{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.A_=n,this.R_=r,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),r=Math.max(0,t-n);r>0&&cn("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.m_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){null!==this.f_&&(this.f_.skipDelay(),this.f_=null)}cancel(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}const xl="PersistentStream";class kl{constructor(e,t,n,r,i,a,o,s){this.xi=e,this.S_=n,this.D_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new _l(e,t)}O_(){return 1===this.state||5===this.state||this.N_()}N_(){return 2===this.state||3===this.state}start(){this.M_=0,4!==this.state?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&null===this.C_&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,4!==e?this.x_.reset():t&&t.code===vn.RESOURCE_EXHAUSTED?(un(t.toString()),un("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===vn.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.v_===t&&this.z_(n,r)},t=>{e(()=>{const e=new yn(vn.UNKNOWN,"Fetching auth token failed: "+t.message);return this.j_(e)})})}z_(e,t){const n=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(e=>{n(()=>this.j_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.M_?this.J_(e):this.onNext(e))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return cn(xl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(cn(xl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Tl extends kl{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:fn(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(mn(void 0===t||"string"==typeof t,58123),Kr.fromBase64String(t||"")):(mn(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Kr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?vn.UNKNOWN:Eo(e.code);return new yn(t,e.message||"")}(o);n=new Po(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xo(e,r.document.name),a=Wo(r.document.updateTime),o=r.document.createTime?Wo(r.document.createTime):zn.min(),s=new Ni({mapValue:{fields:r.document.fields}}),l=Oi.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ao(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Xo(e,r.document),a=r.readTime?Wo(r.readTime):zn.min(),o=Oi.newNoDocument(i,a),s=r.removedTargetIds||[];n=new Ao([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Xo(e,r.document),a=r.removedTargetIds||[];n=new Ao([],a,i,null)}else{if(!("filter"in t))return fn(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new vo(r,i),o=e.targetId;n=new Oo(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return zn.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zn.min():t.readTime?Wo(t.readTime):zn.min()}(e);return this.listener.Y_(t,n)}Z_(e){const t={};t.database=Zo(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ia(r)?{documents:rs(e,r)}:{query:is(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ho(e,t.resumeToken);const r=Vo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(zn.min())>0){n.readTime=Bo(e,t.snapshotVersion.toTimestamp());const r=Vo(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fn(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Q_(t)}X_(e){const t={};t.database=Zo(this.serializer),t.removeTarget=e,this.Q_(t)}}class Cl extends kl{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return mn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,mn(!e.writeResults||0===e.writeResults.length,55816),this.listener.na()}onNext(e){mn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=function(e,t){return e&&e.length>0?(mn(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Wo(e.updateTime):Wo(t);return n.isEqual(zn.min())&&(n=Wo(t)),new $a(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Wo(e.commitTime);return this.listener.ra(n,t)}ia(){const e={};e.database=Zo(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ns(this.serializer,e))};this.Q_(t)}}class Il{}class Nl extends Il{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new yn(vn.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.zo(e,Go(t,n),r,a,o)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===vn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yn(vn.UNKNOWN,e.toString())})}Yo(e,t,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[o,s]=a;return this.connection.Yo(e,Go(t,n),r,o,s,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===vn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new yn(vn.UNKNOWN,e.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Al{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){0===this._a&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){"Online"===this.state?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.la("Offline")))}set(e){this.Ta(),this._a=0,"Online"===e&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ua?(un(t),this.ua=!1):cn("OnlineStateTracker",t)}Ta(){null!==this.aa&&(this.aa.cancel(),this.aa=null)}}const Ol="RemoteStore";class Pl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(e=>{n.enqueueAndForget(async()=>{Vl(this)&&(cn(Ol,"Restarting streams for network reachability change."),await async function(e){const t=gn(e);t.da.add(4),await Rl(t),t.Va.set("Unknown"),t.da.delete(4),await Dl(t)}(this))})}),this.Va=new Al(n,r)}}async function Dl(e){if(Vl(e))for(const t of e.Aa)await t(!0)}async function Rl(e){for(const t of e.Aa)await t(!1)}function jl(e,t){const n=gn(e);n.Ea.has(t.targetId)||(n.Ea.set(t.targetId,t),Ul(n)?zl(n):oc(n).N_()&&Ml(n,t))}function Ll(e,t){const n=gn(e),r=oc(n);n.Ea.delete(t),r.N_()&&Fl(n,t),0===n.Ea.size&&(r.N_()?r.k_():Vl(n)&&n.Va.set("Unknown"))}function Ml(e,t){if(e.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zn.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}oc(e).Z_(t)}function Fl(e,t){e.ma.Ke(t),oc(e).X_(t)}function zl(e){e.ma=new Ro({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Ea.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),oc(e).start(),e.Va.ca()}function Ul(e){return Vl(e)&&!oc(e).O_()&&e.Ea.size>0}function Vl(e){return 0===gn(e).da.size}function Bl(e){e.ma=void 0}async function Hl(e){e.Va.set("Online")}async function ql(e){e.Ea.forEach((t,n)=>{Ml(e,t)})}async function Wl(e,t){Bl(e),Ul(e)?(e.Va.Pa(t),zl(e)):e.Va.set("Unknown")}async function Kl(e,t,n){if(e.Va.set("Online"),t instanceof Po&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ea.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ea.delete(r),e.ma.removeTarget(r))}(e,t)}catch(n){cn(Ol,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Gl(e,n)}else if(t instanceof Ao?e.ma.Xe(t):t instanceof Oo?e.ma.ot(t):e.ma.nt(t),!n.isEqual(zn.min()))try{const t=await tl(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ma.It(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ea.get(r);i&&e.Ea.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ea.get(t);if(!r)return;e.Ea.set(t,r.withResumeToken(Kr.EMPTY_BYTE_STRING,r.snapshotVersion)),Fl(e,t);const i=new ms(r.target,t,n,r.sequenceNumber);Ml(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){cn(Ol,"Failed to raise snapshot:",t),await Gl(e,t)}}async function Gl(e,t,n){if(!rr(t))throw t;e.da.add(1),await Rl(e),e.Va.set("Offline"),n||(n=()=>tl(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{cn(Ol,"Retrying IndexedDB access"),await n(),e.da.delete(1),await Dl(e)})}function Ql(e,t){return t().catch(n=>Gl(e,n,t))}async function Yl(e){const t=gn(e),n=sc(t);let r=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:ar;for(;Xl(t);)try{const e=await rl(t.localStore,r);if(null===e){0===t.Ia.length&&n.k_();break}r=e.batchId,$l(t,e)}catch(e){await Gl(t,e)}Jl(t)&&Zl(t)}function Xl(e){return Vl(e)&&e.Ia.length<10}function $l(e,t){e.Ia.push(t);const n=sc(e);n.N_()&&n.ea&&n.ta(t.mutations)}function Jl(e){return Vl(e)&&!sc(e).O_()&&e.Ia.length>0}function Zl(e){sc(e).start()}async function ec(e){sc(e).ia()}async function tc(e){const t=sc(e);for(const n of e.Ia)t.ta(n.mutations)}async function nc(e,t,n){const r=e.Ia.shift(),i=mo.from(r,t,n);await Ql(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Yl(e)}async function rc(e,t){t&&sc(e).ea&&await async function(e,t){if(function(e){return wo(e)&&e!==vn.ABORTED}(t.code)){const n=e.Ia.shift();sc(e).L_(),await Ql(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Yl(e)}}(e,t),Jl(e)&&Zl(e)}async function ic(e,t){const n=gn(e);n.asyncQueue.verifyOperationInProgress(),cn(Ol,"RemoteStore received new credentials");const r=Vl(n);n.da.add(3),await Rl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.da.delete(3),await Dl(n)}async function ac(e,t){const n=gn(e);t?(n.da.delete(2),await Dl(n)):t||(n.da.add(2),await Rl(n),n.Va.set("Unknown"))}function oc(e){return e.fa||(e.fa=function(e,t,n){const r=gn(e);return r.oa(),new Tl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:Hl.bind(null,e),n_:ql.bind(null,e),i_:Wl.bind(null,e),Y_:Kl.bind(null,e)}),e.Aa.push(async t=>{t?(e.fa.L_(),Ul(e)?zl(e):e.Va.set("Unknown")):(await e.fa.stop(),Bl(e))})),e.fa}function sc(e){return e.ga||(e.ga=function(e,t,n){const r=gn(e);return r.oa(),new Cl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:ec.bind(null,e),i_:rc.bind(null,e),na:tc.bind(null,e),ra:nc.bind(null,e)}),e.Aa.push(async t=>{t?(e.ga.L_(),await Yl(e)):(await e.ga.stop(),e.Ia.length>0&&(cn(Ol,"Stopping write stream with ".concat(e.Ia.length," pending writes")),e.Ia=[]))})),e.ga}class lc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new lc(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new yn(vn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cc(e,t){if(un("AsyncQueue","".concat(t,": ").concat(e)),rr(e))return new yn(vn.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class uc{static emptySet(e){return new uc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Wn.comparator(t.key,n.key):(e,t)=>Wn.comparator(e.key,t.key),this.keyedMap=ka(),this.sortedSet=new zr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new uc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class dc{constructor(){this.pa=new zr(Wn.comparator)}track(e){const t=e.doc.key,n=this.pa.get(t);n?0!==e.type&&3===n.type?this.pa=this.pa.insert(t,e):3===e.type&&1!==n.type?this.pa=this.pa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pa=this.pa.remove(t):1===e.type&&2===n.type?this.pa=this.pa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):fn(63341,{Vt:e,ya:n}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,n)=>{e.push(n)}),e}}class hc{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new hc(e,t,uc.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class fc{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class pc{constructor(){this.queries=mc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=gn(e),r=n.queries;n.queries=mc(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new yn(vn.ABORTED,"Firestore shutting down"))}}function mc(){return new Ea(e=>ma(e),pa)}async function gc(e,t){const n=gn(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Da()&&t.va()&&(r=2):(a=new fc,r=t.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=cc(e,"Initialization of query '".concat(ga(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.Sa.push(t),t.Fa(n.onlineState),a.ba&&t.Ma(a.ba)&&wc(n)}async function vc(e,t){const n=gn(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),0===a.Sa.length?i=t.va()?0:1:!a.Da()&&t.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yc(e,t){const n=gn(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Ma(i)&&(r=!0);t.ba=i}}r&&wc(n)}function bc(e,t,n){const r=gn(e),i=r.queries.get(t);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(t)}function wc(e){e.Ca.forEach(e=>{e.next()})}var Ec,Sc;(Sc=Ec||(Ec={})).xa="default",Sc.Cache="cache";class _c{constructor(e,t,n){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=n||{}}Ma(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new hc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache)return!0;if(!this.va())return!0;const n="Offline"!==t;return(!this.options.Qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qa(e){e=hc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Ec.Cache}}class xc{constructor(e){this.key=e}}class kc{constructor(e){this.key=e}}class Tc{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pa(),this.mutatedKeys=Pa(),this.Za=ba(e),this.Xa=new uc(this.Za)}get eu(){return this.Ha}tu(e,t){const n=t?t.nu:new dc,r=t?t.Xa:this.Xa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=va(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ru(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.Za(u,s)>0||l&&this.Za(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Xa:a,nu:n,Cs:o,mutatedKeys:i}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const a=e.nu.wa();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fn(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Za(e.doc,t.doc)),this.iu(n),r=null!=r&&r;const o=t&&!r?this.su():[],s=0===this.Ya.size&&this.current&&!r?1:0,l=s!==this.Ja;return this.Ja=s,0!==a.length||l?{snapshot:new hc(this.query,e.Xa,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ou:o}:{ou:o}}Fa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new dc,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Pa(),this.Xa.forEach(e=>{this._u(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new kc(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new xc(n))}),t}au(e){this.Ha=e.$s,this.Ya=Pa();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return hc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,0===this.Ja,this.hasCachedResults)}}const Cc="SyncEngine";class Ic{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Nc{constructor(e){this.key=e,this.cu=!1}}class Ac{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.lu={},this.hu=new Ea(e=>ma(e),pa),this.Pu=new Map,this.Tu=new Set,this.Iu=new zr(Wn.comparator),this.Eu=new Map,this.du=new Fs,this.Au={},this.Ru=new Map,this.Vu=xs.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return!0===this.mu}}async function Oc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Jc(e);let i;const a=r.hu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await Dc(r,t,n,!0),i}async function Pc(e,t){const n=Jc(e);await Dc(n,t,!0,!1)}async function Dc(e,t,n,r){const i=await il(e.localStore,da(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await Rc(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&jl(e.remoteStore,i),s}async function Rc(e,t,n,r,i){e.fu=(t,n,r)=>async function(e,t,n,r){let i=t.view.tu(n);i.Cs&&(i=await ol(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.tu(n,i)}));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return Kc(e,t.targetId,s.ou),s.snapshot}(e,t,n,r);const a=await ol(e.localStore,t,!0),o=new Tc(t,a.$s),s=o.tu(a.documents),l=No.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);Kc(e,n,c.ou);const u=new Ic(t,n,o);return e.hu.set(t,u),e.Pu.has(n)?e.Pu.get(n).push(t):e.Pu.set(n,[t]),c.snapshot}async function jc(e,t,n){const r=gn(e),i=r.hu.get(t),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(e=>!pa(e,t))),void r.hu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await al(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ll(r.remoteStore,i.targetId),qc(r,i.targetId)}).catch(er)):(qc(r,i.targetId),await al(r.localStore,i.targetId,!0))}async function Lc(e,t){const n=gn(e),r=n.hu.get(t),i=n.Pu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ll(n.remoteStore,r.targetId))}async function Mc(e,t){const n=gn(e);try{const e=await function(e,t){const n=gn(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const o=[];t.targetChanges.forEach((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Ti.removeMatchingKeys(e,a.removedDocuments,s).next(()=>n.Ti.addMatchingKeys(e,a.addedDocuments,s)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Kr.EMPTY_BYTE_STRING,zn.min()).withLastLimboFreeSnapshotVersion(zn.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Ti.updateTargetData(e,c))});let s=_a(),l=Pa();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(nl(e,a,t.documentUpdates).next(e=>{s=e.qs,l=e.Qs})),!r.isEqual(zn.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next(t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return tr.waitFor(o).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.xs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(mn(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.cu=!0:e.modifiedDocuments.size>0?mn(r.cu,14607):e.removedDocuments.size>0&&(mn(r.cu,42227),r.cu=!1))}),await Yc(n,e,t)}catch(e){await er(e)}}function Fc(e,t,n){const r=gn(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.hu.forEach((n,r)=>{const i=r.view.Fa(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=gn(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.Fa(t)&&(r=!0)}),r&&wc(n)}(r.eventManager,t),e.length&&r.lu.Y_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zc(e,t,n){const r=gn(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),a=i&&i.key;if(a){let e=new zr(Wn.comparator);e=e.insert(a,Oi.newNoDocument(a,zn.min()));const n=Pa().add(a),i=new Io(zn.min(),new Map,new zr(On),e,n);await Mc(r,i),r.Iu=r.Iu.remove(a),r.Eu.delete(t),Qc(r)}else await al(r.localStore,t,!1).then(()=>qc(r,t,n)).catch(er)}async function Uc(e,t){const n=gn(e),r=t.batch.batchId;try{const e=await function(e,t){const n=gn(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=tr.resolve();return a.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);mn(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Pa();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Hc(n,r,null),Bc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yc(n,e)}catch(e){await er(e)}}async function Vc(e,t,n){const r=gn(e);try{const e=await function(e,t){const n=gn(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(mn(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Hc(r,t,n),Bc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yc(r,e)}catch(n){await er(n)}}function Bc(e,t){(e.Ru.get(t)||[]).forEach(e=>{e.resolve()}),e.Ru.delete(t)}function Hc(e,t,n){const r=gn(e);let i=r.Au[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Au[r.currentUser.toKey()]=i}}function qc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Pu.get(t))e.hu.delete(r),n&&e.lu.gu(r,n);e.Pu.delete(t),e.isPrimaryClient&&e.du.Hr(t).forEach(t=>{e.du.containsKey(t)||Wc(e,t)})}function Wc(e,t){e.Tu.delete(t.path.canonicalString());const n=e.Iu.get(t);null!==n&&(Ll(e.remoteStore,n),e.Iu=e.Iu.remove(t),e.Eu.delete(n),Qc(e))}function Kc(e,t,n){for(const r of n)r instanceof xc?(e.du.addReference(r.key,t),Gc(e,r)):r instanceof kc?(cn(Cc,"Document no longer in limbo: "+r.key),e.du.removeReference(r.key,t),e.du.containsKey(r.key)||Wc(e,r.key)):fn(19791,{pu:r})}function Gc(e,t){const n=t.key,r=n.path.canonicalString();e.Iu.get(n)||e.Tu.has(r)||(cn(Cc,"New document in limbo: "+n),e.Tu.add(r),Qc(e))}function Qc(e){for(;e.Tu.size>0&&e.Iu.size<e.maxConcurrentLimboResolutions;){const t=e.Tu.values().next().value;e.Tu.delete(t);const n=new Wn(Bn.fromString(t)),r=e.Vu.next();e.Eu.set(r,new Nc(n)),e.Iu=e.Iu.insert(n,r),jl(e.remoteStore,new ms(da(sa(n.path)),r,"TargetPurposeLimboResolution",ir.le))}}async function Yc(e,t,n){const r=gn(e),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((e,s)=>{o.push(r.fu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Qs.Rs(s.targetId,e);a.push(t)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(e,t){const n=gn(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>tr.forEach(t,t=>tr.forEach(t.ds,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>tr.forEach(t.As,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!rr(e))throw e;cn($s,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,a))}async function Xc(e,t){const n=gn(e);if(!n.currentUser.isEqual(t)){cn(Cc,"User change. New user:",t.toKey());const e=await el(n.localStore,t);n.currentUser=t,function(e,t){e.Ru.forEach(e=>{e.forEach(e=>{e.reject(new yn(vn.CANCELLED,t))})}),e.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Yc(n,e.ks)}}function $c(e,t){const n=gn(e),r=n.Eu.get(t);if(r&&r.cu)return Pa().add(r.key);{let e=Pa();const r=n.Pu.get(t);if(!r)return e;for(const t of r){const r=n.hu.get(t);e=e.unionWith(r.view.eu)}return e}}function Jc(e){const t=gn(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Mc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$c.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zc.bind(null,t),t.lu.Y_=yc.bind(null,t.eventManager),t.lu.gu=bc.bind(null,t.eventManager),t}function Zc(e){const t=gn(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Uc.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vc.bind(null,t),t}class eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sl(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return Zs(this.persistence,new Xs,e.initialUser,this.serializer)}Su(e){return new qs(Ks.fi,this.serializer)}bu(e){return new cl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eu.provider={build:()=>new eu};class tu extends eu{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){mn(this.persistence.referenceDelegate instanceof Gs,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ns(n,e.asyncQueue,t)}Su(e){const t=void 0!==this.cacheSizeBytes?_s.withCacheSize(this.cacheSizeBytes):_s.DEFAULT;return new qs(e=>Gs.fi(e,t),this.serializer)}}class nu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Fc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xc.bind(null,this.syncEngine),await ac(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new pc}createDatastore(e){const t=Sl(e.databaseInfo.databaseId),n=function(e){return new wl(e)}(e.databaseInfo);return function(e,t,n,r){return new Nl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Pl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Fc(this.syncEngine,e,0),hl.C()?new hl:new ul)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new Ac(e,t,n,r,i,a);return o&&(s.mu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=gn(e);cn(Ol,"RemoteStore shutting down."),t.da.add(5),await Rl(t),t.Ra.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}nu.provider={build:()=>new nu};class ru{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):un("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const iu="FirestoreClient";class au{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=an.UNAUTHENTICATED,this.clientId=An.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{cn(iu,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(cn(iu,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=cc(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ou(e,t){e.asyncQueue.verifyOperationInProgress(),cn(iu,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await el(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function su(e,t){e.asyncQueue.verifyOperationInProgress();const n=await lu(e);cn(iu,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>ic(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>ic(t.remoteStore,n)),e._onlineComponents=t}async function lu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){cn(iu,"Using user provided OfflineComponentProvider");try{await ou(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===vn.FAILED_PRECONDITION||e.code===vn.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;dn("Error using user provided cache. Falling back to memory cache: "+n),await ou(e,new eu)}}else cn(iu,"Using default OfflineComponentProvider"),await ou(e,new tu(void 0));return e._offlineComponents}async function cu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(cn(iu,"Using user provided OnlineComponentProvider"),await su(e,e._uninitializedComponentsProvider._online)):(cn(iu,"Using default OnlineComponentProvider"),await su(e,new nu))),e._onlineComponents}function uu(e){return cu(e).then(e=>e.syncEngine)}async function du(e){const t=await cu(e),n=t.eventManager;return n.onListen=Oc.bind(null,t.syncEngine),n.onUnlisten=jc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Pc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Lc.bind(null,t.syncEngine),n}function hu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ru({next:s=>{a.xu(),t.enqueueAndForget(()=>vc(e,o));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new yn(vn.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new yn(vn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new _c(sa(n.path),a,{includeMetadataChanges:!0,Qa:!0});return gc(e,o)}(await du(e),e.asyncQueue,t,n,r)),r.promise}function fu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bn;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new ru({next:n=>{a.xu(),t.enqueueAndForget(()=>vc(e,o)),n.fromCache&&"server"===r.source?i.reject(new yn(vn.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new _c(n,a,{includeMetadataChanges:!0,Qa:!0});return gc(e,o)}(await du(e),e.asyncQueue,t,n,r)),r.promise}function pu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const mu=new Map;function gu(e,t,n){if(!n)throw new yn(vn.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function vu(e){if(!Wn.isDocumentKey(e))throw new yn(vn.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yu(e){if(Wn.isDocumentKey(e))throw new yn(vn.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function bu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":fn(12329,{type:typeof e})}function wu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new yn(vn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bu(e);throw new yn(vn.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}const Eu="firestore.googleapis.com",Su=!0;class _u{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new yn(vn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Eu,this.ssl=Su}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Su;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ss;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ts)throw new yn(vn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new yn(vn.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new yn(vn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new yn(vn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new yn(vn.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xu{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _u({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yn(vn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new yn(vn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _u(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new En;switch(e.type){case"firstParty":return new kn(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new yn(vn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=mu.get(e);t&&(cn("ComponentProvider","Removing Datastore"),mu.delete(e),t.terminate())}(this),Promise.resolve()}}function ku(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=wu(e,xu);const a=q(t),o=e._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l="".concat(t,":").concat(n);a&&(W("https://".concat(l)),Q("Firestore",!0)),o.host!==Eu&&o.host!==l&&dn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:a,emulatorOptions:r});if(!ie(c,s)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=an.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[L(JSON.stringify({alg:"none",type:"JWT"})),L(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new yn(vn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new an(a)}e._authCredentials=new Sn(new wn(t,n))}}class Tu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Tu(this.firestore,e,this._query)}}class Cu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cu(this.firestore,e,this._key)}}class Iu extends Tu{constructor(e,t,n){super(e,t,sa(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cu(this.firestore,null,new Wn(e))}withConverter(e){return new Iu(this.firestore,e,this._path)}}function Nu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=he(e),gu("collection","path",t),e instanceof xu){const n=Bn.fromString(t,...r);return yu(n),new Iu(e,null,n)}{if(!(e instanceof Cu||e instanceof Iu))throw new yn(vn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bn.fromString(t,...r));return yu(n),new Iu(e.firestore,null,n)}}function Au(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=he(e),1===arguments.length&&(t=An.newId()),gu("doc","path",t),e instanceof xu){const n=Bn.fromString(t,...r);return vu(n),new Cu(e,null,new Wn(n))}{if(!(e instanceof Cu||e instanceof Iu))throw new yn(vn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Bn.fromString(t,...r));return vu(n),new Cu(e.firestore,e instanceof Iu?e.converter:null,new Wn(n))}}const Ou="AsyncQueue";class Pu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new _l(this,"async_queue_retry"),this.rc=()=>{const e=El();e&&cn(Ou,"Visibility state changed to "+e.visibilityState),this.x_.b_()},this.sc=e;const t=El();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=El();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new bn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(0!==this.Ju.length){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!rr(e))throw e;cn(Ou,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(e=>{throw this.Xu=e,this.ec=!1,un("INTERNAL UNHANDLED ERROR: ",Du(e)),e}).then(e=>(this.ec=!1,e))));return this.sc=t,t}enqueueAfterDelay(e,t,n){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const r=lc.createAndSchedule(this,e,t,n,e=>this.uc(e));return this.Zu.push(r),r}oc(){this.Xu&&fn(47125,{cc:Du(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do{e=this.sc,await e}while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function Du(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function Ru(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class ju extends xu{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Pu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pu(e),this._firestoreClient=void 0,await e}}}function Lu(e,t){const n="object"==typeof e?e:At(),r="string"==typeof e?e:t||ai,i=xt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=U(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&ku(i,...e)}return i}function Mu(e){if(e._terminated)throw new yn(vn.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Fu(e),e._firestoreClient}function Fu(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new ii(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,pu(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new au(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class zu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zu(Kr.fromBase64String(e))}catch(e){throw new yn(vn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new zu(Kr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new yn(vn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Vu{constructor(e){this._methodName=e}}class Bu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new yn(vn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new yn(vn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return On(this._lat,e._lat)||On(this._long,e._long)}}class Hu{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const qu=/^__.*__$/;class Wu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new so(e,this.data,this.fieldMask,t,this.fieldTransforms):new oo(e,this.data,t,this.fieldTransforms)}}class Ku{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new so(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Gu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fn(40011,{Ic:e})}}class Qu{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Qu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Vc(e),r}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.dc({path:n,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return cd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(0===e.length)throw this.gc("Document fields must not be empty");if(Gu(this.Ic)&&qu.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Yu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Sl(e)}bc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Qu({Ic:e,methodName:t,wc:n,path:qn.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xu(e){const t=e._freezeSettings(),n=Sl(e._databaseId);return new Yu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $u(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.bc(a.merge||a.mergeFields?2:0,t,n,i);ad("Data must be an object, but it was:",o,r);const s=rd(r,o);let l,c;if(a.merge)l=new qr(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=od(t,r,n);if(!o.contains(i))throw new yn(vn.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));ud(e,i)||e.push(i)}l=new qr(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new Wu(new Ni(s),l,c)}class Ju extends Vu{_toFieldTransform(e){if(2!==e.Ic)throw 1===e.Ic?e.gc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.gc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ju}}class Zu extends Vu{_toFieldTransform(e){return new Xa(e.path,new Ba)}isEqual(e){return e instanceof Zu}}function ed(e,t,n,r){const i=e.bc(1,t,n);ad("Data must be an object, but it was:",i,r);const a=[],o=Ni.empty();Mr(r,(e,r)=>{const s=ld(t,e,n);r=he(r);const l=i.mc(s);if(r instanceof Ju)a.push(s);else{const e=nd(r,l);null!=e&&(a.push(s),o.set(s,e))}});const s=new qr(a);return new Ku(o,s,i.fieldTransforms)}function td(e,t,n,r,i,a){const o=e.bc(1,t,n),s=[od(t,r,n)],l=[i];if(a.length%2!=0)throw new yn(vn.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<a.length;h+=2)s.push(od(t,a[h])),l.push(a[h+1]);const c=[],u=Ni.empty();for(let h=s.length-1;h>=0;--h)if(!ud(c,s[h])){const e=s[h];let t=l[h];t=he(t);const n=o.mc(e);if(t instanceof Ju)c.push(e);else{const r=nd(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new qr(c);return new Ku(u,d,o.fieldTransforms)}function nd(e,t){if(id(e=he(e)))return ad("Unsupported field value:",t,e),rd(e,t);if(e instanceof Vu)return function(e,t){if(!Gu(t.Ic))throw t.gc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.gc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Rc&&4!==t.Ic)throw t.gc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=nd(i,t.fc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=he(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ma(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Fn.fromDate(e);return{timestampValue:Bo(t.serializer,n)}}if(e instanceof Fn){const n=new Fn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bo(t.serializer,n)}}if(e instanceof Bu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zu)return{bytesValue:Ho(t.serializer,e._byteString)};if(e instanceof Cu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.gc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ko(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Hu)return function(e,t){return{mapValue:{fields:{[si]:{stringValue:ui},[di]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.gc("VectorValues must only contain numeric values.");return ja(t.serializer,e)})}}}}}}(e,t);throw t.gc("Unsupported field value: ".concat(bu(e)))}(e,t)}function rd(e,t){const n={};return Fr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mr(e,(e,r)=>{const i=nd(r,t.Ac(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function id(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Fn||e instanceof Bu||e instanceof zu||e instanceof Cu||e instanceof Vu||e instanceof Hu)}function ad(e,t,n){if(!id(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=bu(n);throw"an object"===r?t.gc(e+" a custom object"):t.gc(e+" "+r)}}function od(e,t,n){if((t=he(t))instanceof Uu)return t._internalPath;if("string"==typeof t)return ld(e,t);throw cd("Field path arguments must be of type string or ",e,!1,void 0,n)}const sd=new RegExp("[~\\*/\\[\\]]");function ld(e,t,n){if(t.search(sd)>=0)throw cd("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Uu(...t.split("."))._internalPath}catch(Ng){throw cd("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function cd(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new yn(vn.INVALID_ARGUMENT,s+e+l)}function ud(e,t){return e.some(e=>e.isEqual(t))}class dd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hd extends dd{data(){return super.data()}}function fd(e,t){return"string"==typeof t?ld(e,t):t instanceof Uu?t._internalPath:t._delegate._internalPath}function pd(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new yn(vn.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class md{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw fn(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Mr(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[di].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Yr(e.doubleValue));return new Hu(i)}convertGeoPoint(e){return new Bu(Yr(e.latitude),Yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ni(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ri(e));default:return null}}convertTimestamp(e){const t=Qr(e);return new Fn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bn.fromString(e);mn(ps(n),9688,{name:e});const r=new oi(n.get(1),n.get(3)),i=new Wn(n.popFirst(5));return r.isEqual(t)||un("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function gd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class vd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yd extends dd{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(fd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class bd extends yd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class wd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new vd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new bd(this._firestore,this._userDataWriter,n.key,n,new vd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new yn(vn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new bd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new vd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new bd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new vd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Ed(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Ed(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fn(61501,{type:e})}}function Sd(e){e=wu(e,Cu);const t=wu(e.firestore,ju);return hu(Mu(t),e._key).then(n=>Nd(t,e,n))}class _d extends md{constructor(e){super(),this.firestore=e}convertBytes(e){return new zu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cu(this.firestore,null,t)}}function xd(e){e=wu(e,Tu);const t=wu(e.firestore,ju),n=Mu(t),r=new _d(t);return pd(e._query),fu(n,e._query).then(n=>new wd(t,r,e,n))}function kd(e,t,n){e=wu(e,Cu);const r=wu(e.firestore,ju),i=gd(e.converter,t,n);return Id(r,[$u(Xu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ja.none())])}function Td(e,t,n){e=wu(e,Cu);const r=wu(e.firestore,ju),i=Xu(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=he(t))||t instanceof Uu?td(i,"updateDoc",e._key,t,n,s):ed(i,"updateDoc",e._key,t),Id(r,[a.toMutation(e._key,Ja.exists(!0))])}function Cd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=he(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Ru(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ru(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof Cu)d=wu(e.firestore,ju),h=sa(e._key.path),u={next:t=>{n[l]&&n[l](Nd(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=wu(e,Tu);d=wu(t.firestore,ju),h=t._query;const r=new _d(d);u={next:e=>{n[l]&&n[l](new wd(d,r,t,e))},error:n[l+1],complete:n[l+2]},pd(e._query)}return function(e,t,n,r){const i=new ru(r),a=new _c(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>gc(await du(e),a)),()=>{i.xu(),e.asyncQueue.enqueueAndForget(async()=>vc(await du(e),a))}}(Mu(d),h,c,u)}function Id(e,t){return function(e,t){const n=new bn;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Zc(e);try{const e=await function(e,t){const n=gn(e),r=Fn.now(),i=t.reduce((e,t)=>e.add(t.key),Pa());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=_a(),l=Pa();return n.Bs.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{a=i;const o=[];for(const e of t){const t=io(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new so(e.key,t,Ai(t.value.mapValue),Ja.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:Ta(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Au[e.currentUser.toKey()];r||(r=new zr(On)),r=r.insert(t,n),e.Au[e.currentUser.toKey()]=r}(r,e.batchId,n),await Yc(r,e.changes),await Yl(r.remoteStore)}catch(e){const t=cc(e,"Failed to persist write");n.reject(t)}}(await uu(e),t,n)),n.promise}(Mu(e),t)}function Nd(e,t,n){const r=n.docs.get(t._key),i=new _d(e);return new yd(e,i,t._key,r,new vd(n.hasPendingWrites,n.fromCache),t.converter)}function Ad(){return new Zu("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){on=e}(It),_t(new fe("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new ju(new _n(e.getProvider("auth-internal")),new Cn(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new yn(vn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oi(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ot(nn,rn,e),Ot(nn,rn,"esm2017")}();Ot("firebase","11.9.1","app");const Od="@firebase/installations",Pd="0.6.17",Dd=1e4,Rd="w:".concat(Pd),jd="FIS_v2",Ld=36e5,Md=new ne("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fd(e){return e instanceof te&&e.code.includes("request-failed")}function zd(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Ud(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Vd(e,t){const n=(await t.json()).error;return Md.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Bd(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Hd(e,t){let{refreshToken:n}=t;const r=Bd(e);return r.append("Authorization",function(e){return"".concat(jd," ").concat(e)}(n)),r}async function qd(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Wd(e){return new Promise(t=>{setTimeout(t,e)})}const Kd=/^[cdef][\w-]{21}$/;function Gd(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Kd.test(t)?t:""}catch(e){return""}}function Qd(e){return"".concat(e.appName,"!").concat(e.appId)}const Yd=new Map;function Xd(e,t){const n=Qd(e);$d(n,t),function(e,t){const n=Zd();n&&n.postMessage({key:e,fid:t});eh()}(n,t)}function $d(e,t){const n=Yd.get(e);if(n)for(const r of n)r(t)}let Jd=null;function Zd(){return!Jd&&"BroadcastChannel"in self&&(Jd=new BroadcastChannel("[Firebase] FID Change"),Jd.onmessage=e=>{$d(e.data.key,e.data.fid)}),Jd}function eh(){0===Yd.size&&Jd&&(Jd.close(),Jd=null)}const th="firebase-installations-store";let nh=null;function rh(){return nh||(nh=Le("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(th)}})),nh}async function ih(e,t){const n=Qd(e),r=(await rh()).transaction(th,"readwrite"),i=r.objectStore(th),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Xd(e,t.fid),t}async function ah(e){const t=Qd(e),n=(await rh()).transaction(th,"readwrite");await n.objectStore(th).delete(t),await n.done}async function oh(e,t){const n=Qd(e),r=(await rh()).transaction(th,"readwrite"),i=r.objectStore(th),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||Xd(e,o.fid),o}async function sh(e){let t;const n=await oh(e.appConfig,n=>{const r=function(e){const t=e||{fid:Gd(),registrationStatus:0};return uh(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(Md.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=zd(n),o=Bd(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:jd,appId:n.appId,sdkVersion:Rd},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await qd(()=>fetch(a,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:Ud(e.authToken)}}throw await Vd("Create Installation",u)}(e,t);return ih(e.appConfig,n)}catch(n){throw Fd(n)&&409===n.customData.serverCode?await ah(e.appConfig):await ih(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:lh(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function lh(e){let t=await ch(e.appConfig);for(;1===t.registrationStatus;)await Wd(100),t=await ch(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await sh(e);return n||t}return t}function ch(e){return oh(e,e=>{if(!e)throw Md.create("installation-not-found");return uh(e)})}function uh(e){return 1===(t=e).registrationStatus&&t.registrationTime+Dd<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function dh(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(zd(e),"/").concat(n,"/authTokens:generate")}(n,t),a=Hd(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:Rd,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await qd(()=>fetch(i,l));if(c.ok){return Ud(await c.json())}throw await Vd("Generate Auth Token",c)}async function hh(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await oh(e.appConfig,r=>{if(!ph(r))throw Md.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ld}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await fh(e.appConfig);for(;1===n.authToken.requestStatus;)await Wd(100),n=await fh(e.appConfig);const r=n.authToken;return 0===r.requestStatus?hh(e,t):r}(e,n),r;{if(!navigator.onLine)throw Md.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await dh(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await ih(e.appConfig,r),n}catch(n){if(!Fd(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ih(e.appConfig,n)}else await ah(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function fh(e){return oh(e,e=>{if(!ph(e))throw Md.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+Dd<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n})}function ph(e){return void 0!==e&&2===e.registrationStatus}async function mh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await sh(e);t&&await t}(n);return(await hh(n,t)).token}function gh(e){return Md.create("missing-app-config-values",{valueName:e})}const vh="installations",yh=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw gh("App Configuration");if(!e.name)throw gh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw gh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:xt(t,"heartbeat"),_delete:()=>Promise.resolve()}},bh=e=>{const t=xt(e.getProvider("app").getImmediate(),vh).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await sh(t);return r?r.catch(console.error):hh(t).catch(console.error),n.fid}(t),getToken:e=>mh(t,e)}};_t(new fe(vh,yh,"PUBLIC")),_t(new fe("installations-internal",bh,"PRIVATE")),Ot(Od,Pd),Ot(Od,Pd,"esm2017");const wh="analytics",Eh="https://www.googletagmanager.com/gtag/js",Sh=new _e("@firebase/analytics"),_h=new ne("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function xh(e){if(!e.startsWith(Eh)){const t=_h.create("invalid-gtag-resource",{gtagURL:e});return Sh.warn(t.message),""}return e}function kh(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Th(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:xh}),r=document.createElement("script"),i="".concat(Eh,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Ch(e,t,n,r){return async function(i){try{for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await kh(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(a){Sh.error(a)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await kh(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(s){Sh.error(s)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(l){Sh.error(l)}}}const Ih=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Nh(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ah(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ih,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw _h.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw _h.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new Ph;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),Oh({appId:r,apiKey:i,measurementId:a},o,s,t)}async function Oh(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ih;var o;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(_h.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(l)return Sh.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:l};throw c}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Nh(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(a,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw _h.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return a.deleteThrottleMetadata(s),t}catch(c){const t=c;if(!function(e){if(!(e instanceof te)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(a.deleteThrottleMetadata(s),l)return Sh.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:l};throw c}const r=503===Number(null===(o=null===t||void 0===t?void 0:t.customData)||void 0===o?void 0:o.httpStatus)?de(i,a.intervalMillis,30):de(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return a.setThrottleMetadata(s,u),Sh.debug("Calling attemptFetch again in ".concat(r," millis")),Oh(e,u,n,a)}}class Ph{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Dh,Rh;function jh(e){Rh=e}function Lh(e){Dh=e}async function Mh(e,t,n,r,i,a,o){var s;const l=Ah(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Sh.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>Sh.error(e)),t.push(l);const c=async function(){if(!Z())return Sh.warn(_h.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await ee()}catch(e){return Sh.warn(_h.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Eh)&&n.src.includes(e))return n;return null})(a)||Th(a,u.measurementId),Rh&&(i("consent","default",Rh),jh(void 0)),i("js",new Date);const h=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),Dh&&(i("set",Dh),Lh(void 0)),u.measurementId}class Fh{constructor(e){this.app=e}_delete(){return delete zh[this.app.options.appId],Promise.resolve()}}let zh={},Uh=[];const Vh={};let Bh,Hh,qh="dataLayer",Wh="gtag",Kh=!1;function Gh(){const e=[];if($()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=_h.create("invalid-analytics-context",{errorInfo:t});Sh.warn(n.message)}}function Qh(e,t,n){Gh();const r=e.options.appId;if(!r)throw _h.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw _h.create("no-api-key");Sh.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=zh[r])throw _h.create("already-exists",{id:r});if(!Kh){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(qh);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=Ch(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(zh,Uh,Vh,qh,Wh);Hh=e,Bh=t,Kh=!0}zh[r]=Mh(e,Uh,Vh,t,Bh,qh,n);return new Fh(e)}function Yh(e,t,n,r){e=he(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Hh,zh[e.app.options.appId],t,n,r).catch(e=>Sh.error(e))}const Xh="@firebase/analytics",$h="0.10.16";_t(new fe(wh,(e,t)=>{let{options:n}=t;return Qh(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),_t(new fe("analytics-internal",function(e){try{const t=e.getProvider(wh).getImmediate();return{logEvent:(e,n,r)=>Yh(t,e,n,r)}}catch(t){throw _h.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Ot(Xh,$h),Ot(Xh,$h,"esm2017");const Jh=Nt({apiKey:"AIzaSyATSXYYd-HyNZZyiGYoKXbOLxcbXJvRh1M",authDomain:"pelktech-fc118.firebaseapp.com",projectId:"pelktech-fc118",storageBucket:"pelktech-fc118.firebasestorage.app",messagingSenderId:"394579735510",appId:"1:394579735510:web:224634fc0d1db2494daa77",measurementId:"G-SL1EB986RV"}),Zh=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();e=he(e);const t=xt(e,wh);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=xt(e,wh);if(n.isInitialized()){const e=n.getImmediate();if(ie(t,n.getOptions()))return e;throw _h.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Jh),Lu(Jh));function ef(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function tf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nf=tf,rf=new ne("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),af=new _e("@firebase/auth");function of(e){if(af.logLevel<=ye.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];af.error("Auth (".concat(It,"): ").concat(e),...n)}}function sf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw df(e,...n)}function lf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return df(e,...n)}function cf(e,t,n){const r=Object.assign(Object.assign({},nf()),{[t]:n});return new ne("auth","Firebase",r).create(t,{appName:e.name})}function uf(e){return cf(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function df(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return rf.create(e,...n)}function hf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw df(t,...r)}}function ff(e){const t="INTERNAL ASSERTION FAILED: "+e;throw of(t),new Error(t)}function pf(e,t){e||ff(t)}function mf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function gf(){return"http:"===vf()||"https:"===vf()}function vf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class yf{constructor(e,t){this.shortDelay=e,this.longDelay=t,pf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(gf()||$()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function bf(e,t){pf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class wf{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void ff("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void ff("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void ff("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ef={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Sf=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_f=new yf(3e4,6e4);function xf(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function kf(e,t,n,r){return Tf(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=oe(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&q(e.emulatorConfig.host)&&(l.credentials="include"),wf.fetch()(await If(e,e.config.apiHost,n,o),l)})}async function Tf(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ef),t);try{const t=new Af(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw Of(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Of(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw Of(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw Of(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw cf(e,s,o);sf(e,s)}}catch(i){if(i instanceof te)throw i;sf(e,"network-request-failed",{message:String(i)})}}async function Cf(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await kf(e,t,n,r,i);return"mfaPendingCredential"in a&&sf(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function If(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,o=a.config.emulator?bf(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(Sf.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(o).toString()}return o}function Nf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Af{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(lf(this.auth,"network-request-failed")),_f.get())})}}function Of(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lf(e,t,r);return i.customData._tokenResponse=n,i}function Pf(e){return void 0!==e&&void 0!==e.enterprise}class Df{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Nf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rf(e,t){return kf(e,"GET","/v2/recaptchaConfig",xf(e,t))}async function jf(e,t){return kf(e,"POST","/v1/accounts:lookup",t)}function Lf(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Mf(e){return 1e3*Number(e)}function Ff(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return of("JWT malformed, contained fewer than 3 sections"),null;try{const e=M(n);return e?JSON.parse(e):(of("Failed to decode base64 JWT payload"),null)}catch(i){return of("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function zf(e){const t=Ff(e);return hf(t,"internal-error"),hf("undefined"!==typeof t.exp,"internal-error"),hf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Uf(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof te&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Vf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Bf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lf(this.lastLoginAt),this.creationTime=Lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hf(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Uf(e,jf(n,{idToken:r}));hf(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?qf(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Bf(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function qf(e){return e.map(e=>{var{providerId:t}=e,n=ef(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Wf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){hf(e.idToken,"internal-error"),hf("undefined"!==typeof e.idToken,"internal-error"),hf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):zf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){hf(0!==e.length,"internal-error");const t=zf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(hf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Tf(e,{},async()=>{const n=oe({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await If(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:o,body:n};return e.emulatorConfig&&q(e.emulatorConfig.host)&&(s.credentials="include"),wf.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Wf;return n&&(hf("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(hf("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(hf("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wf,this.toJSON())}_performRefresh(){return ff("not implemented")}}function Kf(e,t){hf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Gf{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=ef(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Uf(this,this.stsTokenManager.getToken(this.auth,e));return hf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=he(e),r=await n.getIdToken(t),i=Ff(r);hf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Lf(Mf(i.auth_time)),issuedAtTime:Lf(Mf(i.iat)),expirationTime:Lf(Mf(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=he(e);await Hf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(hf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gf(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){hf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Hf(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kt(this.auth.app))return Promise.reject(uf(this.auth));const e=await this.getIdToken();return await Uf(this,async function(e,t){return kf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;hf(y&&S,e,"internal-error");const _=Wf.fromJSON(this.name,S);hf("string"===typeof y,e,"internal-error"),Kf(u,e.name),Kf(d,e.name),hf("boolean"===typeof b,e,"internal-error"),hf("boolean"===typeof w,e,"internal-error"),Kf(h,e.name),Kf(f,e.name),Kf(p,e.name),Kf(m,e.name),Kf(g,e.name),Kf(v,e.name);const x=new Gf({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(x.providerData=E.map(e=>Object.assign({},e))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Wf;r.updateFromServerResponse(t);const i=new Gf({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Hf(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];hf(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?qf(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Wf;o.updateFromIdToken(n);const s=new Gf({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Bf(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Qf=new Map;function Yf(e){pf(e instanceof Function,"Expected a class definition");let t=Qf.get(e);return t?(pf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qf.set(e,t),t)}class Xf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Xf.type="NONE";const $f=Xf;function Jf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Zf{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Jf(this.userKey,r.apiKey,i),this.fullPersistenceKey=Jf("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await jf(this.auth,{idToken:e}).catch(()=>{});return t?Gf._fromGetAccountInfoResponse(this.auth,t,e):null}return Gf._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Zf(Yf($f),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Yf($f);const a=Jf(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await jf(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Gf._fromGetAccountInfoResponse(e,r,t)}else n=Gf._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(l){}})),new Zf(i,e,n)):new Zf(i,e,n)}}function ep(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ip(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(op(t))return"Blackberry";if(sp(t))return"Webos";if(np(t))return"Safari";if((t.includes("chrome/")||rp(t))&&!t.includes("edge/"))return"Chrome";if(ap(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function tp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return/firefox\//i.test(e)}function np(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return/crios\//i.test(e)}function ip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return/iemobile/i.test(e)}function ap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return/android/i.test(e)}function op(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return/blackberry/i.test(e)}function sp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return/webos/i.test(e)}function lp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function cp(){return function(){const e=Y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function up(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y();return lp(e)||ap(e)||sp(e)||op(e)||/windows phone/i.test(e)||ip(e)}function dp(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ep(Y());break;case"Worker":t="".concat(ep(Y()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(It,"/").concat(r)}class hp{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class fp{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class pp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gp(this),this.idTokenSubscription=new gp(this),this.beforeStateQueue=new hp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yf(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Zf.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await jf(this,{idToken:e}),n=await Gf._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return hf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hf(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kt(this.app))return Promise.reject(uf(this));const t=e?he(e):null;return t&&hf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&hf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return kt(this.app)?Promise.reject(uf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kt(this.app)?Promise.reject(uf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yf(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return kf(e,"GET","/v2/passwordPolicy",xf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new fp(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ne("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return kf(e,"POST","/v2/accounts:revokeToken",xf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yf(e)||this._popupRedirectResolver;hf(t,this,"argument-error"),this.redirectPersistenceManager=await Zf.create(this,[Yf(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(hf(o,this,"internal-error"),o.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return hf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(af.logLevel<=ye.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];af.warn("Auth (".concat(It,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function mp(e){return he(e)}class gp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ce(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return hf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yp(e){return vp.loadJS(e)}function bp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class wp{constructor(){this.enterprise=new Ep}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ep{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Sp="NO_RECAPTCHA";class _p{constructor(e){this.type="recaptcha-enterprise",this.auth=mp(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Pf(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Sp)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new wp).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Rf(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Df(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Pf(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=vp.recaptchaEnterpriseScript;0!==t.length&&(t+=i),yp(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function xp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new _p(e);let o;if(i)o=Sp;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function kp(e,t,n,r,i){var a,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xp(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await xp(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await xp(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await xp(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await xp(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Tp(e){const t=mp(e),n=await Rf(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Df(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new _p(t).verify()}}function Cp(e,t,n){const r=mp(e);hf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ip(t),{host:o,port:s}=function(e){const t=Ip(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Np(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Np(t)}}}(t),l=null===s?"":":".concat(s),c={url:"".concat(a,"//").concat(o).concat(l,"/")},u=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return hf(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void hf(ie(c,r.config.emulator)&&ie(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,q(o)?(W("".concat(a,"//").concat(o).concat(l)),Q("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ip(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Np(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ap{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ff("not implemented")}_getIdTokenResponse(e){return ff("not implemented")}_linkToIdToken(e,t){return ff("not implemented")}_getReauthenticationResolver(e){return ff("not implemented")}}async function Op(e,t){return kf(e,"POST","/v1/accounts:signUp",t)}async function Pp(e,t){return Cf(e,"POST","/v1/accounts:signInWithPassword",xf(e,t))}class Dp extends Ap{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Dp(e,t,"password")}static _fromEmailAndCode(e,t){return new Dp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Pp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cf(e,"POST","/v1/accounts:signInWithEmailLink",xf(e,t))}(e,{email:this._email,oobCode:this._password});default:sf(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return kp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Op,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Cf(e,"POST","/v1/accounts:signInWithEmailLink",xf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:sf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Rp(e,t){return Cf(e,"POST","/v1/accounts:signInWithIdp",xf(e,t))}class jp extends Ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new jp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sf("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=ef(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new jp(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Rp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Rp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Rp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=oe(t)}return e}}async function Lp(e,t){return kf(e,"POST","/v1/accounts:sendVerificationCode",xf(e,t))}const Mp={USER_NOT_FOUND:"user-not-found"};class Fp extends Ap{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Fp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Fp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Cf(e,"POST","/v1/accounts:signInWithPhoneNumber",xf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Cf(e,"POST","/v1/accounts:signInWithPhoneNumber",xf(e,t));if(n.temporaryProof)throw Of(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Cf(e,"POST","/v1/accounts:signInWithPhoneNumber",xf(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Mp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Fp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class zp{constructor(e){var t,n,r,i,a,o;const s=se(le(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);hf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.lang)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=se(le(e)).link,n=t?se(le(t)).deep_link_id:null,r=se(le(e)).deep_link_id;return(r?se(le(r)).link:null)||r||n||t||e}(e);try{return new zp(t)}catch(n){return null}}}class Up{constructor(){this.providerId=Up.PROVIDER_ID}static credential(e,t){return Dp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zp.parseLink(t);return hf(n,"argument-error"),Dp._fromEmailAndCode(e,n.code,n.tenantId)}}Up.PROVIDER_ID="password",Up.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Up.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bp extends Vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Hp extends Bp{constructor(){super("facebook.com")}static credential(e){return jp._fromParams({providerId:Hp.PROVIDER_ID,signInMethod:Hp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hp.credentialFromTaggedObject(e)}static credentialFromError(e){return Hp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Hp.credential(t.oauthAccessToken)}catch(n){return null}}}Hp.FACEBOOK_SIGN_IN_METHOD="facebook.com",Hp.PROVIDER_ID="facebook.com";class qp extends Bp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return jp._fromParams({providerId:qp.PROVIDER_ID,signInMethod:qp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return qp.credentialFromTaggedObject(e)}static credentialFromError(e){return qp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return qp.credential(n,r)}catch(i){return null}}}qp.GOOGLE_SIGN_IN_METHOD="google.com",qp.PROVIDER_ID="google.com";class Wp extends Bp{constructor(){super("github.com")}static credential(e){return jp._fromParams({providerId:Wp.PROVIDER_ID,signInMethod:Wp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wp.credentialFromTaggedObject(e)}static credentialFromError(e){return Wp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wp.credential(t.oauthAccessToken)}catch(n){return null}}}Wp.GITHUB_SIGN_IN_METHOD="github.com",Wp.PROVIDER_ID="github.com";class Kp extends Bp{constructor(){super("twitter.com")}static credential(e,t){return jp._fromParams({providerId:Kp.PROVIDER_ID,signInMethod:Kp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Kp.credentialFromTaggedObject(e)}static credentialFromError(e){return Kp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Kp.credential(n,r)}catch(i){return null}}}async function Gp(e,t){return Cf(e,"POST","/v1/accounts:signUp",xf(e,t))}Kp.TWITTER_SIGN_IN_METHOD="twitter.com",Kp.PROVIDER_ID="twitter.com";class Qp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Gf._fromIdTokenResponse(e,n,r),a=Yp(n);return new Qp({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Yp(n);return new Qp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Yp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Xp extends te{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Xp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Xp(e,t,n,r)}}function $p(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xp._fromErrorAndOperation(e,n,t,r);throw n})}async function Jp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Uf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qp._forOperation(e,"link",r)}async function Zp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(kt(r.app))return Promise.reject(uf(r));const i="reauthenticate";try{const a=await Uf(e,$p(r,i,t,e),n);hf(a.idToken,r,"internal-error");const o=Ff(a.idToken);hf(o,r,"internal-error");const{sub:s}=o;return hf(e.uid===s,r,"user-mismatch"),Qp._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&sf(r,"user-mismatch"),a}}async function em(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kt(e.app))return Promise.reject(uf(e));const r="signIn",i=await $p(e,r,t),a=await Qp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function tm(e,t){return em(mp(e),t)}async function nm(e){const t=mp(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function rm(e){return he(e).signOut()}function im(e,t){return kf(e,"POST","/v2/accounts/mfaEnrollment:start",xf(e,t))}new WeakMap;const am="__sak";class om{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class sm extends om{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=up(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);cp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}sm.type="LOCAL";const lm=sm;function cm(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function um(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class dm{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=um(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return cm(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=um(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=um(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=cm(n);const i=setInterval(()=>{const e=cm(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}dm.type="COOKIE";class hm extends om{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}hm.type="SESSION";const fm=hm;class pm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new pm(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}pm.receivers=[];class gm{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((o,s)=>{const l=mm("",20);r.port1.start();const c=setTimeout(()=>{s(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function vm(){return window}function ym(){return"undefined"!==typeof vm().WorkerGlobalScope&&"function"===typeof vm().importScripts}const bm="firebaseLocalStorageDb",wm="firebaseLocalStorage",Em="fbase_key";class Sm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _m(e,t){return e.transaction([wm],t?"readwrite":"readonly").objectStore(wm)}function xm(){const e=indexedDB.open(bm,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(wm,{keyPath:Em})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(wm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(bm);return new Sm(e).toPromise()}(),t(await xm()))})})}async function km(e,t,n){const r=_m(e,!0).put({[Em]:t,value:n});return new Sm(r).toPromise()}function Tm(e,t){const n=_m(e,!0).delete(t);return new Sm(n).toPromise()}class Cm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await xm()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ym()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pm._getInstance(ym()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new gm(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xm();return await km(e,am,"1"),await Tm(e,am),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>km(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=_m(e,!1).get(t),r=await new Sm(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=_m(e,!1).getAll();return new Sm(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Cm.type="LOCAL";const Im=Cm;function Nm(e,t){return kf(e,"POST","/v2/accounts/mfaSignIn:start",xf(e,t))}bp("rcb"),new yf(3e4,6e4);const Am="recaptcha";async function Om(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Tp(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){hf("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=kp(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Sp){hf((null===n||void 0===n?void 0:n.type)===Am,e,"argument-error");return im(e,await Pm(e,t,n))}return im(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{hf("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;hf(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=kp(e,o,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Sp){hf((null===n||void 0===n?void 0:n.type)===Am,e,"argument-error");return Nm(e,await Pm(e,t,n))}return Nm(e,t)},"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=kp(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Sp){hf((null===n||void 0===n?void 0:n.type)===Am,e,"argument-error");return Lp(e,await Pm(e,t,n))}return Lp(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Pm(e,t,n){hf(n.type===Am,e,"argument-error");const r=await n.verify();hf("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Dm{constructor(e){this.providerId=Dm.PROVIDER_ID,this.auth=mp(e)}verifyPhoneNumber(e,t){return Om(this.auth,e,he(t))}static credential(e,t){return Fp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Dm.credentialFromTaggedObject(t)}static credentialFromError(e){return Dm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Fp._fromTokenResponse(n,r):null}}function Rm(e,t){return t?Yf(t):(hf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Dm.PROVIDER_ID="phone",Dm.PHONE_SIGN_IN_METHOD="phone";class jm extends Ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Rp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Rp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Rp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lm(e){return em(e.auth,new jm(e),e.bypassAuthState)}function Mm(e){const{auth:t,user:n}=e;return hf(n,t,"internal-error"),Zp(n,new jm(e),e.bypassAuthState)}async function Fm(e){const{auth:t,user:n}=e;return hf(n,t,"internal-error"),Jp(n,new jm(e),e.bypassAuthState)}class zm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lm;case"linkViaPopup":case"linkViaRedirect":return Fm;case"reauthViaPopup":case"reauthViaRedirect":return Mm;default:sf(this.auth,"internal-error")}}resolve(e){pf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Um=new yf(2e3,1e4);class Vm extends zm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Vm.currentPopupAction&&Vm.currentPopupAction.cancel(),Vm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return hf(e,this.auth,"internal-error"),e}async onExecution(){pf(1===this.filter.length,"Popup operations only handle one event");const e=mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(lf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(lf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lf(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Um.get())};e()}}Vm.currentPopupAction=null;const Bm=new Map;class Hm extends zm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Bm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Km(t),r=Wm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Bm.set(this.auth._key(),e)}return this.bypassAuthState||Bm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function qm(e,t){Bm.set(e._key(),t)}function Wm(e){return Yf(e._redirectPersistence)}function Km(e){return Jf("pendingRedirect",e.config.apiKey,e.name)}async function Gm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kt(e.app))return Promise.reject(uf(e));const r=mp(e),i=Rm(r,t),a=new Hm(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Qm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xm(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(lf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ym(e))}saveEventToCache(e){this.cachedEventUids.add(Ym(e)),this.lastProcessedEventTime=Date.now()}}function Ym(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Xm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $m=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jm=/^https?/;async function Zm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return kf(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(eg(r))return}catch(n){}sf(e,"unauthorized-domain")}function eg(e){const t=mf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Jm.test(n))return!1;if($m.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const tg=new yf(3e4,6e4);function ng(){const e=vm().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function rg(e){return new Promise((t,n)=>{var r,i,a;function o(){ng(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ng(),n(lf(e,"network-request-failed"))},timeout:tg.get()})}if(null===(i=null===(r=vm().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=vm().gapi)||void 0===a?void 0:a.load)){const t=bp("iframefcb");return vm()[t]=()=>{gapi.load?o():n(lf(e,"network-request-failed"))},yp("".concat(vp.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}o()}}).catch(e=>{throw ig=null,e})}let ig=null;const ag=new yf(5e3,15e3),og={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lg(e){const t=e.config;hf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?bf(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:It},i=sg.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(oe(r).slice(1))}async function cg(e){const t=await function(e){return ig=ig||rg(e),ig}(e),n=vm().gapi;return hf(n,e,"internal-error"),t.open({where:document.body,url:lg(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:og,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=lf(e,"network-request-failed"),a=vm().setTimeout(()=>{r(i)},ag.get());function o(){vm().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}const ug={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function hg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ug),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Y().toLowerCase();n&&(s=rp(c)?"_blank":n),tp(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return lp(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new dg(null);const d=window.open(t||"",s,u);hf(d,e,"popup-blocked");try{d.focus()}catch(h){}return new dg(d)}const fg="__/auth/handler",pg="emulator/auth/handler",mg=encodeURIComponent("fac");async function gg(e,t,n,r,i,a){hf(e.config.authDomain,e,"auth-domain-config-required"),hf(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:It,eventId:i};if(t instanceof Vp){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Bp){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(mg,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fg);return bf(t,pg)}(e),"?").concat(oe(s).slice(1)).concat(c)}const vg="webStorageSupport";const yg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fm,this._completeRedirectFn=Gm,this._overrideRedirectResult=qm}async _openPopup(e,t,n,r){var i;pf(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return hg(e,await gg(e,t,n,mf(),r),mm())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){vm().location.href=e}(await gg(e,t,n,mf(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(pf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await cg(e),n=new Qm(e);return t.register("authEvent",t=>{hf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vg,{type:vg},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[vg];void 0!==i&&t(!!i),sf(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Zm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return up()||np()||lp()}};var bg="@firebase/auth",wg="1.10.7";class Eg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){hf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sg=B("authIdTokenMaxAge")||300;let _g=null;function xg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At();const t=xt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=xt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ie(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;sf(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:yg,persistence:[Im,lm,fm]}),r=B("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Sg)return;const r=null===t||void 0===t?void 0:t.token;_g!==r&&(_g=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){he(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){he(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=U("auth");return a&&Cp(n,"http://".concat(a)),n}var kg;vp={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=lf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},kg="Browser",_t(new fe("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;hf(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:kg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dp(kg)},c=new pp(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),_t(new fe("auth-internal",e=>(e=>new Eg(e))(mp(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),Ot(bg,wg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(kg)),Ot(bg,wg,"esm2017");var Tg=n(579);function Cg(e){let{open:t=!0,onLogin:n,onShowRegister:i,onClose:a}=e;const[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)("");if(!t)return null;return(0,Tg.jsx)("div",{className:"login-overlay",onClick:a,style:{cursor:"pointer"},children:(0,Tg.jsxs)("div",{className:"login-modal",onClick:e=>e.stopPropagation(),children:[(0,Tg.jsx)("h2",{children:"Hola, veo que no haz iniciado sesi\xf3n"}),(0,Tg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f("");try{const e=xg(),t=await function(e,t,n){return kt(e.app)?Promise.reject(uf(e)):tm(he(e),Up.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nm(e),t})}(e,o,l),r=t.user.email,i=Lu(),a=await Sd(Au(i,"EMPLEADOS",r));let u="USER";a.exists()&&"TECNICO"===a.data().rol&&(u="TECNICO"),n&&n({email:r,rol:u}),s(""),c("")}catch(t){f("Correo o contrase\xf1a incorrectos.")}},className:"login-form",children:[h&&(0,Tg.jsx)("div",{style:{color:"crimson",marginBottom:8,fontWeight:"bold"},children:h}),(0,Tg.jsx)("input",{className:"login-input",type:"email",placeholder:"Correo electr\xf3nico",value:o,onChange:e=>s(e.target.value),required:!0}),(0,Tg.jsxs)("div",{style:{position:"relative"},children:[(0,Tg.jsx)("input",{className:"login-input",type:u?"text":"password",placeholder:"Contrase\xf1a",value:l,onChange:e=>c(e.target.value),required:!0}),(0,Tg.jsx)("button",{type:"button",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"0.9em"},onClick:()=>d(e=>!e),tabIndex:-1,children:u?"Ocultar":"Mostrar"})]}),(0,Tg.jsx)("button",{className:"login-btn",type:"submit",children:"Iniciar sesi\xf3n"}),(0,Tg.jsxs)("div",{className:"login-register-link",style:{marginTop:"1rem",textAlign:"center"},children:[(0,Tg.jsx)("span",{children:"\xbfNo tienes cuenta? "}),(0,Tg.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),i&&i()},children:"Reg\xedstrate"})]})]})]})})}function Ig(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ng(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ng(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Ag=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ng(e))&&(r&&(r+=" "),r+=t);return r},Og=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Pg=e=>"number"==typeof e&&!isNaN(e),Dg=e=>"string"==typeof e,Rg=e=>"function"==typeof e,jg=e=>Dg(e)||Rg(e)?e:null,Lg=(e,t)=>!1===e||Pg(e)&&e>0?e:t,Mg=e=>(0,r.isValidElement)(e)||Dg(e)||Rg(e)||Pg(e);function Fg(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:a=!0,collapseDuration:o=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:h,playToast:f}=e,p=i?"".concat(t,"--").concat(l):t,m=i?"".concat(n,"--").concat(l):n,g=(0,r.useRef)(0);return(0,r.useLayoutEffect)(()=>{let e=d.current,t=p.split(" "),n=r=>{r.target===d.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,r.useEffect)(()=>{let e=d.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}(e,u,o):u()};h||(c?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))},[h]),r.createElement(r.Fragment,null,s)}}function zg(e,t){return{content:Ug(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Ug(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.isValidElement)(e)&&!Dg(e.type)?(0,r.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Rg(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function Vg(e){let{delay:t,isRunning:n,closeToast:i,type:a="default",hide:o,className:s,controlledProgress:l,progress:u,rtl:d,isIn:h,theme:f}=e,p=o||l&&0===u,m={animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};l&&(m.transform="scaleX(".concat(u,")"));let g=Ag("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(f),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":d}),v=Rg(s)?s({rtl:d,type:a,defaultClassName:g}):Ag(g,s),y={[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&i()}};return r.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},r.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(f," Toastify__progress-bar--").concat(a)}),r.createElement("div",c({role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:m},y)))}var Bg=1,Hg=()=>"".concat(Bg++);function qg(e,t,n){let r=1,i=0,a=[],o=[],s=t,l=new Map,u=new Set,d=()=>{o=Array.from(l.values()),u.forEach(e=>e())},h=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},f=e=>{if(null==e)l.forEach(h);else{let t=l.get(e);t&&h(t)}d()},p=e=>{var t,r;let{toastId:i,updateId:a}=e.props,o=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),d(),n(zg(e,o?"added":"updated")),o&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:s,observe:e=>(u.add(e),()=>u.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:f,toasts:l,clearQueue:()=>{i-=a.length,a=[]},buildToast:(t,o)=>{if((t=>{let{containerId:n,toastId:r,updateId:i}=t,a=n?n!==e:1!==e,o=l.has(r)&&null==i;return a||o})(o))return;let{toastId:u,updateId:h,data:m,staleId:g,delay:v}=o,y=null==h;y&&i++;let b=c(c(c({},s),{},{style:s.toastStyle,key:r++},Object.fromEntries(Object.entries(o).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:u,updateId:h,data:m,isIn:!1,className:jg(o.className||s.toastClassName),progressClassName:jg(o.progressClassName||s.progressClassName),autoClose:!o.isLoading&&Lg(o.autoClose,s.autoClose),closeToast(e){l.get(u).removalReason=e,f(u)},deleteToast(){let e=l.get(u);if(null!=e){if(n(zg(e,"removed")),l.delete(u),i--,i<0&&(i=0),a.length>0)return void p(a.shift());d()}}});b.closeButton=s.closeButton,!1===o.closeButton||Mg(o.closeButton)?b.closeButton=o.closeButton:!0===o.closeButton&&(b.closeButton=!Mg(s.closeButton)||s.closeButton);let w={content:t,props:b,staleId:g};s.limit&&s.limit>0&&i>s.limit&&y?a.push(w):Pg(v)?setTimeout(()=>{p(w)},v):p(w)},setProps(e){s=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>o}}var Wg=new Map,Kg=[],Gg=new Set,Qg=e=>Gg.forEach(t=>t(e)),Yg=()=>Wg.size>0;function Xg(e,t){var n;if(t)return!(null==(n=Wg.get(t))||!n.isToastActive(e));let r=!1;return Wg.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function $g(e){if(Yg()){if(null==e||(e=>Dg(e)||Pg(e))(e))Wg.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Wg.get(e.containerId);t?t.removeToast(e.id):Wg.forEach(t=>{t.removeToast(e.id)})}}else Kg=Kg.filter(t=>null!=e&&t.options.toastId!==e)}function Jg(e,t){Mg(e)&&(Yg()||Kg.push({content:e,options:t}),Wg.forEach(n=>{n.buildToast(e,t)}))}function Zg(e,t){Wg.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function ev(e){let t=e.containerId||1;return{subscribe(n){let r=qg(t,e,Qg);Wg.set(t,r);let i=r.observe(n);return Kg.forEach(e=>Jg(e.content,e.options)),Kg=[],()=>{i(),Wg.delete(t)}},setProps(e){var n;null==(n=Wg.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Wg.get(t))?void 0:e.getSnapshot()}}}function tv(e){return e&&(Dg(e.toastId)||Pg(e.toastId))?e.toastId:Hg()}function nv(e,t){return Jg(e,t),t.toastId}function rv(e,t){return c(c({},t),{},{type:t&&t.type||e,toastId:tv(t)})}function iv(e){return(t,n)=>nv(t,rv(e,n))}function av(e,t){return nv(e,rv("default",t))}function ov(e){let[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),o=(0,r.useRef)(null),s=(0,r.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:h}=e;function f(){n(!0)}function p(){n(!1)}function m(n){let r=o.current;if(s.canDrag&&r){s.didMove=!0,t&&p(),"x"===e.draggableDirection?s.delta=n.clientX-s.start:s.delta=n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1);let i="x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))");r.style.transform="translate3d(".concat(i,",0)"),r.style.opacity="".concat(1-Math.abs(s.delta/s.removalDistance))}}function g(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",g);let t=o.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Wg.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,r.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||p(),window.addEventListener("focus",f),window.addEventListener("blur",p),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",p)}},[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",g);let n=o.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:i,right:a}=o.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=a&&t.clientY>=n&&t.clientY<=r?p():f()}};return l&&c&&(v.onMouseEnter=p,e.stacked||(v.onMouseLeave=f)),h&&(v.onClick=e=>{d&&d(e),s.canCloseOnClick&&u(!0)}),{playToast:f,pauseToast:p,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:v}}av.loading=(e,t)=>nv(e,rv("default",c({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),av.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=Dg(i)?av.loading(i,n):av.loading(i.render,c(c({},n),i)));let s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void av.dismiss(r);let a=c(c(c({type:e},s),n),{},{data:i}),o=Dg(t)?{render:t}:t;return r?av.update(r,c(c({},a),o)):av(o.render,c(c({},a),o)),i},u=Rg(e)?e():e;return u.then(e=>l("success",o,e)).catch(e=>l("error",a,e)),u},av.success=iv("success"),av.info=iv("info"),av.error=iv("error"),av.warning=iv("warning"),av.warn=av.warning,av.dark=(e,t)=>nv(e,rv("default",c({theme:"dark"},t))),av.dismiss=function(e){$g(e)},av.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Wg.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},av.isActive=Xg,av.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Wg.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:i}=n,a=c(c(c({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Hg()});a.toastId!==e&&(a.staleId=e);let o=a.render||i;delete a.render,nv(o,a)}},av.done=e=>{av.update(e,{progress:1})},av.onChange=function(e){return Gg.add(e),()=>{Gg.delete(e)}},av.play=e=>Zg(!0,e),av.pause=e=>Zg(!1,e);var sv="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,lv=e=>{let{theme:t,type:n,isLoading:i}=e,a=Ig(e,Og);return r.createElement("svg",c({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},a))};var cv={info:function(e){return r.createElement(lv,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(lv,c({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(lv,c({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(lv,c({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function uv(e){let{theme:t,type:n,isLoading:i,icon:a}=e,o=null,s={theme:t,type:n};return!1===a||(Rg(a)?o=a(c(c({},s),{},{isLoading:i})):(0,r.isValidElement)(a)?o=(0,r.cloneElement)(a,s):i?o=cv.spinner():(e=>e in cv)(n)&&(o=cv[n](s))),o}var dv=e=>{let{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:a,playToast:o}=ov(e),{closeButton:s,children:l,autoClose:u,onClick:d,type:h,hideProgressBar:f,closeToast:p,transition:m,position:g,className:v,style:y,progressClassName:b,updateId:w,role:E,progress:S,rtl:_,toastId:x,deleteToast:k,isIn:T,isLoading:C,closeOnClick:I,theme:N,ariaLabel:A}=e,O=Ag("Toastify__toast","Toastify__toast-theme--".concat(N),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":I}),P=Rg(v)?v({rtl:_,position:g,type:h,defaultClassName:O}):Ag(O,v),D=uv(e),R=!!S||!u,j={closeToast:p,type:h,theme:N},L=null;return!1===s||(L=Rg(s)?s(j):(0,r.isValidElement)(s)?(0,r.cloneElement)(s,j):function(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return r.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":i},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(j)),r.createElement(m,{isIn:T,done:k,position:g,preventExitTransition:n,nodeRef:i,playToast:o},r.createElement("div",c(c({id:x,tabIndex:0,onClick:d,"data-in":T,className:P},a),{},{style:y,ref:i},T&&{role:E,"aria-label":A}),null!=D&&r.createElement("div",{className:Ag("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},D),Ug(l,e,!t),L,!e.customProgressBar&&r.createElement(Vg,c(c({},w&&!R?{key:"p-".concat(w)}:{}),{},{rtl:_,theme:N,delay:u,isRunning:t,isIn:T,closeToast:p,hide:f,type:h,className:b,controlledProgress:R,progress:S||0}))))},hv=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},fv=Fg(hv("bounce",!0)),pv=(Fg(hv("slide",!0)),Fg(hv("zoom")),Fg(hv("flip")),{position:"top-right",transition:fv,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function mv(e){let t=c(c({},pv),e),n=e.stacked,[i,a]=(0,r.useState)(!0),o=(0,r.useRef)(null),{getToastToRender:s,isToastActive:l,count:u}=function(e){var t;let{subscribe:n,getSnapshot:i,setProps:a}=(0,r.useRef)(ev(e)).current;a(e);let o=null==(t=(0,r.useSyncExternalStore)(n,i,i))?void 0:t.slice();return{getToastToRender:function(t){if(!o)return[];let n=new Map;return e.newestOnTop&&o.reverse(),o.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:Xg,count:null==o?void 0:o.length}}(t),{className:d,style:h,rtl:f,containerId:p,hotKeys:m}=t;function g(e){let t=Ag("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":f});return Rg(d)?d({position:e,rtl:f,defaultClassName:t}):Ag(t,jg(d))}function v(){n&&(a(!0),av.play())}return sv(()=>{var e;if(n){let n=o.current.querySelectorAll('[data-in="true"]'),r=12,a=null==(e=t.position)?void 0:e.includes("top"),s=0,l=0;Array.from(n).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(i)),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let o=s*(i?.2:1)+(i?0:r*t);n.style.setProperty("--y","".concat(a?o:-1*o,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(i?l:0))),s+=n.offsetHeight,l+=.025})}},[i,u,n]),(0,r.useEffect)(()=>{function e(e){var t;let n=o.current;m(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),av.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),av.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[m]),r.createElement("section",{ref:o,className:"Toastify",id:p,onMouseEnter:()=>{n&&(a(!1),av.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},s((e,t)=>{let i=t.length?c({},h):c(c({},h),{},{pointerEvents:"none"});return r.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":n,style:i,key:"c-".concat(e)},t.map(e=>{let{content:t,props:i}=e;return r.createElement(dv,c(c({},i),{},{stacked:n,collapseAll:v,isIn:l(i.toastId,i.containerId),key:"t-".concat(i.key)}),t)}))}))}function gv(e){let{open:t=!0,onRegister:n,onShowLogin:i,showGreeting:a,onClose:o}=e;const[s,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[E,S]=(0,r.useState)("");if(!t)return null;return(0,Tg.jsx)("div",{className:"register-overlay",onClick:o,style:{cursor:"pointer"},children:(0,Tg.jsxs)("div",{className:"register-modal",onClick:e=>e.stopPropagation(),children:[a&&(0,Tg.jsx)("h2",{children:"Hola, aqu\xed te puedes registrar"}),!a&&(0,Tg.jsx)("h2",{children:"Reg\xedstrate"}),(0,Tg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),S(""),f!==m)return S("Las contrase\xf1as no coinciden"),void av.error("Las contrase\xf1as no coinciden");try{const e=xg(),t=await async function(e,t,n){if(kt(e.app))return Promise.reject(uf(e));const r=mp(e),i=kp(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Gp,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&nm(e),t}),o=await Qp._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}(e,s,f);av.success("Cliente registrado"),n&&n({email:t.user.email,name:c,lastName:d})}catch(t){S(t.message),av.error(t.message)}},className:"register-form",children:[(0,Tg.jsx)("input",{className:"register-input",type:"text",placeholder:"Nombre",value:c,onChange:e=>u(e.target.value),required:!0}),(0,Tg.jsx)("input",{className:"register-input",type:"text",placeholder:"Apellido",value:d,onChange:e=>h(e.target.value),required:!0}),(0,Tg.jsx)("input",{className:"register-input",type:"email",placeholder:"Correo electr\xf3nico",value:s,onChange:e=>l(e.target.value),required:!0}),(0,Tg.jsxs)("div",{style:{position:"relative"},children:[(0,Tg.jsx)("input",{className:"register-input",type:v?"text":"password",placeholder:"Contrase\xf1a",value:f,onChange:e=>p(e.target.value),required:!0}),(0,Tg.jsx)("button",{type:"button",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"0.9em"},onClick:()=>y(e=>!e),tabIndex:-1,children:v?"Ocultar":"Mostrar"})]}),(0,Tg.jsxs)("div",{style:{position:"relative"},children:[(0,Tg.jsx)("input",{className:"register-input",type:b?"text":"password",placeholder:"Confirmar contrase\xf1a",value:m,onChange:e=>g(e.target.value),required:!0}),(0,Tg.jsx)("button",{type:"button",style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"0.9em"},onClick:()=>w(e=>!e),tabIndex:-1,children:b?"Ocultar":"Mostrar"})]}),E&&(0,Tg.jsx)("div",{style:{color:"red",marginBottom:"0.5rem",textAlign:"center"},children:E}),(0,Tg.jsx)("button",{className:"register-btn",type:"submit",children:"Registrarse"}),(0,Tg.jsxs)("div",{className:"register-register-link",style:{marginTop:"1rem",textAlign:"center"},children:[(0,Tg.jsx)("span",{children:"\xbfYa tienes cuenta? "}),(0,Tg.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),i&&i()},children:"Inicia sesi\xf3n"})]})]}),(0,Tg.jsx)(mv,{position:"top-center",autoClose:2e3,hideProgressBar:!0})]})})}const vv=["estado"],yv={tipo:"",componentes:"",marca:"",modelo:"",serie:""},bv=e=>{let{open:t,onClose:n,user:i,dispositivo:a}=e;const[o,s]=(0,r.useState)(yv);if((0,r.useEffect)(()=>{a?s({tipo:a.tipo||"",componentes:a.componentes||"",marca:a.marca||"",modelo:a.modelo||"",serie:a.serie||""}):t&&s(yv)},[a,t]),!t)return null;const l=e=>{s(c(c({},o),{},{[e.target.name]:e.target.value.toUpperCase()}))};return(0,Tg.jsx)("div",{className:"agregar-dispositivo-overlay",onClick:e=>{e.target.classList.contains("agregar-dispositivo-overlay")&&n()},children:(0,Tg.jsxs)("div",{className:"agregar-dispositivo-modal",onClick:e=>e.stopPropagation(),children:[(0,Tg.jsxs)("div",{className:"agregar-dispositivo-header",children:[(0,Tg.jsx)("span",{children:a?"Editar Dispositivo":"Agregar Dispositivo"}),(0,Tg.jsx)("button",{className:"agregar-dispositivo-close-btn",onClick:n,children:"\xd7"})]}),(0,Tg.jsxs)("form",{className:"agregar-dispositivo-form",onSubmit:async e=>{if(e.preventDefault(),null!==i&&void 0!==i&&i.email)try{var t;const e=i.email,r=null!==(t=o.serie)&&void 0!==t&&t.trim()?o.serie.trim().toUpperCase():"DISP_".concat(Date.now()),{estado:l}=o,u=Ig(o,vv),d=c(c({},Object.fromEntries(Object.entries(u).map(e=>{var t,n;let[r,i]=e;return[r,null!==(t=null===(n=i.toUpperCase)||void 0===n?void 0:n.call(i))&&void 0!==t?t:i]}))),{},{creado:(null===a||void 0===a?void 0:a.creado)||Ad()}),h=Au(Zh,"DISPOSITIVOS",e);(await Sd(h)).exists()?await Td(h,{["".concat(r)]:d}):await kd(h,{[r]:d}),av.success(a?"Dispositivo actualizado correctamente":"Dispositivo agregado correctamente"),s(yv),n()}catch(r){av.error("Error al guardar el dispositivo")}},children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Tipo:"}),(0,Tg.jsx)("input",{name:"tipo",value:o.tipo,onChange:l,required:!0})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Componentes:"}),(0,Tg.jsx)("input",{name:"componentes",value:o.componentes,onChange:l,required:!0})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Marca:"}),(0,Tg.jsx)("input",{name:"marca",value:o.marca,onChange:l,required:!0})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Modelo:"}),(0,Tg.jsx)("input",{name:"modelo",value:o.modelo,onChange:l,required:!0})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Serie:"}),(0,Tg.jsx)("input",{name:"serie",value:o.serie,onChange:l,required:!0})]}),(0,Tg.jsx)("button",{type:"submit",className:"agregar-dispositivo-action-btn",children:"Guardar"})]})]})})};function wv(e){return b({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4V6zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm-1 9h-4v-7h4v7z"},child:[]}]})(e)}function Ev(e){return b({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"},child:[]}]})(e)}function Sv(e){let{open:t,title:n="Confirmaci\xf3n",message:r="\xbfEst\xe1s seguro que deseas continuar?",onAccept:i,onReject:a}=e;return t?(0,Tg.jsx)("div",{className:"confirmation-overlay",children:(0,Tg.jsxs)("div",{className:"confirmation-modal",children:[(0,Tg.jsx)("div",{className:"confirmation-title",children:n}),(0,Tg.jsx)("div",{className:"confirmation-message",children:r}),(0,Tg.jsxs)("div",{className:"confirmation-buttons",children:[(0,Tg.jsx)("button",{className:"confirmation-accept",onClick:i,children:"Acepto"}),(0,Tg.jsx)("button",{className:"confirmation-reject",onClick:a,children:"No acepto"})]})]})}):null}const _v=e=>{var t,n,i;let{open:a,onClose:o,dispositivo:s,user:l,pedido:c}=e;const[u,d]=(0,r.useState)(""),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)("");if(!a)return null;const y=null!==(t=null!==(n=null===c||void 0===c||null===(i=c.dispositivo)||void 0===i?void 0:i.estado)&&void 0!==n?n:null===s||void 0===s?void 0:s.estado)&&void 0!==t?t:"";return(0,Tg.jsx)("div",{className:"mantenimiento-modal-overlay",onClick:e=>{e.target.classList.contains("mantenimiento-modal-overlay")&&o()},children:(0,Tg.jsxs)("div",{className:"mantenimiento-modal",onClick:e=>e.stopPropagation(),children:[(0,Tg.jsx)("h2",{children:"Mantenimiento"}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Dispositivo:"})," ",null===s||void 0===s?void 0:s.marca," ",null===s||void 0===s?void 0:s.modelo," ",null===s||void 0===s?void 0:s.serie]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Estado actual:"})," ",y]}),(0,Tg.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null===l||void 0===l||!l.email||!s||!u.trim()||!h.trim())return;const t=Au(Lu(),"HISTORIAL",l.email),n=Date.now().toString(),r={dispositivo:{id:s.id,marca:s.marca,modelo:s.modelo,serie:s.serie},problema:u,como:h,descripcion:"".concat(u,"\n").concat(h),status:"PENDIENTE",type:"SERVICIO",createdAt:new Date,email:l.email,fechadelacita:g},i=await Sd(t);let a={};i.exists()&&(a=i.data()),a[n]=r,await kd(t,a),m("Pedido de mantenimiento enviado con \xe9xito"),d(""),f(""),v(""),setTimeout(()=>{m(""),o()},2e3)},className:"mantenimiento-form",children:[(0,Tg.jsxs)("label",{children:["\xbfCu\xe1l es el problema?",(0,Tg.jsx)("textarea",{value:u,onChange:e=>d(e.target.value),rows:2,className:"mantenimiento-textarea",placeholder:"Describe el problema...",required:!0})]}),(0,Tg.jsxs)("label",{children:["\xbfC\xf3mo sucedi\xf3?",(0,Tg.jsx)("textarea",{value:h,onChange:e=>f(e.target.value),rows:2,className:"mantenimiento-textarea",placeholder:"Explica c\xf3mo ocurri\xf3 el problema...",required:!0})]}),(0,Tg.jsxs)("div",{style:{margin:"1.2em 0"},children:[(0,Tg.jsx)("label",{style:{fontWeight:500,marginBottom:6,display:"block"},children:"Seleccionar fecha de mantenimiento"}),(0,Tg.jsx)("input",{type:"date",value:g,onChange:e=>v(e.target.value),style:{padding:"0.5em 1em",borderRadius:6,border:"1px solid #e5e7eb",fontSize:"1rem",background:"#fff",color:"#222"}})]}),(0,Tg.jsx)("button",{type:"submit",className:"mantenimiento-btn",disabled:!u.trim()||!h.trim(),children:"Enviar a Mantenimiento"})]}),p&&(0,Tg.jsx)("div",{className:"mantenimiento-success",children:p}),(0,Tg.jsx)("div",{style:{marginTop:"2rem",textAlign:"right"},children:(0,Tg.jsx)("button",{onClick:o,className:"mantenimiento-close-btn",children:"Cerrar"})})]})})};const xv=e=>{let{open:t,onClose:n,user:i,userName:a,userLastName:o}=e;const[s,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)({nombre:a||"",apellido:o||"",email:(null===i||void 0===i?void 0:i.email)||"",telefono:(null===i||void 0===i?void 0:i.telefono)||"",direccion:(null===i||void 0===i?void 0:i.direccion)||""}),[p,m]=(0,r.useState)((null===i||void 0===i?void 0:i.timestamp)||null),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),[w,E]=(0,r.useState)([]),[S,_]=(0,r.useState)(null),[x,k]=(0,r.useState)(!1),[T,C]=(0,r.useState)(null),[I,N]=(0,r.useState)([]),[A,O]=(0,r.useState)(null),[P,D]=(0,r.useState)("Todas"),[R,j]=(0,r.useState)(!1),[L,M]=(0,r.useState)(null),F=function(){const[e,t]=(0,r.useState)(()=>"undefined"!==typeof window&&(window.innerWidth<=900||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)));return(0,r.useEffect)(()=>{const e=()=>{t(window.innerWidth<=900||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e}();(0,r.useEffect)(()=>{if(null===i||void 0===i||!i.email)return;const e=Cd(Au(Zh,"CLIENTES",i.email),e=>{if(e.exists()){const t=e.data();f({nombre:t.name||"",apellido:t.lastName||"",email:t.email||"",telefono:t.telefono||"",direccion:t.direccion||""}),m(t.timestamp||null)}});return()=>e()},[null===i||void 0===i?void 0:i.email]),(0,r.useEffect)(()=>{if(null===i||void 0===i||!i.email)return;const e=Cd(Au(Zh,"DISPOSITIVOS",i.email),e=>{if(e.exists()){const t=e.data(),n=Object.entries(t).map(e=>{let[t,n]=e;return c({id:t},n)});E(n)}else E([])});return()=>e()},[null===i||void 0===i?void 0:i.email]),(0,r.useEffect)(()=>{if(null===i||void 0===i||!i.email)return;const e=Cd(Au(Zh,"HISTORIAL",i.email),e=>{if(e.exists()){const t=e.data(),n=Object.entries(t).filter(e=>{let[t,n]=e;return"object"===typeof n&&null!==n&&!Array.isArray(n)}).map(e=>{let[t,n]=e;return c({id:t},n)});N(n)}else N([])});return()=>e()},[null===i||void 0===i?void 0:i.email]);const z=e=>{f(c(c({},h),{},{[e.target.name]:e.target.value}))},U=()=>{l(!0),d(!0)};function V(e){if(!e)return"N/A";let t=e.toDate?e.toDate():e;t instanceof Date||(t=new Date(t));const n=t.getDate(),r=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()],i=t.getFullYear();return"".concat(n," de ").concat(r," del ").concat(i)}(0,r.useEffect)(()=>{if(null===S)return;const e=e=>{e.target.closest(".dispositivo-menu")||_(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[S]);const B=["Todas",...Array.from(new Set(I.map(e=>(e.status||e.estado||"").toUpperCase()).filter(Boolean)))],H=e=>{const t=I.filter(t=>"SERVICIO"===t.type&&t.dispositivo&&t.dispositivo.id===e).sort((e,t)=>{var n,r;const i=null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():new Date(e.createdAt);return(null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt))-i});return t.length>0&&(t[0].status||t[0].estado)||null};if(!t||!i)return null;return(0,Tg.jsxs)("div",{className:"myprofile-modal-overlay",onClick:e=>{e.target.classList.contains("myprofile-modal-overlay")&&n()},children:[(0,Tg.jsxs)("div",{className:"myprofile-modal",onClick:e=>e.stopPropagation(),children:[(0,Tg.jsxs)("div",{className:"myprofile-modal-header",children:[(0,Tg.jsx)("span",{className:"myprofile-title",children:"Perfil"}),(0,Tg.jsx)("button",{className:"myprofile-close-btn",onClick:n,children:"\xd7"})]}),F?(0,Tg.jsxs)("div",{className:"myprofile-main-vertical",style:{display:"flex",flexDirection:"column",gap:"1.5em",padding:"1.5em",overflowY:"auto",height:"calc(100vh - 80px)"},children:[(0,Tg.jsxs)("div",{className:"myprofile-container",children:[(0,Tg.jsx)("h2",{children:"Mi Perfil"}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Nombre:"})," ",h.nombre," ",h.apellido]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Email:"})," ",h.email]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",h.telefono]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Direcci\xf3n:"})," ",h.direccion]}),(0,Tg.jsxs)("div",{style:{marginTop:"1em",borderTop:"1px solid #eee",paddingTop:"1em"},children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Rol:"})," ",(null===i||void 0===i?void 0:i.rol)||"Usuario"]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha de Vinculaci\xf3n:"})," ",p?V(p):"N/A"]})]}),(0,Tg.jsxs)("div",{style:{marginTop:"1.5em",display:"flex",gap:"1em"},children:[(0,Tg.jsx)("button",{className:"myprofile-action-btn",onClick:()=>v(!0),children:"Agregar dispositivo"}),(0,Tg.jsx)("button",{className:"myprofile-action-btn",onClick:U,children:"Editar informaci\xf3n personal"})]})]}),(0,Tg.jsxs)("div",{className:"myprofile-right-col",children:[(0,Tg.jsx)("h3",{style:{marginBottom:"0.5em"},children:"Mis dispositivos"}),0===w.length?(0,Tg.jsx)("div",{style:{color:"#888",fontSize:"0.98em"},children:"No tienes dispositivos registrados."}):(0,Tg.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1em",justifyContent:"flex-start"},children:w.map(e=>{const t=H(e.id),n=t&&"ENTREGADO"!==t.toUpperCase();return(0,Tg.jsxs)("div",{style:{border:"1px solid #eee",borderRadius:"14px",padding:"1.2em 1em 1em 1em",background:"#fafbfc",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",width:"180px",minHeight:"180px",boxSizing:"border-box",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,Tg.jsx)(wv,{size:38,style:{marginBottom:"0.5em",color:"#404040"}}),(0,Tg.jsxs)("div",{style:{flex:"1 1 0%",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[(0,Tg.jsx)("div",{style:{fontWeight:600,color:"#222",fontSize:"1.08em",textAlign:"center"},children:e.marca}),(0,Tg.jsx)("div",{style:{color:"#007bff",fontWeight:500,fontSize:"1em",marginTop:"0.3em",textAlign:"center"},children:n?t:null===t?e.estado:""})]}),(0,Tg.jsx)("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"0.3em",borderRadius:"50%",position:"absolute",top:"0.7em",right:"0.7em"},onClick:()=>_(S===e.id?null:e.id),"aria-label":"Opciones",children:(0,Tg.jsx)(Ev,{size:22,color:"#888"})}),S===e.id&&(0,Tg.jsxs)("div",{className:"dispositivo-menu",style:{position:"absolute",top:"2.2em",right:"0.5em",background:"#fff",border:"1px solid #eee",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",zIndex:10,minWidth:"110px"},children:[(0,Tg.jsx)("button",{style:{width:"100%",padding:"0.6em 1em",background:"none",border:"none",textAlign:"left",cursor:"pointer",color:"#222",fontSize:"1em",borderBottom:"1px solid #f0f0f0"},onClick:()=>{_(null),b(e),v(!0)},children:"Editar"}),(0,Tg.jsx)("button",{style:{width:"100%",padding:"0.6em 1em",background:"none",border:"none",textAlign:"left",cursor:"pointer",color:"#e74c3c",fontSize:"1em",borderBottom:"1px solid #f0f0f0"},onClick:()=>{_(null),C(e),k(!0)},children:"Borrar"}),(0,Tg.jsx)("button",{style:{width:"100%",padding:"0.6em 1em",background:"none",border:"none",textAlign:"left",cursor:"pointer",color:"#2563eb",fontSize:"1em"},onClick:()=>{_(null),M(e),j(!0)},children:"Mantenimiento"})]})]},e.id)})})]}),(0,Tg.jsxs)("div",{className:"myprofile-historial-section",children:[(0,Tg.jsx)("h3",{style:{marginBottom:"0.5em"},children:"Historial"}),(0,Tg.jsx)("div",{style:{display:"flex",gap:"0.7em",marginBottom:"1em",flexWrap:"wrap"},children:B.map(e=>(0,Tg.jsx)("button",{style:{padding:"0.4em 1.1em",borderRadius:18,border:P===e?"2px solid #2563eb":"1px solid #e5e7eb",background:P===e?"#2563eb":"#f3f3f3",color:P===e?"#fff":"#222",fontWeight:P===e?700:500,fontSize:"1em",cursor:"pointer",outline:"none"},onClick:()=>D(e),children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},e))}),0===I.length?(0,Tg.jsx)("div",{style:{color:"#888",fontSize:"0.98em"},children:"No hay historial de carritos."}):(0,Tg.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1em",marginBottom:"1em"},children:I.filter(e=>{if("Todas"===P)return!0;return(e.status||e.estado||"").toUpperCase()===P}).map((e,t)=>{var n,r,i,a,o,s,l;const c="SERVICIO"===e.type,u="PRODUCTOS"===e.type,d=c?"linear-gradient(90deg,#e0f2fe 60%,#bae6fd 100%)":"linear-gradient(90deg,#f3f4f6 60%,#e5e7eb 100%)",h=c?"#38bdf8":"#d1d5db";return(0,Tg.jsxs)("div",{style:{border:"2px solid ".concat(h),borderRadius:"10px",padding:"1em",background:d,boxShadow:"0 1px 4px rgba(0,0,0,0.04)",cursor:"pointer",transition:"box-shadow 0.2s",position:"relative"},onClick:()=>O(A===e.id?null:e.id),children:[(0,Tg.jsxs)("div",{style:{fontWeight:600,color:c?"#0ea5e9":"#222",fontSize:"1.05em",display:"flex",alignItems:"center",gap:8},children:[c?"Servicio":"Compra"," #",e.id||t+1]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Estado:"})," ",(0,Tg.jsx)("span",{style:{color:"pendiente"===(e.status||e.estado)||"PENDIENTE"===(e.status||e.estado)?"#e67e22":"completado"===(e.status||e.estado)||"COMPLETADO"===(e.status||e.estado)?"#27ae60":"cancelado"===(e.status||e.estado)||"CANCELADO"===(e.status||e.estado)?"#e74c3c":c?"#0ea5e9":"#007bff",fontWeight:500},children:e.status||e.estado||"Desconocido"})]}),A===e.id&&(0,Tg.jsxs)(Tg.Fragment,{children:[u&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Detalles:"}),(0,Tg.jsx)("ul",{style:{margin:0,paddingLeft:"1.2em",fontSize:"0.98em"},children:Array.isArray(e.items)?e.items.map((e,t)=>{var n,r,i,a;return(0,Tg.jsx)("li",{children:e.name?"".concat(e.name," (").concat(e.cantidad||1,") - $").concat(null!==(n=null!==(r=null===(i=e.price)||void 0===i||null===(a=i.toLocaleString)||void 0===a?void 0:a.call(i))&&void 0!==r?r:e.price)&&void 0!==n?n:0):JSON.stringify(e)},t)}):(0,Tg.jsx)("li",{children:"Sin detalles"})})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Total:"})," $",null!==(n=null!==(r=null===(i=e.total)||void 0===i||null===(a=i.toLocaleString)||void 0===a?void 0:a.call(i))&&void 0!==r?r:e.total)&&void 0!==n?n:"N/A"]})]}),c&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Dispositivo:"})," ",null===(o=e.dispositivo)||void 0===o?void 0:o.marca," ",null===(s=e.dispositivo)||void 0===s?void 0:s.modelo," ",null===(l=e.dispositivo)||void 0===l?void 0:l.serie]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Problema:"})," ",e.problema]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"\xbfC\xf3mo sucedi\xf3?:"})," ",e.como]}),(e.diagnostico||e.fechaDiagnostico||e.fechaReparacion||e.fechaEntregado)&&(0,Tg.jsxs)("div",{style:{marginTop:8,marginBottom:8},children:[e.fechaDiagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha diagn\xf3stico:"})," ",(()=>{const t=new Date(e.fechaDiagnostico);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.diagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Diagn\xf3stico:"})," ",e.diagnostico]}),e.precio&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Precio:"})," ",e.precio?"$".concat(Number(e.precio).toLocaleString("es-CO")):"N/A"]}),e.fechaReparacion&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha reparaci\xf3n:"})," ",(()=>{const t=new Date(e.fechaReparacion);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.observaciones&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Pruebas de rendimiento / Observaciones:"})," ",e.observaciones]}),e.fechaEntregado&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha entregado:"})," ",(()=>{const t=new Date(e.fechaEntregado);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]})]})]}),e.createdAt&&(0,Tg.jsxs)("div",{style:{color:"#888",fontSize:"0.95em",marginTop:"0.3em"},children:[(0,Tg.jsx)("strong",{children:"Fecha:"})," ",V(e.createdAt)]})]})]},e.id||t)})})]})]}):(0,Tg.jsxs)("div",{className:"myprofile-main-grid",children:[(0,Tg.jsxs)("div",{className:"myprofile-left-col",children:[(0,Tg.jsxs)("div",{className:"myprofile-container",children:[(0,Tg.jsx)("h2",{children:"Mi Perfil"}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Nombre:"})," ",h.nombre," ",h.apellido]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Email:"})," ",h.email]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",h.telefono]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Direcci\xf3n:"})," ",h.direccion]}),(0,Tg.jsxs)("div",{style:{marginTop:"1em",borderTop:"1px solid #eee",paddingTop:"1em"},children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Rol:"})," ",(null===i||void 0===i?void 0:i.rol)||"Usuario"]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha de Vinculaci\xf3n:"})," ",p?V(p):"N/A"]})]}),(0,Tg.jsxs)("div",{style:{marginTop:"1.5em",display:"flex",gap:"1em"},children:[(0,Tg.jsx)("button",{className:"myprofile-action-btn",onClick:()=>v(!0),children:"Agregar dispositivo"}),(0,Tg.jsx)("button",{className:"myprofile-action-btn",onClick:U,children:"Editar informaci\xf3n personal"})]})]}),(0,Tg.jsxs)("div",{className:"myprofile-historial-section",children:[(0,Tg.jsx)("h3",{style:{marginBottom:"0.5em"},children:"Historial"}),(0,Tg.jsx)("div",{style:{display:"flex",gap:"0.7em",marginBottom:"1em",flexWrap:"wrap"},children:B.map(e=>(0,Tg.jsx)("button",{style:{padding:"0.4em 1.1em",borderRadius:18,border:P===e?"2px solid #2563eb":"1px solid #e5e7eb",background:P===e?"#2563eb":"#f3f3f3",color:P===e?"#fff":"#222",fontWeight:P===e?700:500,fontSize:"1em",cursor:"pointer",outline:"none"},onClick:()=>D(e),children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},e))}),0===I.length?(0,Tg.jsx)("div",{style:{color:"#888",fontSize:"0.98em"},children:"No hay historial de carritos."}):(0,Tg.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"1em",marginBottom:"1em"},children:I.filter(e=>{if("Todas"===P)return!0;return(e.status||e.estado||"").toUpperCase()===P}).map((e,t)=>{var n,r,i,a,o,s,l;const c="SERVICIO"===e.type,u="PRODUCTOS"===e.type,d=c?"linear-gradient(90deg,#e0f2fe 60%,#bae6fd 100%)":"linear-gradient(90deg,#f3f4f6 60%,#e5e7eb 100%)",h=c?"#38bdf8":"#d1d5db";return(0,Tg.jsxs)("div",{style:{border:"2px solid ".concat(h),borderRadius:"10px",padding:"1em",background:d,boxShadow:"0 1px 4px rgba(0,0,0,0.04)",cursor:"pointer",transition:"box-shadow 0.2s",position:"relative"},onClick:()=>O(A===e.id?null:e.id),children:[(0,Tg.jsxs)("div",{style:{fontWeight:600,color:c?"#0ea5e9":"#222",fontSize:"1.05em",display:"flex",alignItems:"center",gap:8},children:[c?"Servicio":"Compra"," #",e.id||t+1]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Estado:"})," ",(0,Tg.jsx)("span",{style:{color:"pendiente"===(e.status||e.estado)||"PENDIENTE"===(e.status||e.estado)?"#e67e22":"completado"===(e.status||e.estado)||"COMPLETADO"===(e.status||e.estado)?"#27ae60":"cancelado"===(e.status||e.estado)||"CANCELADO"===(e.status||e.estado)?"#e74c3c":c?"#0ea5e9":"#007bff",fontWeight:500},children:e.status||e.estado||"Desconocido"})]}),A===e.id&&(0,Tg.jsxs)(Tg.Fragment,{children:[u&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Detalles:"}),(0,Tg.jsx)("ul",{style:{margin:0,paddingLeft:"1.2em",fontSize:"0.98em"},children:Array.isArray(e.items)?e.items.map((e,t)=>{var n,r,i,a;return(0,Tg.jsx)("li",{children:e.name?"".concat(e.name," (").concat(e.cantidad||1,") - $").concat(null!==(n=null!==(r=null===(i=e.price)||void 0===i||null===(a=i.toLocaleString)||void 0===a?void 0:a.call(i))&&void 0!==r?r:e.price)&&void 0!==n?n:0):JSON.stringify(e)},t)}):(0,Tg.jsx)("li",{children:"Sin detalles"})})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Total:"})," $",null!==(n=null!==(r=null===(i=e.total)||void 0===i||null===(a=i.toLocaleString)||void 0===a?void 0:a.call(i))&&void 0!==r?r:e.total)&&void 0!==n?n:"N/A"]})]}),c&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Dispositivo:"})," ",null===(o=e.dispositivo)||void 0===o?void 0:o.marca," ",null===(s=e.dispositivo)||void 0===s?void 0:s.modelo," ",null===(l=e.dispositivo)||void 0===l?void 0:l.serie]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Problema:"})," ",e.problema]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"\xbfC\xf3mo sucedi\xf3?:"})," ",e.como]}),(e.diagnostico||e.fechaDiagnostico||e.fechaReparacion||e.fechaEntregado)&&(0,Tg.jsxs)("div",{style:{marginTop:8,marginBottom:8},children:[e.fechaDiagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha diagn\xf3stico:"})," ",(()=>{const t=new Date(e.fechaDiagnostico);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.diagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Diagn\xf3stico:"})," ",e.diagnostico]}),e.precio&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Precio:"})," ",e.precio?"$".concat(Number(e.precio).toLocaleString("es-CO")):"N/A"]}),e.fechaReparacion&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha reparaci\xf3n:"})," ",(()=>{const t=new Date(e.fechaReparacion);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.observaciones&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Pruebas de rendimiento / Observaciones:"})," ",e.observaciones]}),e.fechaEntregado&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha entregado:"})," ",(()=>{const t=new Date(e.fechaEntregado);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]})]})]}),e.createdAt&&(0,Tg.jsxs)("div",{style:{color:"#888",fontSize:"0.95em",marginTop:"0.3em"},children:[(0,Tg.jsx)("strong",{children:"Fecha:"})," ",V(e.createdAt)]})]})]},e.id||t)})})]})]}),(0,Tg.jsxs)("div",{className:"myprofile-right-col",children:[(0,Tg.jsx)("h3",{style:{marginBottom:"0.5em"},children:"Mis dispositivos"}),0===w.length?(0,Tg.jsx)("div",{style:{color:"#888",fontSize:"0.98em"},children:"No tienes dispositivos registrados."}):(0,Tg.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"1em",justifyContent:"flex-start"},children:w.map(e=>{const t=H(e.id),n=t&&"ENTREGADO"!==t.toUpperCase();return(0,Tg.jsxs)("div",{style:{border:"1px solid #eee",borderRadius:"14px",padding:"1.2em 1em 1em 1em",background:"#fafbfc",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",width:"180px",minHeight:"180px",boxSizing:"border-box",boxShadow:"0 2px 8px rgba(0,0,0,0.04)"},children:[(0,Tg.jsx)(wv,{size:38,style:{marginBottom:"0.5em",color:"#404040"}}),(0,Tg.jsxs)("div",{style:{flex:"1 1 0%",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:[(0,Tg.jsx)("div",{style:{fontWeight:600,color:"#222",fontSize:"1.08em",textAlign:"center"},children:e.marca}),(0,Tg.jsx)("div",{style:{color:"#007bff",fontWeight:500,fontSize:"1em",marginTop:"0.3em",textAlign:"center"},children:n?t:null===t?e.estado:""})]}),(0,Tg.jsx)("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"0.3em",borderRadius:"50%",position:"absolute",top:"0.7em",right:"0.7em"},onClick:()=>_(S===e.id?null:e.id),"aria-label":"Opciones",children:(0,Tg.jsx)(Ev,{size:22,color:"#888"})}),S===e.id&&(0,Tg.jsxs)("div",{className:"dispositivo-menu",style:{position:"absolute",top:"2.2em",right:"0.5em",background:"#fff",border:"1px solid #eee",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",zIndex:10,minWidth:"110px"},children:[(0,Tg.jsx)("button",{style:{width:"100%",padding:"0.6em 1em",background:"none",border:"none",textAlign:"left",cursor:"pointer",color:"#222",fontSize:"1em",borderBottom:"1px solid #f0f0f0"},onClick:()=>{_(null),b(e),v(!0)},children:"Editar"}),(0,Tg.jsx)("button",{style:{width:"100%",padding:"0.6em 1em",background:"none",border:"none",textAlign:"left",cursor:"pointer",color:"#e74c3c",fontSize:"1em",borderBottom:"1px solid #f0f0f0"},onClick:()=>{_(null),C(e),k(!0)},children:"Borrar"}),(0,Tg.jsx)("button",{style:{width:"100%",padding:"0.6em 1em",background:"none",border:"none",textAlign:"left",cursor:"pointer",color:"#2563eb",fontSize:"1em"},onClick:()=>{_(null),M(e),j(!0)},children:"Mantenimiento"})]})]},e.id)})})]})]}),(0,Tg.jsx)(mv,{position:"bottom-right",autoClose:2500,hideProgressBar:!0}),(0,Tg.jsx)(Sv,{open:x,title:"Borrar dispositivo",message:T?'\xbfDeseas eliminar el dispositivo "'.concat(T.marca," ").concat(T.modelo||""," ").concat(T.serie||"",'"? Esta acci\xf3n no tiene reversa.'):"",onAccept:async()=>{if(null!==i&&void 0!==i&&i.email&&T)try{const e=Au(Zh,"DISPOSITIVOS",i.email),{id:t}=T;await Td(e,{[t]:new Ju("deleteField")}),av.success("Dispositivo eliminado correctamente")}catch(e){av.error("Error al eliminar el dispositivo")}finally{k(!1),C(null)}},onReject:()=>{k(!1),C(null)}})]}),(g||y)&&(0,Tg.jsx)(bv,{open:g||!!y,onClose:()=>{v(!1),b(null)},user:i,dispositivo:y}),u&&(0,Tg.jsx)("div",{className:"agregar-dispositivo-overlay",style:{zIndex:2e3},onClick:e=>{e.target.classList.contains("agregar-dispositivo-overlay")&&(l(!1),d(!1))},children:(0,Tg.jsxs)("div",{className:"myprofile-modal myprofile-edit-modal",style:{maxWidth:420,margin:"auto",height:"auto",minHeight:"unset",borderRadius:18,boxShadow:"0 8px 32px rgba(0,0,0,0.18)",background:"var(--color-surface, #fff)",display:"flex",flexDirection:"column",padding:"0 1.5rem 1.5rem 1.5rem"},onClick:e=>e.stopPropagation(),children:[(0,Tg.jsxs)("div",{className:"myprofile-modal-header",style:{borderRadius:"18px 18px 0 0",paddingBottom:0},children:[(0,Tg.jsx)("span",{className:"myprofile-title",style:{fontSize:"1.25rem"},children:"Editar informaci\xf3n"}),(0,Tg.jsx)("button",{className:"myprofile-close-btn",onClick:()=>{l(!1),d(!1)},style:{background:"none",color:"#888",fontSize:"1.5rem"},children:"\xd7"})]}),(0,Tg.jsxs)("form",{className:"myprofile-edit-form",style:{marginTop:"1.2rem",marginBottom:0,gap:"0.8rem"},onSubmit:e=>{e.preventDefault(),(async()=>{try{const e=Au(Zh,"CLIENTES",null===i||void 0===i?void 0:i.email),t=await Sd(e);let n={name:h.nombre,lastName:h.apellido,email:h.email,telefono:h.telefono,direccion:h.direccion};t.exists()&&t.data().timestamp||(n.timestamp=Ad()),await Td(e,n),av.success("Actualizaci\xf3n de datos correcta"),l(!1),d(!1)}catch(e){av.error("Error al actualizar los datos")}})()},children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Nombre:"}),(0,Tg.jsx)("input",{name:"nombre",value:h.nombre,onChange:z,autoFocus:!0})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Apellido:"}),(0,Tg.jsx)("input",{name:"apellido",value:h.apellido,onChange:z})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Email:"}),(0,Tg.jsx)("input",{name:"email",value:h.email,readOnly:!0,style:{background:"#f3f3f3",color:"#888",cursor:"not-allowed"},tabIndex:-1})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Tel\xe9fono:"}),(0,Tg.jsx)("input",{name:"telefono",value:h.telefono,onChange:z})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Direcci\xf3n:"}),(0,Tg.jsx)("input",{name:"direccion",value:h.direccion,onChange:z})]}),(0,Tg.jsxs)("div",{style:{display:"flex",gap:"0.7rem",marginTop:"0.7rem",justifyContent:"flex-end"},children:[(0,Tg.jsx)("button",{type:"submit",className:"myprofile-action-btn",style:{minWidth:110,fontWeight:600,fontSize:"1rem",borderRadius:8},children:"Guardar"}),(0,Tg.jsx)("button",{type:"button",className:"myprofile-action-btn",style:{background:"var(--color-muted-bg, #f3f3f3)",color:"var(--color-primary, #2563eb)",border:"1px solid var(--color-border, #e5e7eb)",minWidth:110,fontWeight:500,fontSize:"1rem",borderRadius:8},onClick:()=>{l(!1),d(!1)},children:"Cancelar"})]})]})]})}),R&&L&&(0,Tg.jsx)(_v,{open:R,onClose:()=>{j(!1),M(null)},dispositivo:L,user:i})]})},kv=e=>{let{open:t,onClose:n,user:i}=e;const[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)("");(0,r.useEffect)(()=>{if(!t||null===i||void 0===i||!i.email)return o([]),void l("");const e=Cd(Au(Lu(),"CARRITO",i.email),e=>{if(e.exists()){const t=e.data();o(Object.values(t).filter(e=>!!e).map(e=>c(c({},e),{},{cantidad:e.cantidad||1,price:e.price||0})))}else o([])});return()=>e()},[t,i]);const u=a.reduce((e,t)=>e+t.price*t.cantidad,0);return(0,Tg.jsx)("div",{className:"cart-modal-overlay".concat(t?" open":""),onClick:e=>{e.target.classList.contains("cart-modal-overlay")&&n()},children:(0,Tg.jsxs)("div",{className:"cart-modal".concat(t?" open":""),onClick:e=>e.stopPropagation(),children:[(0,Tg.jsxs)("div",{className:"cart-modal-header",children:[(0,Tg.jsx)("span",{children:"Carrito"}),(0,Tg.jsx)("button",{className:"cart-modal-close-btn",onClick:n,children:"\xd7"})]}),s&&(0,Tg.jsx)("div",{style:{background:"#4caf50",color:"white",padding:"12px 18px",borderRadius:8,margin:"16px 20px 0 20px",fontWeight:"bold",textAlign:"center"},children:s}),(0,Tg.jsx)("div",{className:"cart-modal-body",children:0===a.length?(0,Tg.jsx)("div",{className:"cart-modal-empty",children:"No hay productos en el carrito."}):a.map((e,t)=>{var n,r,i;return(0,Tg.jsxs)("div",{className:"cart-modal-item",children:[(0,Tg.jsx)("img",{src:e.url,alt:e.name,className:"cart-modal-item-img",style:{width:54,height:54,objectFit:"cover",borderRadius:8,marginRight:12,background:"#f3f3f3"}}),(0,Tg.jsxs)("div",{className:"cart-modal-item-info",children:[(0,Tg.jsx)("div",{className:"cart-modal-item-name",children:e.name}),(0,Tg.jsxs)("div",{className:"cart-modal-item-qty",children:["Cantidad: ",e.cantidad]})]}),(0,Tg.jsxs)("div",{className:"cart-modal-item-price",children:["$",null!==(n=null===(r=e.price)||void 0===r||null===(i=r.toLocaleString)||void 0===i?void 0:i.call(r))&&void 0!==n?n:e.price]})]},t)})}),(0,Tg.jsxs)("div",{className:"cart-modal-footer",children:[(0,Tg.jsxs)("div",{className:"cart-modal-total",children:["Total: ",(0,Tg.jsxs)("b",{children:["$",u.toLocaleString()]})]}),(0,Tg.jsxs)("button",{className:"cart-modal-buy-btn",style:{marginTop:16,width:"100%",background:"var(--color-primary, #1976d2)",color:"white",border:"none",borderRadius:6,padding:"12px 0",fontWeight:"bold",fontSize:"1.1em",display:"flex",alignItems:"center",justifyContent:"center",gap:10,cursor:"pointer"},onClick:async()=>{if(null===i||void 0===i||!i.email||0===a.length)return;const e=Lu(),t=Au(e,"HISTORIAL",i.email),n=Au(e,"CARRITO",i.email),r=Date.now().toString(),o={items:a,total:u,status:"PENDIENTE PAGO",type:"PRODUCTOS",createdAt:new Date,email:i.email},s=await Sd(t);let c={};s.exists()&&(c=s.data()),c[r]=o,await kd(t,c),await kd(n,{}),l("Carrito pagado con \xe9xito, espera confirmaci\xf3n"),setTimeout(()=>l(""),3500)},children:[(0,Tg.jsx)(N,{}),"Comprar"]})]})]})})},Tv=e=>{let{user:t}=e;const[n,i]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[w,T]=(0,r.useState)(null),[C,I]=(0,r.useState)(!1),[N,D]=(0,r.useState)(""),[R,j]=(0,r.useState)(0),[L,M]=(0,r.useState)(!1),[F,z]=(0,r.useState)(!1),[U,V]=(0,r.useState)(!1),[B,H]=(0,r.useState)(null),[q,W]=(0,r.useState)(!0),K=(0,r.useRef)(null),[G,Q]=(0,r.useState)(window.innerWidth<=700);(0,r.useEffect)(()=>{const e=()=>Q(window.innerWidth<=700);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{(async()=>{const e=Nu(Lu(),"PRODUCTOS"),t=(await xd(e)).docs.map(e=>e.data());i(t);const n=[...new Set(t.map(e=>e.category))];o(n)})()},[]);(0,r.useEffect)(()=>{if(t&&t.email){Sd(Au(Lu(),"CLIENTES",t.email)).then(e=>{e.exists()?(m(e.data().name||""),v(e.data().lastName||"")):(m(""),v(""))})}},[t]);const Y=n.filter(e=>{const t=!w||e.category===w;if(!N.trim())return t;const n=e=>(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),r=n(N);return t&&(n(e.name).includes(r)||n(e.description).includes(r)||n(e.category).includes(r))});(0,r.useEffect)(()=>{if(null===t||void 0===t||!t.email)return void j(0);const e=Cd(Au(Lu(),"CARRITO",t.email),e=>{if(e.exists()){const t=e.data(),n=Object.values(t).reduce((e,t)=>e+(t.cantidad||1),0);j(n)}else j(0)});return()=>e()},[t]);return(0,r.useEffect)(()=>{(async()=>{try{const e=Au(Lu(),"REDES","REDESSOCIALES"),t=await Sd(e);t.exists()&&H(t.data())}catch(e){H(null)}})()},[]),(0,r.useEffect)(()=>{if(!K.current)return;const e=new window.IntersectionObserver(e=>{let[t]=e;return W(!t.isIntersecting)},{threshold:.01});return e.observe(K.current),()=>e.disconnect()},[]),(0,Tg.jsxs)("div",{className:"homepage-user-container",children:[y&&(0,Tg.jsx)("div",{style:{position:"fixed",bottom:24,right:24,background:"#222",color:"#fff",padding:"14px 28px",borderRadius:8,zIndex:9999,fontWeight:"bold",boxShadow:"0 2px 12px rgba(0,0,0,0.18)"},children:y}),(0,Tg.jsxs)("header",{className:"homepage-user-header",children:[G&&(0,Tg.jsx)("button",{className:"homepage-user-menu-btn",onClick:()=>V(!0),style:{background:"none",border:"none",color:"var(--color-white)",fontSize:28,cursor:"pointer",marginRight:12},"aria-label":"Abrir men\xfa",children:(0,Tg.jsx)(k,{})}),(0,Tg.jsx)("div",{className:"homepage-user-logo",children:"Pelktech"}),(0,Tg.jsx)("input",{type:"text",placeholder:"Buscar productos...",className:"homepage-user-search",value:N,onChange:e=>D(e.target.value)}),!G&&(0,Tg.jsxs)("div",{className:"homepage-user-buttons",children:[t&&(0,Tg.jsxs)("button",{className:"homepage-user-logout-btn",onClick:()=>z(!0),title:"Cerrar sesi\xf3n",children:[(0,Tg.jsx)(O,{style:{marginRight:6}}),"Cerrar sesi\xf3n"]}),(0,Tg.jsxs)("button",{className:"homepage-user-login-btn",onClick:()=>{t?I(!0):d(!0)},children:[(0,Tg.jsx)(P,{style:{marginRight:8}}),p?p.split(" ")[0]:"Iniciar Sesi\xf3n"]}),(0,Tg.jsxs)("button",{className:"homepage-user-cart-btn",onClick:()=>M(!0),children:[(0,Tg.jsx)(A,{}),"Carrito",R>0&&(0,Tg.jsx)("span",{className:"homepage-user-cart-count",children:R})]})]})]}),G&&U&&(0,Tg.jsx)("div",{className:"homepage-user-mobilemenu-backdrop",onClick:()=>V(!1),children:(0,Tg.jsxs)("div",{className:"homepage-user-mobilemenu",onClick:e=>e.stopPropagation(),children:[(0,Tg.jsx)("button",{className:"homepage-user-mobilemenu-close",onClick:()=>V(!1),"aria-label":"Cerrar men\xfa",children:"\xd7"}),t&&(0,Tg.jsxs)("button",{className:"homepage-user-mobilemenu-btn",onClick:()=>{z(!0),V(!1)},children:[(0,Tg.jsx)(O,{style:{marginRight:8}}),"Cerrar sesi\xf3n"]}),(0,Tg.jsxs)("button",{className:"homepage-user-mobilemenu-btn",onClick:()=>{t?I(!0):d(!0),V(!1)},children:[(0,Tg.jsx)(P,{style:{marginRight:8}}),p?p.split(" ")[0]:"Iniciar Sesi\xf3n"]}),(0,Tg.jsxs)("button",{className:"homepage-user-mobilemenu-btn",onClick:()=>{M(!0),V(!1)},children:[(0,Tg.jsx)(A,{style:{marginRight:8}}),"Carrito",R>0&&(0,Tg.jsx)("span",{className:"homepage-user-cart-count",style:{marginLeft:8},children:R})]})]})}),(0,Tg.jsxs)("main",{className:"homepage-user-main",children:[(0,Tg.jsxs)("div",{className:"homepage-user-categories",onWheel:e=>{0!==e.deltaY&&(e.currentTarget.scrollLeft+=e.deltaY,e.preventDefault())},children:[(0,Tg.jsx)("button",{className:"homepage-user-category-btn",style:{fontWeight:w?void 0:"bold",background:w?void 0:"var(--color-hover)",color:w?void 0:"var(--color-white)"},onClick:()=>T(null),children:"Todas"}),a.map(e=>(0,Tg.jsx)("button",{className:"homepage-user-category-btn",style:{fontWeight:w===e?"bold":void 0,background:w===e?"var(--color-hover)":void 0,color:w===e?"var(--color-white)":void 0},onClick:()=>T(e),children:e},e))]}),(0,Tg.jsx)("div",{className:"homepage-user-products-grid",children:Y.map((e,n)=>{var r,i,a;return(0,Tg.jsxs)("div",{className:"homepage-user-product-card".concat(s===n?" hovered":""),onMouseEnter:()=>l(n),onMouseLeave:()=>l(null),children:[(0,Tg.jsx)("img",{src:e.url,alt:e.name,className:"homepage-user-product-img"}),(0,Tg.jsxs)("div",{className:"homepage-user-product-info",children:[(0,Tg.jsx)("div",{className:"homepage-user-product-name",children:e.name}),(0,Tg.jsx)("div",{className:"homepage-user-product-category",children:e.category}),(0,Tg.jsx)("div",{className:"homepage-user-product-description",children:e.description}),(0,Tg.jsxs)("div",{className:"homepage-user-product-meta",children:[(0,Tg.jsxs)("span",{className:"homepage-user-product-price",children:["$",null!==(r=null===(i=e.price)||void 0===i||null===(a=i.toLocaleString)||void 0===a?void 0:a.call(i))&&void 0!==r?r:e.price]}),(0,Tg.jsxs)("span",{className:"homepage-user-product-stock",children:["Stock: ",e.stock]})]}),(0,Tg.jsxs)("button",{className:"homepage-user-addcart-btn",onClick:()=>(async e=>{if(t)try{const n=Au(Lu(),"CARRITO",t.email),r=await Sd(n);let i={};if(r.exists()){const t=r.data(),n=t[e.id];i=c(c({},t),{},{[e.id]:c(c({},e),{},{cantidad:n?(n.cantidad||1)+1:1})})}else i={[e.id]:c(c({},e),{},{cantidad:1})};await kd(n,i),b("A\xf1adido al carrito"),setTimeout(()=>b(""),2e3)}catch(n){b("Error al a\xf1adir al carrito"),setTimeout(()=>b(""),2e3)}else d(!0)})(e),children:[(0,Tg.jsx)(A,{}),"Agregar al carrito"]})]})]},e.id)})})]}),(0,Tg.jsxs)("footer",{className:"homepage-user-footer",ref:K,children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("div",{className:"homepage-user-footer-title",children:"Cont\xe1ctanos"}),(null===B||void 0===B?void 0:B.correo)&&(0,Tg.jsx)("div",{children:B.correo}),(null===B||void 0===B?void 0:B.whatsapp)&&(0,Tg.jsx)("div",{children:B.whatsapp})]}),(0,Tg.jsxs)("div",{className:"homepage-user-footer-rights",children:["\xa9 ",(new Date).getFullYear()," Pelktech. Todos los derechos reservados."]}),(0,Tg.jsxs)("div",{className:"homepage-user-footer-socials",children:[(null===B||void 0===B?void 0:B.facebook)&&(0,Tg.jsx)("a",{href:B.facebook,target:"_blank",rel:"noopener noreferrer",children:(0,Tg.jsx)(E,{})}),(null===B||void 0===B?void 0:B.twitter)&&(0,Tg.jsx)("a",{href:B.twitter,target:"_blank",rel:"noopener noreferrer",children:(0,Tg.jsx)(_,{})}),(null===B||void 0===B?void 0:B.instagram)&&(0,Tg.jsx)("a",{href:B.instagram,target:"_blank",rel:"noopener noreferrer",children:(0,Tg.jsx)(S,{})})]})]}),(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsx)(Cg,{open:u,onLogin:async e=>{d(!1);const t=Au(Lu(),"CLIENTES",e.email),n=await Sd(t);n.exists()?(m(n.data().name||""),v(n.data().lastName||"")):(m(""),v(""))},onShowRegister:()=>{d(!1),f(!0)},onClose:()=>d(!1)}),(0,Tg.jsx)(gv,{open:h,onRegister:async e=>{f(!1);const t=Au(Lu(),"CLIENTES",e.email);await kd(t,{name:e.name,lastName:e.lastName,email:e.email}),m(e.name||""),v(e.lastName||"")},onShowLogin:()=>{f(!1),d(!0)},showGreeting:!0,onClose:()=>f(!1)}),(0,Tg.jsx)(xv,{open:C,onClose:()=>I(!1),user:t,userName:p,userLastName:g}),(0,Tg.jsx)(kv,{open:L,onClose:()=>M(!1),user:t}),(0,Tg.jsx)(Sv,{open:F,title:"Cerrar sesi\xf3n",message:"\xbfEst\xe1s seguro que deseas cerrar sesi\xf3n?",onAccept:async()=>{try{const e=xg();await rm(e),I(!1),z(!1),window.location.reload()}catch(e){b("Error al cerrar sesi\xf3n"),setTimeout(()=>b(""),2e3)}},onReject:()=>z(!1)})]}),(null===B||void 0===B?void 0:B.whatsapp)&&(0,Tg.jsxs)("a",{href:"https://wa.me/".concat(B.whatsapp.replace(/[^0-9]/g,"")),className:"homepage-user-whatsapp-fab"+(q?"":" homepage-user-whatsapp-fab--moveup"),target:"_blank",rel:"noopener noreferrer",title:"Cont\xe1ctanos por WhatsApp",children:[(0,Tg.jsx)(x,{style:{fontSize:28,marginRight:10}}),(0,Tg.jsx)("span",{children:"Cont\xe1ctanos"})]})]})};function Cv(){const[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(null),[i,a]=(0,r.useState)({name:"",email:"",rol:"",telefono:""}),[o,s]=(0,r.useState)(null),[l,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),[f,p]=(0,r.useState)("tickets"),[m,g]=(0,r.useState)([]),[v,y]=(0,r.useState)({}),[b,w]=(0,r.useState)(null),[E,S]=(0,r.useState)("Todas"),[_,x]=(0,r.useState)("");(0,r.useEffect)(()=>{const e=xg().onAuthStateChanged(e=>{e&&e.email&&x(e.email)});return()=>e()},[]),(0,r.useEffect)(()=>{if(!_)return;let e=null,t=!1;return(async()=>{let n=Au(Zh,"EMPLEADOS",_),r=await Sd(n);r.exists()?(t=!0,e=Cd(n,e=>{const t=e.data();a({name:t.name||"",email:t.email||"",rol:t.rol||"",telefono:t.telefono||""}),s(t.timestamp||null)})):(n=Au(Zh,"USUARIOS",_),r=await Sd(n),r.exists()?(t=!0,e=Cd(n,e=>{const t=e.data();a({name:t.name||"",email:t.email||"",rol:t.rol||"",telefono:t.telefono||""}),s(t.timestamp||null)})):(n=Au(Zh,"TECNICOS",_),r=await Sd(n),r.exists()?(t=!0,e=Cd(n,e=>{const t=e.data();a({name:t.name||"",email:t.email||"",rol:t.rol||"",telefono:t.telefono||""}),s(t.timestamp||null)})):(a({name:"",email:_,rol:"",telefono:""}),s(null))))})(),()=>{e&&e()}},[_,Zh]),(0,r.useEffect)(()=>{const e=Cd(Nu(Zh,"HISTORIAL"),e=>{let t=[];e.forEach(e=>{const n=e.data(),r=Object.entries(n).filter(e=>{let[t,n]=e;return"object"===typeof n&&null!==n&&!Array.isArray(n)}).map(t=>{let[n,r]=t;return c(c({id:n},r),{},{_usuario:e.id})});t=t.concat(r)}),g(t)},e=>{"permission-denied"===e.code?alert("No tienes permisos para ver los carritos. Contacta al administrador."):alert("Error al obtener los carritos: "+e.message)});return()=>{e()}},[Zh]),(0,r.useEffect)(()=>{m.length>0&&async function(){const e={};for(const c of m){var t,n,r,i,a,o,s;if(v[c.id])continue;if(!c.email)continue;let u=null;try{const e=Au(Zh,"CLIENTES",c.email),t=await Sd(e);t.exists()&&(u=t.data())}catch(l){"permission-denied"===l.code?alert("No tienes permisos para ver los datos de los clientes. Contacta al administrador."):alert("Error al obtener datos del cliente: "+l.message)}e[c.id]={name:(null===(t=u)||void 0===t?void 0:t.name)||(null===(n=u)||void 0===n?void 0:n.nombre)||"",lastName:(null===(r=u)||void 0===r?void 0:r.lastName)||(null===(i=u)||void 0===i?void 0:i.apellido)||"",email:(null===(a=u)||void 0===a?void 0:a.email)||c.email,telefono:(null===(o=u)||void 0===o?void 0:o.telefono)||"",direccion:(null===(s=u)||void 0===s?void 0:s.direccion)||""}}Object.keys(e).length>0&&y(t=>c(c({},t),e))}()},[m]);function k(e){if(!e)return"N/A";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,r]=e.split("-"),i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return"".concat(parseInt(r,10)," de ").concat(i[parseInt(n,10)-1]," del ").concat(t)}let t=e.toDate?e.toDate():e;t instanceof Date||(t=new Date(t));const n=t.getDate(),r=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()],i=t.getFullYear();return"".concat(n," de ").concat(r," del ").concat(i)}const T=e=>a(c(c({},i),{},{[e.target.name]:e.target.value})),C=["Todas",...Array.from(new Set(m.map(e=>(e.status||e.estado||"").toUpperCase()).filter(Boolean)))],I=["Todas",...Array.from(new Set(m.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()).map(e=>(e.status||e.estado||"").toUpperCase()).filter(Boolean)))],N=["PENDIENTE PAGO","PAGO RECIBIDO","EMPACADO","ENVIADO","ENTREGADO"],A=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const r=Au(Zh,"HISTORIAL",e._usuario),i=await Sd(r);let a={["".concat(e.id,".status")]:t};void 0!==n.diagnostico&&(a["".concat(e.id,".diagnostico")]=n.diagnostico),void 0!==n.precio&&(a["".concat(e.id,".precio")]=n.precio),void 0!==n.fechaDiagnostico&&(a["".concat(e.id,".fechaDiagnostico")]=n.fechaDiagnostico),void 0!==n.observaciones&&(a["".concat(e.id,".observaciones")]=n.observaciones),void 0!==n.fechaReparacion&&(a["".concat(e.id,".fechaReparacion")]=n.fechaReparacion),void 0!==n.fechaEntregado&&(a["".concat(e.id,".fechaEntregado")]=n.fechaEntregado),i.exists()?await Td(r,a):await kd(r,{[e.id]:c(c({},e),{},{status:t},n)}),av.success("Estado actualizado correctamente")}catch(r){av.error("Error al actualizar el estado: "+r.message)}};return(0,Tg.jsxs)("div",{className:"homepage-technical-container",children:[e&&(0,Tg.jsx)("div",{className:"homepage-technical-overlay",onClick:()=>t(!1)}),(0,Tg.jsxs)("aside",{className:"homepage-technical-sidebar".concat(e?" expanded":""),onMouseEnter:()=>{n.current=setTimeout(()=>{t(!0)},1e3)},onMouseLeave:()=>{clearTimeout(n.current),t(!1)},style:{zIndex:1200,boxShadow:e?"2px 0 16px rgba(0,0,0,0.10)":"2px 0 10px rgba(0,0,0,0.05)"},children:[(0,Tg.jsxs)("h2",{className:"homepage-technical-title",children:[(0,Tg.jsx)("span",{className:"homepage-technical-nav-icon","aria-label":"Panel",children:"\ud83d\udee0\ufe0f"}),(0,Tg.jsx)("span",{className:"homepage-technical-title-text",children:"Panel T\xe9cnico"})]}),(0,Tg.jsx)("nav",{className:"homepage-technical-nav",children:(0,Tg.jsxs)("ul",{children:[(0,Tg.jsxs)("li",{onClick:()=>p("carritos"),style:{background:"carritos"===f?"rgba(255,255,255,0.12)":"transparent",borderRadius:8,position:"relative"},children:[(0,Tg.jsxs)("span",{className:"homepage-technical-nav-icon","aria-label":"Historial",style:{position:"relative",display:"inline-block"},children:["\ud83d\udcdc",m.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()&&"ENTREGADO"!==(e.status||e.estado||"").toUpperCase()).length>0&&(0,Tg.jsx)("span",{style:{position:"absolute",top:-6,right:-10,background:"#e11d48",color:"#fff",borderRadius:"50%",fontSize:"0.75em",minWidth:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 5px",fontWeight:700,border:"2px solid #fff",boxSizing:"border-box",zIndex:2},children:m.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()&&"ENTREGADO"!==(e.status||e.estado||"").toUpperCase()).length})]}),(0,Tg.jsx)("span",{className:"homepage-technical-nav-text",children:"Carritos Pendientes"})]}),(0,Tg.jsxs)("li",{onClick:()=>p("tickets"),style:{background:"tickets"===f?"rgba(255,255,255,0.12)":"transparent",borderRadius:8,position:"relative"},children:[(0,Tg.jsxs)("span",{className:"homepage-technical-nav-icon","aria-label":"Tickets",style:{position:"relative",display:"inline-block"},children:["\ud83c\udfab",m.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()&&"ENTREGADO"!==(e.status||e.estado||"").toUpperCase()).length>0&&(0,Tg.jsx)("span",{style:{position:"absolute",top:-6,right:-10,background:"#e11d48",color:"#fff",borderRadius:"50%",fontSize:"0.75em",minWidth:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",padding:"0 5px",fontWeight:700,border:"2px solid #fff",boxSizing:"border-box",zIndex:2},children:m.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()&&"ENTREGADO"!==(e.status||e.estado||"").toUpperCase()).length})]}),(0,Tg.jsx)("span",{className:"homepage-technical-nav-text",children:"Tickets asignados"})]}),(0,Tg.jsxs)("li",{onClick:()=>p("perfil"),style:{background:"perfil"===f?"rgba(255,255,255,0.12)":"transparent",borderRadius:8},children:[(0,Tg.jsx)("span",{className:"homepage-technical-nav-icon","aria-label":"Perfil",children:"\ud83d\udc64"}),(0,Tg.jsx)("span",{className:"homepage-technical-nav-text",children:"Perfil"})]})]})}),(0,Tg.jsxs)("button",{className:"homepage-technical-logout",onClick:async()=>{const e=xg();await rm(e),localStorage.clear(),sessionStorage.clear(),window.location.reload()},style:{position:"relative"},children:[(0,Tg.jsx)("span",{className:"homepage-technical-nav-icon","aria-label":"Salir",children:"\ud83d\udeaa"}),(0,Tg.jsx)("span",{className:"homepage-technical-logout-text",children:"Cerrar sesi\xf3n"})]})]}),(0,Tg.jsxs)("main",{className:"homepage-technical-main".concat(e?" sidebar-expanded":""),children:[(0,Tg.jsxs)("header",{className:"homepage-technical-header",children:[(0,Tg.jsxs)("h1",{children:["\xa1Bienvenido, ",(O=i.name,(O?O.split(" ")[0]:"")||"T\xe9cnico"),"!"]}),(0,Tg.jsx)("p",{children:"Aqu\xed puedes gestionar tus tickets, ver tu historial y actualizar tu perfil."})]}),"tickets"===f&&(0,Tg.jsxs)("section",{className:"homepage-technical-section homepage-technical-tickets",children:[(0,Tg.jsx)("h2",{children:"Tickets asignados"}),(0,Tg.jsx)("div",{style:{display:"flex",gap:"0.7em",marginBottom:"1em",flexWrap:"wrap"},children:I.map(e=>(0,Tg.jsx)("button",{style:{padding:"0.4em 1.1em",borderRadius:18,border:E===e?"2px solid #2563eb":"1px solid #e5e7eb",background:E===e?"#2563eb":"#f3f3f3",color:E===e?"#fff":"#222",fontWeight:E===e?700:500,fontSize:"1em",cursor:"pointer",outline:"none"},onClick:()=>S(e),children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},e))}),(0,Tg.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:m.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()).filter(e=>{if("Todas"===E)return!0;return(e.status||e.estado||"").toUpperCase()===E.toUpperCase()}).map(e=>{const t=v[e.id]||{},n=b===e.id;return(0,Tg.jsxs)("li",{style:{border:"1px solid #eee",borderRadius:10,marginBottom:18,padding:"1em",background:"#f8fafc",boxShadow:"0 1px 4px rgba(0,0,0,0.04)",cursor:"pointer",transition:"box-shadow 0.2s"},onClick:t=>{"SELECT"===t.target.tagName||t.target.closest("select")||w(n?null:e.id)},children:[(0,Tg.jsxs)("div",{style:{fontWeight:600,color:"#222",fontSize:"1.05em",display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Ticket #",e.id,(0,Tg.jsx)("span",{style:{marginLeft:10,fontSize:"1.2em",transform:n?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"\u25b6"})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Estado:"})," ",(0,Tg.jsx)("span",{style:{color:"pendiente"===(e.status||e.estado)||"PENDIENTE"===(e.status||e.estado)?"#e67e22":"completado"===(e.status||e.estado)||"COMPLETADO"===(e.status||e.estado)?"#27ae60":"cancelado"===(e.status||e.estado)||"CANCELADO"===(e.status||e.estado)?"#e74c3c":"#007bff",fontWeight:500},children:e.status||e.estado||"Desconocido"})]}),n&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{style:{margin:"10px 0 10px 0"},children:[(0,Tg.jsx)("strong",{children:"Cliente:"})," ",t.name," ",t.lastName," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Email:"})," ",t.email," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",t.telefono," ",(0,Tg.jsx)("br",{}),t.direccion&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsx)("strong",{children:"Direcci\xf3n:"})," ",t.direccion," ",(0,Tg.jsx)("br",{})]})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Tipo:"})," ",e.type||"N/A"]}),e.dispositivo&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Dispositivo:"})," ",e.dispositivo.marca," ",e.dispositivo.modelo," ",e.dispositivo.serie]}),e.problema&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Problema:"})," ",e.problema]}),e.como&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"\xbfC\xf3mo sucedi\xf3?:"})," ",e.como]}),e.createdAt&&(0,Tg.jsxs)("div",{className:"detalle-fecha",children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Fecha de creaci\xf3n:"})," ",k(e.createdAt)]}),e.fechadelacita&&(0,Tg.jsxs)("div",{className:"detalle-fecha-cita",children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Fecha de la cita:"})," ",k(e.fechadelacita)]}),(e.diagnostico||e.fechaDiagnostico||e.fechaReparacion||e.fechaEntregado)&&(0,Tg.jsxs)("div",{className:"detalle-mantenimiento-bloque",children:[e.fechaDiagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Fecha diagn\xf3stico:"})," ",(()=>{const t=new Date(e.fechaDiagnostico);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.diagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Diagn\xf3stico:"})," ",e.diagnostico]}),e.precio&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Precio:"})," ",e.precio?"$".concat(Number(e.precio).toLocaleString("es-CO")):"N/A"]}),e.fechaReparacion&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Fecha reparaci\xf3n:"})," ",(()=>{const t=new Date(e.fechaReparacion);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.observaciones&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Pruebas de rendimiento / Observaciones:"})," ",e.observaciones]}),e.fechaEntregado&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("span",{className:"detalle-label",children:"Fecha entregado:"})," ",(()=>{const t=new Date(e.fechaEntregado);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]})]}),"ENTREGADO"!==(e.status||e.estado)&&"entregado"!==(e.status||e.estado)&&(0,Tg.jsx)(Nv,{carrito:e,onEstadoChange:A})]})]},"".concat(e._usuario||"unknown","_").concat(e.id))})})]}),"carritos"===f&&(0,Tg.jsxs)("section",{className:"homepage-technical-section homepage-technical-carritos",children:[(0,Tg.jsx)("h2",{children:"Carritos Pendientes"}),(0,Tg.jsx)("div",{style:{display:"flex",gap:"0.7em",marginBottom:"1em",flexWrap:"wrap"},children:C.map(e=>(0,Tg.jsx)("button",{style:{padding:"0.4em 1.1em",borderRadius:18,border:E===e?"2px solid #2563eb":"1px solid #e5e7eb",background:E===e?"#2563eb":"#f3f3f3",color:E===e?"#fff":"#222",fontWeight:E===e?700:500,fontSize:"1em",cursor:"pointer",outline:"none"},onClick:()=>S(e),children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},e))}),0===m.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()).filter(e=>{if("Todas"===E)return!0;return(e.status||e.estado||"").toUpperCase()===E.toUpperCase()}).length?(0,Tg.jsx)("div",{style:{color:"#888",fontSize:"0.98em"},children:"No hay carritos pendientes."}):(0,Tg.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:m.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()).filter(e=>{if("Todas"===E)return!0;return(e.status||e.estado||"").toUpperCase()===E.toUpperCase()}).map(e=>{var t,n,r,a;const o=v[e.id]||{},s=b===e.id;return(0,Tg.jsxs)("li",{style:{border:"1px solid #eee",borderRadius:10,marginBottom:18,padding:"1em",background:"#f8fafc",boxShadow:"0 1px 4px rgba(0,0,0,0.04)",cursor:"pointer",transition:"box-shadow 0.2s"},onClick:t=>{"SELECT"===t.target.tagName||t.target.closest("select")||w(s?null:e.id)},children:[(0,Tg.jsxs)("div",{style:{fontWeight:600,color:"#222",fontSize:"1.05em",display:"flex",alignItems:"center",justifyContent:"space-between"},children:["Carrito #",e.id,(0,Tg.jsx)("span",{style:{marginLeft:10,fontSize:"1.2em",transform:s?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.2s"},children:"\u25b6"})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Estado:"})," ",(0,Tg.jsx)("span",{style:{color:"pendiente"===(e.status||e.estado)||"PENDIENTE"===(e.status||e.estado)?"#e67e22":"completado"===(e.status||e.estado)||"COMPLETADO"===(e.status||e.estado)?"#27ae60":"cancelado"===(e.status||e.estado)||"CANCELADO"===(e.status||e.estado)?"#e74c3c":"#007bff",fontWeight:500},children:e.status||e.estado||"Desconocido"})]}),s&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{style:{margin:"10px 0 10px 0"},children:[(0,Tg.jsx)("strong",{children:"Cliente:"})," ",o.name," ",o.lastName," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Email:"})," ",o.email," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",o.telefono," ",(0,Tg.jsx)("br",{}),o.direccion&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsx)("strong",{children:"Direcci\xf3n:"})," ",o.direccion," ",(0,Tg.jsx)("br",{})]}),(0,Tg.jsx)("button",{style:{marginTop:8,background:"#25d366",color:"#fff",border:"none",borderRadius:8,padding:"0.4em 1.2em",fontWeight:600,fontSize:"1em",cursor:"pointer"},onClick:t=>{t.stopPropagation(),((e,t)=>{var n,r,a,o;const s=Array.isArray(e.items)?e.items.map(e=>{var t,n,r,i;return"\u2022 ".concat(e.name||"Producto"," x").concat(e.cantidad||1," \u2013 $").concat(null!==(t=null!==(n=null===(r=e.price)||void 0===r||null===(i=r.toLocaleString)||void 0===i?void 0:i.call(r))&&void 0!==n?n:e.price)&&void 0!==t?t:0)}).join("\n"):"Sin productos",l=e.createdAt?k(e.createdAt):"",c="\n  Hola ".concat(t.name||""," \ud83d\udc4b\ud83c\udffb\nSoy ").concat(i.name||"el equipo Pelktech",". Te escribo para confirmarte que recibimos tu pedido \ud83d\uded2 (#").concat(e.id,") realizado el ").concat(l,".\n\n  \ud83d\udce6 Producto(s) solicitado(s):\n  ").concat(s,"\n  \ud83d\udcb0 Total: $").concat(null!==(n=null!==(r=null===(a=e.total)||void 0===a||null===(o=a.toLocaleString)||void 0===o?void 0:o.call(a))&&void 0!==r?r:e.total)&&void 0!==n?n:"N/A","\n  \ud83d\udccc Estado: ").concat(e.status||e.estado||"Desconocido","\n\n  En cuanto est\xe9 listo para env\xedo o entrega, te estaremos avisando. Si necesitas hacer alg\xfan cambio o tienes dudas, con gusto estoy atento por aqu\xed \ud83d\ude0a\n\n  \xa1Gracias por confiar en Pelktech!\n    ").trim();if(navigator.clipboard)navigator.clipboard.writeText(c);else{const e=document.createElement("textarea");e.value=c,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}if(t.telefono){const e=t.telefono.replace(/\D/g,"");window.open("https://wa.me/".concat(e),"_blank")}else alert("El cliente no tiene n\xfamero de tel\xe9fono registrado.")})(e,o)},children:"Hablar con cliente"})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Productos:"}),(0,Tg.jsx)("ul",{style:{margin:0,paddingLeft:"1.2em"},children:Array.isArray(e.items)&&e.items.length>0?e.items.map((e,t)=>{var n,r,i,a;return(0,Tg.jsxs)("li",{style:{display:"flex",alignItems:"center",marginBottom:6},children:[e.url&&(0,Tg.jsx)("img",{src:e.url,alt:e.name,style:{width:44,height:44,objectFit:"cover",borderRadius:8,marginRight:10,background:"#f3f3f3",border:"1px solid #eee"}}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("div",{style:{fontWeight:500},children:e.name||"Producto"}),(0,Tg.jsxs)("div",{style:{fontSize:"0.97em",color:"#555"},children:["Cantidad: ",e.cantidad||1," \xa0|\xa0 Precio: $",null!==(n=null!==(r=null===(i=e.price)||void 0===i||null===(a=i.toLocaleString)||void 0===a?void 0:a.call(i))&&void 0!==r?r:e.price)&&void 0!==n?n:0]})]})]},t)}):(0,Tg.jsx)("li",{style:{color:"#888"},children:"Sin productos"})})]}),(0,Tg.jsxs)("div",{style:{marginTop:10},children:[(0,Tg.jsx)("strong",{children:"Total:"})," $",null!==(t=null!==(n=null===(r=e.total)||void 0===r||null===(a=r.toLocaleString)||void 0===a?void 0:a.call(r))&&void 0!==n?n:e.total)&&void 0!==t?t:"N/A"]}),e.createdAt&&(0,Tg.jsxs)("div",{style:{color:"#888",fontSize:"0.95em",marginTop:"0.3em"},children:[(0,Tg.jsx)("strong",{children:"Fecha:"})," ",k(e.createdAt)]}),(0,Tg.jsx)("div",{style:{margin:"10px 0 10px 0"},children:(0,Tg.jsxs)("label",{children:[(0,Tg.jsx)("strong",{children:"Cambiar estado:\xa0"}),(0,Tg.jsxs)("select",{value:e.status||e.estado||"",onChange:t=>{t.stopPropagation(),A(e,t.target.value)},style:{padding:"0.4em 1em",borderRadius:8,border:"1px solid #ccc",fontSize:"1em",marginLeft:8},onClick:e=>e.stopPropagation(),children:[(0,Tg.jsx)("option",{value:"",children:"Selecciona estado"}),N.map(e=>(0,Tg.jsx)("option",{value:e,children:e},e))]})]})})]})]},"".concat(e._usuario||"unknown","_").concat(e.id))})})]}),"perfil"===f&&(0,Tg.jsxs)("section",{className:"homepage-technical-section homepage-technical-profile",style:{cursor:"pointer",transition:"all 0.2s",minHeight:d?0:void 0,overflow:d?"hidden":void 0,padding:d?"1.2em 1em":void 0},onClick:()=>h(!d),children:[(0,Tg.jsx)("h2",{children:"Mi perfil"}),!d&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("p",{children:[(0,Tg.jsx)("strong",{children:"Nombre:"})," ",i.name]}),(0,Tg.jsxs)("p",{children:[(0,Tg.jsx)("strong",{children:"Correo:"})," ",i.email]}),(0,Tg.jsxs)("p",{children:[(0,Tg.jsx)("strong",{children:"Rol:"})," ",i.rol]}),(0,Tg.jsxs)("p",{children:[(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",i.telefono]}),(0,Tg.jsxs)("p",{children:[(0,Tg.jsx)("strong",{children:"Fecha de Vinculaci\xf3n:"})," ",o?k(o):"N/A"]}),(0,Tg.jsx)("button",{className:"homepage-technical-edit-profile",onClick:e=>{e.stopPropagation(),u(!0)},children:"Editar perfil"})]})]}),l&&(0,Tg.jsx)("div",{className:"agregar-dispositivo-overlay",style:{zIndex:2e3},onClick:e=>{e.target.classList.contains("agregar-dispositivo-overlay")&&u(!1)},children:(0,Tg.jsxs)("div",{className:"myprofile-modal myprofile-edit-modal",style:{maxWidth:420,margin:"auto",height:"auto",minHeight:"unset",borderRadius:18,boxShadow:"0 8px 32px rgba(0,0,0,0.18)",background:"#fff",display:"flex",flexDirection:"column",padding:"0 1.5rem 1.5rem 1.5rem"},onClick:e=>e.stopPropagation(),children:[(0,Tg.jsxs)("div",{className:"myprofile-modal-header",style:{borderRadius:"18px 18px 0 0",paddingBottom:0},children:[(0,Tg.jsx)("span",{className:"myprofile-title",style:{fontSize:"1.25rem"},children:"Editar informaci\xf3n"}),(0,Tg.jsx)("button",{className:"myprofile-close-btn",onClick:()=>u(!1),style:{background:"none",color:"#888",fontSize:"1.5rem"},children:"\xd7"})]}),(0,Tg.jsxs)("form",{className:"myprofile-edit-form",style:{marginTop:"1.2rem",marginBottom:0,gap:"0.8rem"},onSubmit:e=>{e.preventDefault(),(async()=>{try{const e=Au(Zh,"EMPLEADOS",i.email),t=await Sd(e);let n={name:i.name,email:i.email,rol:i.rol,telefono:i.telefono};t.exists()&&t.data().timestamp||(n.timestamp=Ad()),await Td(e,n),u(!1)}catch(e){alert("Error al actualizar los datos")}})()},children:[(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Nombre:"}),(0,Tg.jsx)("input",{name:"name",value:i.name,onChange:T,autoFocus:!0})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Email:"}),(0,Tg.jsx)("input",{name:"email",value:i.email,readOnly:!0,style:{background:"#f3f3f3",color:"#888",cursor:"not-allowed"},tabIndex:-1})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Rol:"}),(0,Tg.jsx)("input",{name:"rol",value:i.rol,readOnly:!0,style:{background:"#f3f3f3",color:"#888",cursor:"not-allowed"},tabIndex:-1})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("label",{children:"Tel\xe9fono:"}),(0,Tg.jsx)("input",{name:"telefono",value:i.telefono,onChange:T})]}),(0,Tg.jsxs)("div",{style:{display:"flex",gap:"0.7rem",marginTop:"0.7rem",justifyContent:"flex-end"},children:[(0,Tg.jsx)("button",{type:"submit",className:"myprofile-action-btn",style:{minWidth:110,fontWeight:600,fontSize:"1rem",borderRadius:8},children:"Guardar"}),(0,Tg.jsx)("button",{type:"button",className:"myprofile-action-btn",style:{background:"#f3f3f3",color:"#2563eb",border:"1px solid #e5e7eb",minWidth:110,fontWeight:500,fontSize:"1rem",borderRadius:8},onClick:()=>u(!1),children:"Cancelar"})]})]})]})}),(0,Tg.jsx)(mv,{position:"bottom-right",autoClose:2500,hideProgressBar:!0})]})]});var O}const Iv=["DIAGNOSTICO Y COSTO DE REPARACION","ESPERANDO CONFIRMACION DEL CLIENTE","CONFIRMACION DEL CLIENTE","REPARACION","PRUEBAS DE RENDIMIENTO","ENTREGADO"];function Nv(e){let{carrito:t,onEstadoChange:n}=e;const[i,a]=r.useState(t.diagnostico||""),[o,s]=r.useState(t.precio||""),[l,c]=r.useState(t.observaciones||""),[u,d]=r.useState(t.status||t.estado||""),[h,f]=r.useState(!1),[p,m]=r.useState(t.fechaDiagnostico||""),[g,v]=r.useState(t.fechaReparacion||""),[y,b]=r.useState(t.fechaEntregado||"");r.useEffect(()=>{a(t.diagnostico||""),s(t.precio||""),c(t.observaciones||""),d(t.status||t.estado||""),m(t.fechaDiagnostico||""),v(t.fechaReparacion||""),b(t.fechaEntregado||"")},[t]);return(0,Tg.jsxs)("div",{style:{margin:"10px 0 10px 0"},children:[(0,Tg.jsxs)("label",{children:[(0,Tg.jsx)("strong",{children:"Cambiar estado:\xa0"}),(0,Tg.jsxs)("select",{value:u,onChange:e=>(async e=>{if("DIAGNOSTICO Y COSTO DE REPARACION"===e)return void d(e);d(e);let r={};if("PRUEBAS DE RENDIMIENTO"===e&&(r={observaciones:l}),"REPARACION"===e){const e=(new Date).toISOString();r={fechaReparacion:e},v(e)}if("ENTREGADO"===e){const e=(new Date).toISOString();r={fechaEntregado:e},b(e)}await n(t,e,r)})(e.target.value),style:{padding:"0.4em 1em",borderRadius:8,border:"1px solid #ccc",fontSize:"1em",marginLeft:8},onClick:e=>e.stopPropagation(),children:[(0,Tg.jsx)("option",{value:"",children:"Selecciona estado"}),Iv.map(e=>(0,Tg.jsx)("option",{value:e,children:e},e))]})]}),"DIAGNOSTICO Y COSTO DE REPARACION"===u&&(0,Tg.jsxs)("div",{style:{marginTop:10},children:[(0,Tg.jsx)("div",{children:(0,Tg.jsxs)("label",{children:["Diagn\xf3stico:",(0,Tg.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),style:{marginLeft:8,width:"70%"},onClick:e=>e.stopPropagation()})]})}),(0,Tg.jsx)("div",{children:(0,Tg.jsxs)("label",{children:["Precio:",(0,Tg.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",value:(e=>{if(""===e||null===e||void 0===e)return"";const t=Number(e);return isNaN(t)?"":"$"+t.toLocaleString("es-CO")})(o),onChange:e=>{const t=e.target.value.replace(/[^\d]/g,"");s(t?Number(t):"")},style:{marginLeft:8,width:120},onClick:e=>e.stopPropagation(),placeholder:"$0",autoComplete:"off"})]})}),(0,Tg.jsx)("button",{style:{marginTop:8,background:"#2563eb",color:"#fff",border:"none",borderRadius:8,padding:"0.4em 1.2em",fontWeight:600,fontSize:"1em",cursor:"pointer"},onClick:async e=>{e.stopPropagation(),i&&o?(f(!0),await n(t,"DIAGNOSTICO Y COSTO DE REPARACION",{diagnostico:i,precio:Number(o),fechaDiagnostico:(new Date).toISOString()}),d("DIAGNOSTICO Y COSTO DE REPARACION"),m((new Date).toISOString()),f(!1)):av.error("Debes ingresar diagn\xf3stico y precio")},disabled:h,children:"Guardar diagn\xf3stico y precio"})]}),"PRUEBAS DE RENDIMIENTO"===u&&(0,Tg.jsxs)("div",{style:{marginTop:10},children:[(0,Tg.jsxs)("label",{children:["Observaciones:",(0,Tg.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),style:{marginLeft:8,width:"70%"},onClick:e=>e.stopPropagation()})]}),(0,Tg.jsx)("button",{style:{marginTop:8,background:"#2563eb",color:"#fff",border:"none",borderRadius:8,padding:"0.4em 1.2em",fontWeight:600,fontSize:"1em",cursor:"pointer"},onClick:async e=>{e.stopPropagation(),await n(t,"PRUEBAS DE RENDIMIENTO",{observaciones:l})},children:"Guardar observaciones"})]})]})}const Av={name:"",description:"",category:"",price:"",stock:"",url:""};function Ov(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,o]=(0,r.useState)(Av),[s,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(Av),[p,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{const e=Nu(Lu(),"PRODUCTOS"),n=(await xd(e)).docs.map(e=>c({id:e.id},e.data()));t(n)})()},[]);return(0,Tg.jsxs)("div",{className:"productos-admin-container",children:[(0,Tg.jsxs)("div",{className:"productos-admin-header",children:[(0,Tg.jsx)("h2",{children:"Productos"}),(0,Tg.jsxs)("button",{className:"productos-admin-add-btn",onClick:()=>i(!0),children:[(0,Tg.jsx)(I,{})," Agregar producto"]})]}),(0,Tg.jsx)("div",{className:"productos-admin-grid",children:e.map((e,t)=>{var n,r,i;return(0,Tg.jsxs)("div",{className:"productos-admin-card",children:[e.url&&(0,Tg.jsx)("img",{src:e.url,alt:e.name,className:"productos-admin-img"}),(0,Tg.jsxs)("div",{className:"productos-admin-info",children:[(0,Tg.jsx)("div",{className:"productos-admin-name",children:e.name}),(0,Tg.jsx)("div",{className:"productos-admin-category",children:e.category}),(0,Tg.jsx)("div",{className:"productos-admin-description",children:e.description}),(0,Tg.jsxs)("div",{className:"productos-admin-meta",children:[(0,Tg.jsxs)("span",{className:"productos-admin-price",children:["$",null!==(n=null===(r=e.price)||void 0===r||null===(i=r.toLocaleString)||void 0===i?void 0:i.call(r))&&void 0!==n?n:e.price]}),(0,Tg.jsxs)("span",{className:"productos-admin-stock",children:["Stock: ",e.stock]})]}),(0,Tg.jsxs)("button",{className:"productos-admin-edit-btn",onClick:()=>{d(t),f(e)},children:[(0,Tg.jsx)(C,{})," Editar producto"]})]})]},e.id)})}),n&&(0,Tg.jsx)("div",{className:"productos-admin-modal-overlay",onClick:e=>{e.target.classList.contains("productos-admin-modal-overlay")&&i(!1)},children:(0,Tg.jsxs)("form",{className:"productos-admin-modal",onClick:e=>e.stopPropagation(),onSubmit:async n=>{n.preventDefault();const{name:r,description:s,category:u,price:d,stock:h}=a;if(r&&s&&u&&d&&h){l(!0);try{const n=Lu();let r=0;e.forEach(e=>{const t=Number(e.id);!isNaN(t)&&t>r&&(r=t)});const s=String(r+1).padStart(13,"0");await kd(Au(n,"PRODUCTOS",s),c(c({},a),{},{price:Number(d),stock:Number(h),id:s})),t(e=>[...e,c(c({},a),{},{price:Number(d),stock:Number(h),id:s})]),i(!1),o(Av)}catch(f){alert("Error al agregar producto")}l(!1)}else alert("Todos los campos son obligatorios excepto la URL.")},children:[(0,Tg.jsx)("h3",{children:"Agregar producto"}),(0,Tg.jsxs)("label",{children:["Nombre*:",(0,Tg.jsx)("input",{value:a.name,onChange:e=>o(t=>c(c({},t),{},{name:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Descripci\xf3n*:",(0,Tg.jsx)("input",{value:a.description,onChange:e=>o(t=>c(c({},t),{},{description:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Categor\xeda*:",(0,Tg.jsx)("input",{value:a.category,onChange:e=>o(t=>c(c({},t),{},{category:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Precio*:",(0,Tg.jsx)("input",{type:"number",value:a.price,onChange:e=>o(t=>c(c({},t),{},{price:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Stock*:",(0,Tg.jsx)("input",{type:"number",value:a.stock,onChange:e=>o(t=>c(c({},t),{},{stock:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["URL imagen:",(0,Tg.jsx)("input",{value:a.url,onChange:e=>o(t=>c(c({},t),{},{url:e.target.value}))})]}),(0,Tg.jsxs)("div",{className:"productos-admin-modal-btns",children:[(0,Tg.jsx)("button",{type:"submit",disabled:s,children:s?"Agregando...":"Agregar"}),(0,Tg.jsx)("button",{type:"button",onClick:()=>i(!1),children:"Cancelar"})]})]})}),null!==u&&(0,Tg.jsx)("div",{className:"productos-admin-modal-overlay",onClick:e=>{e.target.classList.contains("productos-admin-modal-overlay")&&d(null)},children:(0,Tg.jsxs)("form",{className:"productos-admin-modal",onClick:e=>e.stopPropagation(),onSubmit:async e=>{e.preventDefault();const{name:n,description:r,category:i,price:a,stock:o}=h;if(n&&r&&i&&a&&o){m(!0);try{const e=Lu();await Td(Au(e,"PRODUCTOS",h.id),c(c({},h),{},{price:Number(a),stock:Number(o)})),t(e=>e.map((e,t)=>t===u?c(c({},h),{},{price:Number(a),stock:Number(o)}):e)),d(null),f(Av)}catch(s){alert("Error al editar producto")}m(!1)}else alert("Todos los campos son obligatorios excepto la URL.")},children:[(0,Tg.jsx)("h3",{children:"Editar producto"}),(0,Tg.jsxs)("label",{children:["Nombre*:",(0,Tg.jsx)("input",{value:h.name,onChange:e=>f(t=>c(c({},t),{},{name:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Descripci\xf3n*:",(0,Tg.jsx)("input",{value:h.description,onChange:e=>f(t=>c(c({},t),{},{description:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Categor\xeda*:",(0,Tg.jsx)("input",{value:h.category,onChange:e=>f(t=>c(c({},t),{},{category:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Precio*:",(0,Tg.jsx)("input",{type:"number",value:h.price,onChange:e=>f(t=>c(c({},t),{},{price:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["Stock*:",(0,Tg.jsx)("input",{type:"number",value:h.stock,onChange:e=>f(t=>c(c({},t),{},{stock:e.target.value})),required:!0})]}),(0,Tg.jsxs)("label",{children:["URL imagen:",(0,Tg.jsx)("input",{value:h.url,onChange:e=>f(t=>c(c({},t),{},{url:e.target.value}))})]}),(0,Tg.jsxs)("div",{className:"productos-admin-modal-btns",children:[(0,Tg.jsx)("button",{type:"submit",disabled:p,children:p?"Guardando...":"Guardar"}),(0,Tg.jsx)("button",{type:"button",onClick:()=>d(null),children:"Cancelar"})]})]})})]})}function Pv(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)("ventas"),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)({name:"",email:"",rol:"",telefono:""}),[y,b]=(0,r.useState)(!1),[w,E]=(0,r.useState)([]),[S,_]=(0,r.useState)({}),[x,k]=(0,r.useState)("Todas"),[C,I]=(0,r.useState)("Todas"),[N,A]=(0,r.useState)(null),[O,P]=(0,r.useState)(null),[D,R]=(0,r.useState)({correo:"",facebook:"",twitter:"",instagram:"",whatsapp:""}),[j,L]=(0,r.useState)(!1),[M,F]=(0,r.useState)(!1),[z,U]=(0,r.useState)(!1),V=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=xg().onAuthStateChanged(async e=>{if(e&&e.email){const t=Au(Zh,"EMPLEADOS",e.email),n=await Sd(t);n.exists()?f(n.data().name||""):f("")}});return()=>e()},[]);(0,r.useEffect)(()=>{"empleados"===n&&(l(!0),async function(){try{const e=Nu(Zh,"EMPLEADOS"),t=await xd(e),n=[];t.forEach(e=>{n.push(c({id:e.id},e.data()))}),o(n)}catch(e){alert("Error al cargar empleados: "+e.message)}l(!1)}())},[n]);const B=async e=>{var t;if(window.confirm("\xbfSeguro que deseas borrar a ".concat(e.name,"?")))try{await(t=Au(Zh,"EMPLEADOS",e.email),Id(wu(t.firestore,ju),[new ho(t._key,Ja.none())])),o(t=>t.filter(t=>t.email!==e.email))}catch(n){alert("Error al borrar empleado: "+n.message)}};function H(e){if(!e)return"N/A";if("string"===typeof e&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[t,n,r]=e.split("-"),i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return"".concat(parseInt(r,10)," de ").concat(i[parseInt(n,10)-1]," del ").concat(t)}let t=e.toDate?e.toDate():e;t instanceof Date||(t=new Date(t));const n=t.getDate(),r=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()],i=t.getFullYear();return"".concat(n," de ").concat(r," del ").concat(i)}function q(e){if(!e)return"N/A";if("string"===typeof e)return e;if(e.toDate){const t=e.toDate();return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear(),", ").concat(t.toLocaleTimeString("es-CO"))}return e instanceof Date?"".concat(e.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][e.getMonth()]," del ").concat(e.getFullYear(),", ").concat(e.toLocaleTimeString("es-CO")):String(e)}(0,r.useEffect)(()=>{if("ventas"!==n&&"servicios"!==n)return;(async()=>{try{const e=Nu(Zh,"HISTORIAL"),t=await xd(e);let n=[];t.forEach(e=>{const t=e.data(),r=Object.entries(t).filter(e=>{let[t,n]=e;return"object"===typeof n&&null!==n&&!Array.isArray(n)}).map(t=>{let[n,r]=t;return c(c({id:n},r),{},{_usuario:e.id})});n=n.concat(r)}),E(n)}catch(e){alert("Error al cargar ventas/servicios: "+e.message)}})()},[n]),(0,r.useEffect)(()=>{("ventas"===n||"servicios"===n)&&w.length>0&&async function(){const e={};for(const c of w){var t,n,r,i,a,o,s;if(S[c.id])continue;if(!c.email)continue;let u=null;try{const e=Au(Zh,"CLIENTES",c.email),t=await Sd(e);t.exists()&&(u=t.data())}catch(l){}e[c.id]={name:(null===(t=u)||void 0===t?void 0:t.name)||(null===(n=u)||void 0===n?void 0:n.nombre)||"",lastName:(null===(r=u)||void 0===r?void 0:r.lastName)||(null===(i=u)||void 0===i?void 0:i.apellido)||"",email:(null===(a=u)||void 0===a?void 0:a.email)||c.email,telefono:(null===(o=u)||void 0===o?void 0:o.telefono)||"",direccion:(null===(s=u)||void 0===s?void 0:s.direccion)||""}}Object.keys(e).length>0&&_(t=>c(c({},t),e))}()},[w,n]);const W=["Todas",...Array.from(new Set(w.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()).map(e=>(e.status||e.estado||"").toUpperCase()).filter(Boolean)))],K=["Todas",...Array.from(new Set(w.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()).map(e=>(e.status||e.estado||"").toUpperCase()).filter(Boolean)))],G=w.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()).filter(e=>"PENDIENTE PAGO"!==(e.status||e.estado||"").toUpperCase()).reduce((e,t)=>e+(Number(t.total)||0),0),Q=w.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()).filter(e=>{const t=(e.status||e.estado||"").toUpperCase();return"REPARACION"===t||"PRUEBAS DE RENDIMIENTO"===t||"ENTREGADO"===t}).reduce((e,t)=>e+(Number(t.precio)||0),0);(0,r.useEffect)(()=>{"info"===n&&(L(!0),async function(){try{const e=Au(Zh,"REDES","REDESSOCIALES"),t=await Sd(e);t.exists()?R(t.data()):R({correo:"",facebook:"",twitter:"",instagram:"",whatsapp:""})}catch(e){R({correo:"",facebook:"",twitter:"",instagram:"",whatsapp:""})}L(!1)}())},[n]);return(0,Tg.jsxs)("div",{className:"homepage-admin-container",children:[e&&(0,Tg.jsx)("div",{className:"homepage-admin-overlay",onClick:()=>t(!1)}),(0,Tg.jsxs)("aside",{className:"homepage-admin-comobar".concat(e?" expanded":""),onMouseEnter:()=>{V.current=setTimeout(()=>{t(!0)},1e3)},onMouseLeave:()=>{clearTimeout(V.current),t(!1)},children:[(0,Tg.jsxs)("h2",{className:"homepage-admin-title",children:[(0,Tg.jsx)("span",{className:"homepage-admin-nav-icon","aria-label":"Panel",children:"\ud83d\udee1\ufe0f"}),(0,Tg.jsx)("span",{className:"homepage-admin-title-text",children:"Panel Admin"})]}),(0,Tg.jsx)("nav",{className:"homepage-admin-nav",children:(0,Tg.jsxs)("ul",{children:[(0,Tg.jsxs)("li",{onClick:()=>i("ventas"),className:"ventas"===n?"homepage-admin-nav-li selected":"homepage-admin-nav-li",children:[(0,Tg.jsx)("span",{className:"homepage-admin-nav-icon","aria-label":"Ventas",children:"\ud83d\udcb0"}),(0,Tg.jsx)("span",{className:"homepage-admin-nav-text",children:"Ventas"})]}),(0,Tg.jsxs)("li",{onClick:()=>i("servicios"),className:"servicios"===n?"homepage-admin-nav-li selected":"homepage-admin-nav-li",children:[(0,Tg.jsx)("span",{className:"homepage-admin-nav-icon","aria-label":"Servicios",children:"\ud83d\udee0\ufe0f"}),(0,Tg.jsx)("span",{className:"homepage-admin-nav-text",children:"Servicios"})]}),(0,Tg.jsxs)("li",{onClick:()=>i("empleados"),className:"empleados"===n?"homepage-admin-nav-li selected":"homepage-admin-nav-li",children:[(0,Tg.jsx)("span",{className:"homepage-admin-nav-icon","aria-label":"Empleados",children:"\ud83d\udc65"}),(0,Tg.jsx)("span",{className:"homepage-admin-nav-text",children:"Empleados"})]}),(0,Tg.jsxs)("li",{onClick:()=>i("productos"),className:"productos"===n?"homepage-admin-nav-li selected":"homepage-admin-nav-li",children:[(0,Tg.jsx)("span",{className:"homepage-admin-nav-icon","aria-label":"Productos",children:(0,Tg.jsx)(T,{})}),(0,Tg.jsx)("span",{className:"homepage-admin-nav-text",children:"Productos"})]}),(0,Tg.jsxs)("li",{onClick:()=>i("info"),className:"info"===n?"homepage-admin-nav-li selected":"homepage-admin-nav-li",children:[(0,Tg.jsx)("span",{className:"homepage-admin-nav-icon","aria-label":"Informaci\xf3n",children:"\u2139\ufe0f"}),(0,Tg.jsx)("span",{className:"homepage-admin-nav-text",children:"Informaci\xf3n"})]})]})}),(0,Tg.jsxs)("button",{className:"homepage-admin-logout",onClick:async()=>{const e=xg();await rm(e),localStorage.clear(),sessionStorage.clear(),window.location.reload()},children:[(0,Tg.jsx)("span",{className:"homepage-admin-nav-icon","aria-label":"Salir",children:"\ud83d\udeaa"}),(0,Tg.jsx)("span",{className:"homepage-admin-logout-text",children:"Cerrar sesi\xf3n"})]})]}),(0,Tg.jsxs)("main",{className:"homepage-admin-main".concat(e?" comobar-expanded":""),children:[(0,Tg.jsxs)("header",{className:"homepage-admin-header",children:[(0,Tg.jsxs)("h1",{children:["\xa1Bienvenido, ",(Y=h,(Y?Y.split(" ")[0]:"")||"Administrador"),"!"]}),(0,Tg.jsx)("p",{children:"Aqu\xed puedes gestionar ventas, servicios y empleados."})]}),"ventas"===n&&(0,Tg.jsxs)("section",{className:"homepage-admin-section",children:[(0,Tg.jsx)("h2",{children:"Ventas"}),(0,Tg.jsxs)("div",{style:{fontWeight:600,marginBottom:"0.7em",color:"#2563eb",fontSize:"1.15em"},children:["Total generado: $",G.toLocaleString("es-CO")]}),(0,Tg.jsx)("div",{className:"homepage-admin-estado-filtros",children:W.map(e=>(0,Tg.jsx)("button",{className:"homepage-admin-estado-btn".concat(x===e?" selected":""),onClick:()=>k(e),children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},e))}),(0,Tg.jsx)("ul",{className:"homepage-admin-ventas-list",children:0===w.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()).filter(e=>{if("Todas"===x)return!0;return(e.status||e.estado||"").toUpperCase()===x.toUpperCase()}).length?(0,Tg.jsx)("div",{className:"homepage-admin-loading",children:"No hay ventas registradas."}):w.filter(e=>"PRODUCTOS"===(e.type||"").toUpperCase()).filter(e=>{if("Todas"===x)return!0;return(e.status||e.estado||"").toUpperCase()===x.toUpperCase()}).map(e=>{var t,n,r,i;const a=S[e.id]||{},o=N===e.id;return(0,Tg.jsxs)("li",{className:"homepage-admin-ventas-li",onClick:()=>A(o?null:e.id),children:[(0,Tg.jsxs)("div",{className:"homepage-admin-ventas-header",children:[(0,Tg.jsxs)("span",{children:["Carrito #",e.id]}),(0,Tg.jsx)("span",{className:"homepage-admin-ventas-arrow".concat(o?" expanded":""),children:"\u25b6"})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Estado:"})," ",(0,Tg.jsx)("span",{className:"homepage-admin-ventas-estado",children:e.status||e.estado||"Desconocido"})]}),o&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{className:"homepage-admin-ventas-detalle",children:[(0,Tg.jsx)("strong",{children:"Cliente:"})," ",a.name," ",a.lastName," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Email:"})," ",a.email," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",a.telefono," ",(0,Tg.jsx)("br",{}),a.direccion&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsx)("strong",{children:"Direcci\xf3n:"})," ",a.direccion," ",(0,Tg.jsx)("br",{})]})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Productos:"}),(0,Tg.jsx)("ul",{className:"homepage-admin-ventas-productos",children:Array.isArray(e.items)&&e.items.length>0?e.items.map((e,t)=>{var n,r,i,a;return(0,Tg.jsxs)("li",{className:"homepage-admin-ventas-producto",children:[e.url&&(0,Tg.jsx)("img",{src:e.url,alt:e.name,className:"homepage-admin-ventas-img"}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("div",{className:"homepage-admin-ventas-producto-nombre",children:e.name||"Producto"}),(0,Tg.jsxs)("div",{className:"homepage-admin-ventas-producto-detalle",children:["Cantidad: ",e.cantidad||1," \xa0|\xa0 Precio: $",null!==(n=null!==(r=null===(i=e.price)||void 0===i||null===(a=i.toLocaleString)||void 0===a?void 0:a.call(i))&&void 0!==r?r:e.price)&&void 0!==n?n:0]})]})]},t)}):(0,Tg.jsx)("li",{className:"homepage-admin-ventas-producto-sin",children:"Sin productos"})})]}),(0,Tg.jsxs)("div",{className:"homepage-admin-ventas-total",children:[(0,Tg.jsx)("strong",{children:"Total:"})," $",null!==(t=null!==(n=null===(r=e.total)||void 0===r||null===(i=r.toLocaleString)||void 0===i?void 0:i.call(r))&&void 0!==n?n:e.total)&&void 0!==t?t:"N/A"]}),e.createdAt&&(0,Tg.jsxs)("div",{className:"homepage-admin-ventas-fecha",children:[(0,Tg.jsx)("strong",{children:"Fecha:"})," ",H(e.createdAt)]})]})]},"".concat(e._usuario||"unknown","_").concat(e.id))})})]}),"servicios"===n&&(0,Tg.jsxs)("section",{className:"homepage-admin-section",children:[(0,Tg.jsx)("h2",{children:"Servicios"}),(0,Tg.jsxs)("div",{style:{fontWeight:600,marginBottom:"0.7em",color:"#2563eb",fontSize:"1.15em"},children:["Total generado: $",Q.toLocaleString("es-CO")]}),(0,Tg.jsx)("div",{className:"homepage-admin-estado-filtros",children:K.map(e=>(0,Tg.jsx)("button",{className:"homepage-admin-estado-btn".concat(C===e?" selected":""),onClick:()=>I(e),children:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},e))}),(0,Tg.jsx)("ul",{className:"homepage-admin-servicios-list",children:0===w.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()).filter(e=>{if("Todas"===C)return!0;return(e.status||e.estado||"").toUpperCase()===C.toUpperCase()}).length?(0,Tg.jsx)("div",{className:"homepage-admin-loading",children:"No hay servicios registrados."}):w.filter(e=>"PRODUCTOS"!==(e.type||"").toUpperCase()).filter(e=>{if("Todas"===C)return!0;return(e.status||e.estado||"").toUpperCase()===C.toUpperCase()}).map(e=>{const t=S[e.id]||{},n=O===e.id;return(0,Tg.jsxs)("li",{className:"homepage-admin-servicios-li",onClick:()=>P(n?null:e.id),children:[(0,Tg.jsxs)("div",{className:"homepage-admin-servicios-header",children:[(0,Tg.jsxs)("span",{children:["Ticket #",e.id]}),(0,Tg.jsx)("span",{className:"homepage-admin-servicios-arrow".concat(n?" expanded":""),children:"\u25b6"})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Estado:"})," ",(0,Tg.jsx)("span",{className:"homepage-admin-servicios-estado",children:e.status||e.estado||"Desconocido"})]}),n&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsxs)("div",{className:"homepage-admin-servicios-detalle",children:[(0,Tg.jsx)("strong",{children:"Cliente:"})," ",t.name," ",t.lastName," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Email:"})," ",t.email," ",(0,Tg.jsx)("br",{}),(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",t.telefono," ",(0,Tg.jsx)("br",{}),t.direccion&&(0,Tg.jsxs)(Tg.Fragment,{children:[(0,Tg.jsx)("strong",{children:"Direcci\xf3n:"})," ",t.direccion," ",(0,Tg.jsx)("br",{})]})]}),(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Tipo:"})," ",e.type||"N/A"]}),e.dispositivo&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Dispositivo:"})," ",e.dispositivo.marca," ",e.dispositivo.modelo," ",e.dispositivo.serie]}),e.problema&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Problema:"})," ",e.problema]}),e.como&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"\xbfC\xf3mo sucedi\xf3?:"})," ",e.como]}),e.createdAt&&(0,Tg.jsxs)("div",{className:"homepage-admin-servicios-fecha",children:[(0,Tg.jsx)("strong",{children:"Fecha de creaci\xf3n:"})," ",H(e.createdAt)]}),e.fechadelacita&&(0,Tg.jsxs)("div",{className:"homepage-admin-servicios-fecha-cita",children:[(0,Tg.jsx)("strong",{children:"Fecha de la cita:"})," ",H(e.fechadelacita)]}),(e.diagnostico||e.fechaDiagnostico||e.fechaReparacion||e.fechaEntregado)&&(0,Tg.jsxs)("div",{className:"homepage-admin-servicios-mantenimiento",children:[e.fechaDiagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha diagn\xf3stico:"})," ",(()=>{const t=new Date(e.fechaDiagnostico);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.diagnostico&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Diagn\xf3stico:"})," ",e.diagnostico]}),e.precio&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Precio:"})," ",e.precio?"$".concat(Number(e.precio).toLocaleString("es-CO")):"N/A"]}),e.fechaReparacion&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha reparaci\xf3n:"})," ",(()=>{const t=new Date(e.fechaReparacion);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]}),e.observaciones&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Pruebas de rendimiento / Observaciones:"})," ",e.observaciones]}),e.fechaEntregado&&(0,Tg.jsxs)("div",{children:[(0,Tg.jsx)("strong",{children:"Fecha entregado:"})," ",(()=>{const t=new Date(e.fechaEntregado);return"".concat(t.getDate()," de ").concat(["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][t.getMonth()]," del ").concat(t.getFullYear())})()]})]})]})]},"".concat(e._usuario||"unknown","_").concat(e.id))})})]}),"empleados"===n&&(0,Tg.jsxs)("section",{className:"homepage-admin-section",children:[(0,Tg.jsx)("h2",{children:"Empleados"}),(0,Tg.jsx)("button",{className:"homepage-admin-btn-add",onClick:()=>m(!0),children:"+ Agregar empleado"}),p&&(0,Tg.jsx)("div",{className:"editar-empleado-overlay",onClick:e=>{e.target.classList.contains("editar-empleado-overlay")&&m(!1)},children:(0,Tg.jsxs)("form",{className:"editar-empleado-modal",onClick:e=>e.stopPropagation(),onSubmit:async e=>{if(e.preventDefault(),g.name&&g.email&&g.rol){b(!0);try{const e=new Date,t=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n="".concat(e.getDate()," de ").concat(t[e.getMonth()]," de ").concat(e.getFullYear(),", ").concat(e.toLocaleTimeString("es-CO")," UTC").concat(-e.getTimezoneOffset()/60);await kd(Au(Zh,"EMPLEADOS",g.email),c(c({},g),{},{fecha_creacion_:n,timestamp:Ad()})),o(e=>[...e,c(c({},g),{},{fecha_creacion_:n})]),m(!1),v({name:"",email:"",rol:"",telefono:""})}catch(t){alert("Error al agregar empleado: "+t.message)}b(!1)}else alert("Completa todos los campos obligatorios.")},children:[(0,Tg.jsx)("div",{className:"editar-empleado-modal-title",children:"Agregar empleado"}),(0,Tg.jsxs)("label",{children:["Nombre:",(0,Tg.jsx)("input",{type:"text",value:g.name,onChange:e=>v(c(c({},g),{},{name:e.target.value})),className:"editar-empleado-input",autoFocus:!0,required:!0})]}),(0,Tg.jsxs)("label",{children:["Rol:",(0,Tg.jsxs)("select",{value:g.rol,onChange:e=>v(c(c({},g),{},{rol:e.target.value})),className:"editar-empleado-select",required:!0,children:[(0,Tg.jsx)("option",{value:"",children:"Selecciona rol"}),(0,Tg.jsx)("option",{value:"ADMINISTRADOR",children:"ADMINISTRADOR"}),(0,Tg.jsx)("option",{value:"TECNICO",children:"TECNICO"})]})]}),(0,Tg.jsxs)("label",{children:["Tel\xe9fono:",(0,Tg.jsx)("input",{type:"text",value:g.telefono,onChange:e=>v(c(c({},g),{},{telefono:e.target.value})),className:"editar-empleado-input"})]}),(0,Tg.jsxs)("label",{children:["Email:",(0,Tg.jsx)("input",{type:"email",value:g.email,onChange:e=>v(c(c({},g),{},{email:e.target.value})),className:"editar-empleado-input",required:!0})]}),(0,Tg.jsxs)("div",{className:"editar-empleado-modal-btns",children:[(0,Tg.jsx)("button",{type:"submit",className:"editar-empleado-btn-guardar",disabled:y,children:y?"Agregando...":"Agregar"}),(0,Tg.jsx)("button",{type:"button",className:"editar-empleado-btn-cancelar",onClick:()=>m(!1),children:"Cancelar"})]})]})}),s?(0,Tg.jsx)("div",{className:"homepage-admin-loading",children:"Cargando empleados..."}):0===a.length?(0,Tg.jsx)("div",{className:"homepage-admin-loading",children:"No hay empleados registrados."}):(0,Tg.jsx)("div",{className:"homepage-admin-empleados-list",children:a.map(e=>(0,Tg.jsxs)("div",{className:"homepage-admin-empleado-card",children:[(0,Tg.jsx)("div",{className:"homepage-admin-empleado-nombre",children:e.name}),(0,Tg.jsx)("div",{className:"homepage-admin-empleado-email",children:e.email}),(0,Tg.jsxs)("div",{className:"homepage-admin-empleado-rol",children:[(0,Tg.jsx)("strong",{children:"Rol:"})," ",e.rol]}),(0,Tg.jsxs)("div",{className:"homepage-admin-empleado-tel",children:[(0,Tg.jsx)("strong",{children:"Tel\xe9fono:"})," ",e.telefono]}),e.fecha_creacion_&&(0,Tg.jsxs)("div",{className:"homepage-admin-empleado-fecha",children:[(0,Tg.jsx)("strong",{children:"Fecha de creaci\xf3n:"})," ",q(e.fecha_creacion_)]}),(0,Tg.jsxs)("div",{className:"homepage-admin-empleado-btns",children:[(0,Tg.jsx)("button",{className:"homepage-admin-btn-editar",onClick:()=>d(e),children:"Editar"}),(0,Tg.jsx)("button",{className:"homepage-admin-btn-borrar",onClick:()=>B(e),children:"Borrar"})]})]},e.email))}),u&&(0,Tg.jsx)("div",{className:"editar-empleado-overlay",onClick:e=>{e.target.classList.contains("editar-empleado-overlay")&&d(null)},children:(0,Tg.jsxs)("form",{className:"editar-empleado-modal",onClick:e=>e.stopPropagation(),onSubmit:async e=>{e.preventDefault();try{await Td(Au(Zh,"EMPLEADOS",u.email),{name:u.name,telefono:u.telefono,rol:u.rol}),o(e=>e.map(e=>e.email===u.email?c(c({},e),u):e)),d(null)}catch(t){alert("Error al editar empleado: "+t.message)}},children:[(0,Tg.jsx)("div",{className:"editar-empleado-modal-title",children:"Editar empleado"}),(0,Tg.jsxs)("label",{children:["Nombre:",(0,Tg.jsx)("input",{type:"text",value:u.name,onChange:e=>d(c(c({},u),{},{name:e.target.value})),className:"editar-empleado-input",autoFocus:!0})]}),(0,Tg.jsxs)("label",{children:["Rol:",(0,Tg.jsxs)("select",{value:u.rol,onChange:e=>d(c(c({},u),{},{rol:e.target.value})),className:"editar-empleado-select",required:!0,children:[(0,Tg.jsx)("option",{value:"",children:"Selecciona rol"}),(0,Tg.jsx)("option",{value:"ADMINISTRADOR",children:"ADMINISTRADOR"}),(0,Tg.jsx)("option",{value:"TECNICO",children:"TECNICO"})]})]}),(0,Tg.jsxs)("label",{children:["Tel\xe9fono:",(0,Tg.jsx)("input",{type:"text",value:u.telefono,onChange:e=>d(c(c({},u),{},{telefono:e.target.value})),className:"editar-empleado-input"})]}),(0,Tg.jsxs)("label",{children:["Email:",(0,Tg.jsx)("input",{type:"text",value:u.email,readOnly:!0,className:"editar-empleado-input editar-empleado-input-readonly"})]}),u.fecha_creacion_&&(0,Tg.jsxs)("label",{children:["Fecha de creaci\xf3n:",(0,Tg.jsx)("input",{type:"text",value:q(u.fecha_creacion_),readOnly:!0,className:"editar-empleado-input editar-empleado-input-readonly"})]}),(0,Tg.jsxs)("div",{className:"editar-empleado-modal-btns",children:[(0,Tg.jsx)("button",{type:"submit",className:"editar-empleado-btn-guardar",children:"Guardar"}),(0,Tg.jsx)("button",{type:"button",className:"editar-empleado-btn-cancelar",onClick:()=>d(null),children:"Cancelar"})]})]})})]}),"productos"===n&&(0,Tg.jsx)(Ov,{}),"info"===n&&(0,Tg.jsxs)("section",{className:"homepage-admin-section",children:[(0,Tg.jsx)("h2",{children:"Informaci\xf3n de Redes Sociales"}),j?(0,Tg.jsx)("div",{className:"homepage-admin-loading",children:"Cargando informaci\xf3n..."}):(0,Tg.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),U(!0);try{await kd(Au(Zh,"REDES","REDESSOCIALES"),D),F(!1),av.success("Informaci\xf3n actualizada correctamente.")}catch(t){av.error("Error al guardar informaci\xf3n: "+t.message)}U(!1)},style:{maxWidth:480},children:[(0,Tg.jsxs)("label",{children:["Correo:",(0,Tg.jsx)("input",{type:"email",value:D.correo||"",onChange:e=>R(c(c({},D),{},{correo:e.target.value})),className:"editar-empleado-input",disabled:!M})]}),(0,Tg.jsxs)("label",{children:["Facebook:",(0,Tg.jsx)("input",{type:"url",value:D.facebook||"",onChange:e=>R(c(c({},D),{},{facebook:e.target.value})),className:"editar-empleado-input",disabled:!M})]}),(0,Tg.jsxs)("label",{children:["Twitter:",(0,Tg.jsx)("input",{type:"url",value:D.twitter||"",onChange:e=>R(c(c({},D),{},{twitter:e.target.value})),className:"editar-empleado-input",disabled:!M})]}),(0,Tg.jsxs)("label",{children:["Instagram:",(0,Tg.jsx)("input",{type:"url",value:D.instagram||"",onChange:e=>R(c(c({},D),{},{instagram:e.target.value})),className:"editar-empleado-input",disabled:!M})]}),(0,Tg.jsxs)("label",{children:["WhatsApp:",(0,Tg.jsx)("input",{type:"text",value:D.whatsapp||"",onChange:e=>R(c(c({},D),{},{whatsapp:e.target.value})),className:"editar-empleado-input",disabled:!M})]}),(0,Tg.jsxs)("div",{style:{marginTop:18,display:"flex",gap:12},children:[(0,Tg.jsx)("button",{type:"button",className:"editar-empleado-btn-guardar",onClick:()=>F(!M),children:M?"Cancelar":"Editar"}),(0,Tg.jsx)("button",{type:"submit",className:"editar-empleado-btn-guardar",style:{display:M?"inline-block":"none"},disabled:z,children:z?"Guardando...":"Guardar"})]})]})]})]}),(0,Tg.jsx)(mv,{})]});var Y}const Dv=()=>(0,Tg.jsxs)("div",{className:"carga-container",children:[(0,Tg.jsx)("div",{className:"spinner"}),(0,Tg.jsx)("p",{children:"Cargando..."})]}),Rv=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:o}=t;n(e),r(e),i(e),a(e),o(e)})},jv=()=>{const[e,t]=(0,r.useState)(!0),[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{const e=function(e,t,n,r){return he(e).onAuthStateChanged(t,n,r)}(xg(),async e=>{if(!e)return i("user"),o(null),void t(!1);t(!0);try{const t=Au(Lu(),"EMPLEADOS",e.email),n=await Sd(t);let r="USER";if(n.exists()){const e=n.data().rol;"TECNICO"===e?(r="TECNICO",i("technical")):"ADMINISTRADOR"===e?(r="ADMINISTRADOR",i("admin")):i("user")}else i("user");o({email:e.email,rol:r})}catch(n){i("user"),o({email:e.email,rol:"USER"})}t(!1)});return()=>e()},[]),e?(0,Tg.jsx)(Dv,{}):(0,Tg.jsx)(r.StrictMode,{children:"admin"===n?(0,Tg.jsx)(Pv,{user:a}):"technical"===n?(0,Tg.jsx)(Cv,{user:a}):(0,Tg.jsx)(Tv,{user:a})})};i.createRoot(document.getElementById("root")).render((0,Tg.jsx)(jv,{})),window.location.pathname.startsWith("/PelkTech")||window.location.replace("/PelkTech"+window.location.search+window.location.hash),Rv()})();
//# sourceMappingURL=main.ee5f7d1c.js.map